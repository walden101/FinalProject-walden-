!function(bdpa,undefined){function toString(a){return Object.prototype.toString.call(a)}function core_array_isArray(a){var b=Array.isArray;return b?b(a):"[object Function]"===toString(a)}function core_array_unique(a){for(var b,c=[],d={},e=0;e<a.length;e++)b=a[e],b in d||(d[b]=!0,c.push(b));return c}function core_url_getQueryParam(a,b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c="[\\?&#]"+b+"=([^&#]*)",d=new RegExp(c),e=d.exec(a);return null===e||e&&"string"!=typeof e[1]&&e[1].length?"":decodeURIComponent(e[1]).replace(/\+/g," ")}function core_isFunction(a){return"[object Function]"===toString(a)}function core_object_isObject(a){return"[object Object]"===toString(a)}function core_each(a,b,c){if(null==a)return!1;if(nativeForEach&&a.forEach===nativeForEach)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,e=a.length;e>d;d++)if(d in a&&b.call(c,a[d],d,a)===bdp_breaker)return!1}else for(var f in a)if(hasOwnProperty.call(a,f)&&b.call(c,a[f],f,a)===bdp_breaker)return!1}function core_object_extend(a){return core_each(slice.call(arguments,1),function(b){for(var c in b)void 0!==b[c]&&(a[c]=b[c])}),a}function core_getRfKwd(){var a=document.referrer;return/^https?:\/\/\w*.baidu.com/.test(a)?core_url_getQueryParam(a,"wd"):/^https?:\/\/\w*.haosou.com/.test(a)?core_url_getQueryParam(a,"q"):/^https?:\/\/\w*.so.com/.test(a)?core_url_getQueryParam(a,"q"):/^https?:\/\/\^w*.sogou.com/.test(a)?core_url_getQueryParam(a,"query"):/^https?:\/\/wap.sogou.com/.test(a)?core_url_getQueryParam(a,"keyword"):/^https?:\/\/m.sm.cn/.test(a)?core_url_getQueryParam(a,"q"):void 0}function core_object_coverExtend(a){return core_each(slice.call(arguments,1),function(b){for(var c in b)void 0!==b[c]&&void 0===a[c]&&(a[c]=b[c])}),a}function core_object_isEmptyObject(a){if(core_object_isObject(a)){for(var b in a)if(hasOwnProperty.call(a,b))return!1;return!0}return!1}function core_string_isString(a){return"[object String]"==toString(a)}function core_isNumber(a){return"[object Number]"==toString(a)&&/[\d\.]+/.test(String(a))}function core_isBoolean(a){return"[object Boolean]"==toString(a)}function core_date_isDate(a){return"[object Date]"==toString(a)}function core_strip_bdpProperties(a){return core_object_isObject(a)?(core_each(a,function(b,c){if(core_array_isArray(b)){var d=[];core_each(b,function(a){core_string_isString(a)?d.push(a):logger.info("您的数据-",b,"的数组里的值必须是字符串,已经将其删除")}),0!==d.length?a[c]=d:(delete a[c],logger.info("已经删除空的数组"))}core_string_isString(b)||core_isNumber(b)||core_date_isDate(b)||core_isBoolean(b)||core_array_isArray(b)||(logger.info("您的数据-",b,"-格式不满足要求，我们已经将其删除"),delete a[c])}),a):a}function core_array_indexOf(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0,d=b.length;d>c;++c)if(b[c]===a)return c;return-1}function core_array_inArray(a,b){return core_array_indexOf(a,b)>-1}function bdpa_bdpEvent_handleProps(a){for(var b in a)core_array_inArray(b,bdp_defaultProps)&&(logger.info("不可以覆盖预设属性:"+b),delete a[b])}function bdpa_bdpEvent_check(a){bdpa_bdpEvent_handleProps(a.properties||a.propertiesMust);var b=!0;for(var c in a)if(!bdpa_bdpEvent_checkOption.check(c,a[c]))return!1;return b}function bdpa_exports_register(a){bdpa_bdpEvent_check({properties:a})?bdpa_store.setProps(a):logger.info("register输入的参数有误")}function core_date_now(){var a=1*new Date;return a}function bdpa_session_handle(a,b){var c,d,e,f=core_date_now(),g=JSON.parse(core_cookie.get(bdpa_session_key));g&&(c=1*g.session_time,d=g.session_id);var h=c&&f-c>60*bdpa_session_timeout*1e3;h?(bdpa_session_isExpired=!0,b||(bdpa_session_hasBeenExpired=1)):g&&(bdpa_session_isExpired=!1),b?(void 0==bdpa_session_isExpired||bdpa_session_isExpired||g&&1==g.session_hasBeenExpired?(e=1,bdpa_session_id=core_UUID()):(e=0,bdpa_session_id=d),bdpa_exports_register({$is_first_session:e}),bdpa_session_isExpired=!1,bdpa_session_hasBeenExpired=0,bdpa_session_set(f,bdpa_session_id,bdpa_session_hasBeenExpired)):(bdpa_session_id=d||core_UUID(),bdpa_session_set(f,bdpa_session_id,bdpa_session_hasBeenExpired))}function bdpa_session_init(){bdpa_session_bindFuns()}function bdpa_session_bindFuns(){core_event_addEventListener(document,"mouseover",bdpa_session_handle),core_event_addEventListener(document,"touchstart",bdpa_session_handle)}function bdpa_session_set(a,b,c){core_cookie.set(bdpa_session_key,JSON.stringify({session_time:a,session_id:b,session_hasBeenExpired:c}))}function core_date_formatDate(a){function b(a){return 10>a?"0"+a:a}return a.getFullYear()+"-"+b(a.getMonth()+1)+"-"+b(a.getDate())+" "+b(a.getHours())+":"+b(a.getMinutes())+":"+b(a.getSeconds())+"."+b(a.getMilliseconds())}function core_date_searchObjDate(a){core_object_isObject(a)&&core_each(a,function(b,c){core_object_isObject(b)?core_date_searchObjDate(a[c]):core_date_isDate(b)&&(a[c]=core_date_formatDate(b))})}function core_string_formatString(a,b){return a.length>b?(logger.info("字符串长度超过限制，已经做截取--"+a),a.slice(0,b)):a}function core_object_searchObjString(a,b){core_object_isObject(a)&&core_each(a,function(c,d){core_object_isObject(c)?core_object_searchObjString(a[d],b):core_string_isString(c)&&(a[d]=core_string_formatString(c,b))})}function bdpa_sendState_getSendCall(a,b){++bdpa_sendState_base_receive;var c,d="_state"+bdpa_sendState_base_receive,e=this;this[d]=document.createElement("img"),this[d].onload=this[d].onerror=function(a){e[d].onload=null,e[d].onerror=null,e.state=null,++bdpa_sendState_base_complete,"function"==typeof b&&b()},a._nocache=(String(Math.random())+String(Math.random())+String(Math.random())).slice(2,15),logger.info(a),a=JSON.stringify(a),c=encodeURIComponent(a),-1!==bdpa.para.server_url.indexOf("?")?this[d].src=bdpa.para.server_url+"&data="+c:this[d].src=bdpa.para.server_url+"?data="+c}function core_io_ajax(a){function b(a){try{return JSON.parse(a)}catch(b){return{}}}var c=core_io_xhr(a.cors);a.type||(a.type=a.data?"POST":"GET"),a=core_object_extend({success:function(){},error:function(){}},a),c.onreadystatechange=function(){4==c.readyState&&(c.status>=200&&c.status<300||304==c.status?a.success(b(c.responseText)):a.error(b(c.responseText),c.status),c.onreadystatechange=null,c.onload=null)},c.open(a.type,a.url,!0);try{if(c.withCredentials=!0,core_object_isObject(a.header))for(var d in a.header)c.setRequestHeader(d,a.header[d]);a.data&&(c.setRequestHeader("X-Requested-With","XMLHttpRequest"),"application/json"===a.contentType?c.setRequestHeader("Content-type","application/json; charset=UTF-8"):c.setRequestHeader("Content-type","application/x-www-form-urlencoded"))}catch(e){}c.send(a.data||null)}function core_io_ijax(a){core_io_ijax_iframe||(core_io_ijax_iframe=document.createElement("IFRAME"),core_io_ijax_iframe.style.width="0",core_io_ijax_iframe.style.height="0"),core_io_ijax_iframe.src=a,head.appendChild(core_io_ijax_iframe)}function bdpa_bdpEvent_send(a,b){var c=core_date_now();bdpa_session_handle(null,!0);var d={distinct_id:bdpa_store.getDistinctId(),session_id:bdpa_session_id,token:bdpa.para.token,lib:{$lib:"web",$lib_method:"code",$lib_version:String(LIB_VERSION)},properties:{},time:c};if("string"!=typeof bdpa_store.getDistinctId()||""==typeof bdpa_store.getDistinctId()){var e="";switch(bdpa_store.getDistinctId()){case null:e="null";break;case void 0:e="undefined";break;case"":e="空";break;default:e=String(bdpa_store.getDistinctId())}error_msg.push("distinct_id_wrong"+e+"-"+(new Date).getTime())}if(core_object_extend(d,a),error_msg.length>0&&(d.jssdk_error=error_msg.join("--")),core_object_isObject(a.properties)&&!core_object_isEmptyObject(a.properties)&&core_object_extend(d.properties,a.properties),core_object_isObject(b)&&core_object_extend(d.lib,b),a.type&&"profile"===a.type.slice(0,7)?("profile_set"==a.type||"profile_set_once"==a.type)&&(d.properties=core_object_extend(JSON.parse(core_cookie.get(bdp_first_referrer_key)),d.properties)):d.properties=core_object_extend({},bdpa_info.properties(),bdpa_store.getProps(),bdpa_store.getSessionProps(),bdpa_info.currentProps,d.properties),d.properties.$time&&core_date_isDate(d.properties.$time)?(d.time=1*d.properties.$time,delete d.properties.$time):bdpa.para.use_client_time&&(d.time=1*new Date),core_date_searchObjDate(d),core_object_searchObjString(d,bdpa.para.max_string_length),bdpa_newUser.checkIsAddSign(d),bdpa_newUser.checkIsFirstTime(d),bdpa.para.debug_mode){bdpa.data=d;var f,g=encodeURIComponent(JSON.stringify(d));f=-1!==bdpa.para.server_url.indexOf("?")?bdpa.para.server_url+"&data="+g:bdpa.para.server_url+"?data="+g,core_io_ijax(f),logger.info(d)}else bdpa_sendState_getSendCall(d,b)}function bdpa_exports_setOnceProfile(a,b){bdpa_bdpEvent_check({propertiesMust:a})&&bdpa_bdpEvent_send({type:"profile_set_once",properties:a},b)}function bdpa_exports_track(a,b,c){bdpa_bdpEvent_handleProps(b),bdpa_bdpEvent_check({event:a,properties:b})&&bdpa_bdpEvent_send({type:"track",event:a,properties:b},c)}function core_string_isJSONString(a){try{JSON.parse(a)}catch(b){return!1}return!0}function bdpa_appInfo_android_get(){"object"==typeof window.BdpData_APP_JS_Bridge&&window.BdpData_APP_JS_Bridge.bdpdata_call_app&&(bdpa_appInfo_base_Info=BdpData_APP_JS_Bridge.bdpdata_call_app(),core_string_isJSONString(bdpa_appInfo_base_Info)&&(bdpa_appInfo_base_Info=JSON.parse(bdpa_appInfo_base_Info)))}function bdpa_appInfo_ios_calliOS(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){var a=document.createElement("iframe");a.setAttribute("src","bdpanalytics://getAppInfo"),document.documentElement.appendChild(a),a.parentNode.removeChild(a),a=null}}function bdpa_appInfo_ios_setAppInfo(a){bdpa_appInfo_base_Info=a,core_string_isJSONString(bdpa_appInfo_base_Info)&&(bdpa_appInfo_base_Info=JSON.parse(bdpa_appInfo_base_Info)),bdpa_appInfo_base_todo&&todo(bdpa_appInfo_base_Info)}function bdpa_appInfo_ios_exports(a){bdpa_appInfo_ios_setAppInfo(a)}function bdpa_exports_quick(){var a=slice.call(arguments),b=a[0],c=a.slice(1);return"string"==typeof b&&bdpa_commonWays[b]?bdpa_commonWays[b].apply(bdpa_commonWays,c):void("function"==typeof b?b.apply(bdpa,c):logger.info("quick方法中没有这个功能"+a[0]))}function bdpa_exports_setProfile(a,b){bdpa_bdpEvent_check({propertiesMust:a})&&bdpa_bdpEvent_send({type:"profile_set",properties:a},b)}function bdpa_exports_appendProfile(a,b){bdpa_bdpEvent_check({propertiesMust:a})&&(core_each(a,function(b,c){core_string_isString(b)?a[c]=[b]:core_array_isArray(b)||(delete a[c],logger.info("appendProfile属性的值必须是字符串或者数组"))}),core_object_isEmptyObject(a)||bdpa_bdpEvent_send({type:"profile_append",properties:a},b))}function bdpa_exports_incrementProfile(a,b){function c(a){for(var b in a)if(!/-*\d+/.test(String(a[b])))return!1;return!0}var d=a;core_string_isString(a)&&(a={},a[d]=1),bdpa_bdpEvent_check({propertiesMust:a})&&(c(a)?bdpa_bdpEvent_send({type:"profile_increment",properties:a},b):logger.info("profile_increment的值只能是数字"))}function bdpa_exports_deleteProfile(a){bdpa_bdpEvent_handleProps(a),bdpa_bdpEvent_send({type:"profile_delete"},a),bdpa_store.set("distinct_id",core_UUID())}function bdpa_exports_unsetProfile(a,b){var c=a,d={};core_string_isString(a)&&(a=[],a.push(c)),core_array_isArray(a)?(core_each(a,function(a){core_string_isString(a)?d[a]=!0:logger.info("profile_unset给的数组里面的值必须时string,已经过滤掉",a)}),bdpa_bdpEvent_send({type:"profile_unset",properties:d},b)):logger.info("profile_unset的参数是数组")}function bdpa_exports_identify(a,b){"undefined"==typeof a?bdpa_store.set("distinct_id",core_UUID()):bdpa_bdpEvent_check({distinct_id:a})?b===!0?bdpa_store.set("distinct_id",a):bdpa_store.change("distinct_id",a):logger.info("identify的参数必须是字符串")}function bdpa_exports_trackSignup(a,b,c,d){bdpa_bdpEvent_check({distinct_id:a,event:b,properties:c})&&(bdpa_bdpEvent_send({original_id:bdpa_store.getDistinctId(),distinct_id:a,type:"track_signup",event:b,properties:c},d),bdpa_store.set("distinct_id",a))}function bdpa_exports_registerPage(a){bdpa_bdpEvent_check({properties:a})?core_object_extend(bdpa_info.currentProps,a):logger.info("register输入的参数有误")}function bdpa_exports_registerOnce(a){bdpa_bdpEvent_check({properties:a})?bdpa_store.setPropsOnce(a):logger.info("registerOnce输入的参数有误")}function bdpa_exports_registerSession(a){bdpa_bdpEvent_check({properties:a})?bdpa_store.setSessionProps(a):logger.info("registerSession输入的参数有误")}function bdpa_exports_registerSessionOnce(a){bdpa_bdpEvent_check({properties:a})?bdpa_store.setSessionPropsOnce(a):logger.info("registerSessionOnce输入的参数有误")}function bdpa_exports_getAppStatus(a){return bdpa_appInfo_ios_calliOS(),bdpa_appInfo_android_get(),a?void(null===bdpa_appInfo_base_Info?bdpa_appInfo_base_todo=a:a(bdpa_appInfo_base_Info)):bdpa_appInfo_base_Info}function bdpa_init(){bdpa_info.initPage(),bdpa_store.init(),core_each(bdpa._q,function(a){bdpa[a[0]].apply(bdpa,slice.call(a[1]))}),bdpa.quick("autoTrack")}var ArrayProto=Array.prototype,FuncProto=Function.prototype,ObjProto=Object.prototype,slice=ArrayProto.slice,hasOwnProperty=ObjProto.hasOwnProperty,nativeForEach=ArrayProto.forEach,isAddEventListener=document.addEventListener,head=document.head||getElementsByTagName("head")[0]||document.documentElement,logger="object"==typeof logger?logger:{};if(logger.info=function(){if(!bdpa.para.show_log)return!1;if("object"==typeof console&&console.log)try{return console.log.apply(console,arguments)}catch(a){console.log(arguments[0])}},bdpa=window[bdpa],bdpa._t=bdpa._t||1*new Date,"function"!=typeof bdpa&&"object"!=typeof bdpa||bdpa.has_load_sdk)return!1;var LIB_VERSION="@@bdpa_sdk_v1.0.0",bdp_breaker={},bdp_first_referrer_key="__firstReferrerKey__",SERVER_URL="//analytics.bdp.cn",DEBUG_SERVER_URL="//analytics.bdp.cn/api/check",error_msg=[],is_first_visitor=!1,bdpa_session_isExpired,source_channel_standard="semd sema semp semm semc semk",bdp_defaultProps=["$browser","$browser_version","$os_language","$first_visit_time","$is_first_day","$is_first_time","$model","$os","$os_version","$referrer","$referrer_host","$referrer_keyword","$screen_height","$screen_width","$title","$url","$path","$useragent"];bdpa.lib_version=LIB_VERSION,bdpa.has_load_sdk=!0,bdpa.para=bdpa.para||{},bdpa.para_default={max_referrer_string_length:500,max_string_length:1e3,cross_subdomain:!0,show_log:!0,debug_mode:!1,debug_mode_upload:!1,session_time:0,use_client_time:!1,source_channel:[],vtrack_ignore:{}};for(var i in bdpa.para_default)void 0===bdpa.para[i]&&(bdpa.para[i]=bdpa.para_default[i]);bdpa.para.debug_mode?bdpa.para.server_url=DEBUG_SERVER_URL:bdpa.para.server_url=SERVER_URL,bdpa.para.noCache===!0?bdpa.para.noCache="?"+(new Date).getTime():bdpa.para.noCache="";var core_url_url=function(){function a(){return new RegExp(/(.*?)\.?([^\.]*?)\.?(com|net|org|biz|ws|in|me|co\.uk|co|org\.uk|ltd\.uk|plc\.uk|me\.uk|edu|mil|br\.com|cn\.com|eu\.com|hu\.com|no\.com|qc\.com|sa\.com|se\.com|se\.net|us\.com|uy\.com|ac|co\.ac|gv\.ac|or\.ac|ac\.ac|af|am|as|at|ac\.at|co\.at|gv\.at|or\.at|asn\.au|com\.au|edu\.au|org\.au|net\.au|id\.au|be|ac\.be|adm\.br|adv\.br|am\.br|arq\.br|art\.br|bio\.br|cng\.br|cnt\.br|com\.br|ecn\.br|eng\.br|esp\.br|etc\.br|eti\.br|fm\.br|fot\.br|fst\.br|g12\.br|gov\.br|ind\.br|inf\.br|jor\.br|lel\.br|med\.br|mil\.br|net\.br|nom\.br|ntr\.br|odo\.br|org\.br|ppg\.br|pro\.br|psc\.br|psi\.br|rec\.br|slg\.br|tmp\.br|tur\.br|tv\.br|vet\.br|zlg\.br|br|ab\.ca|bc\.ca|mb\.ca|nb\.ca|nf\.ca|ns\.ca|nt\.ca|on\.ca|pe\.ca|qc\.ca|sk\.ca|yk\.ca|ca|cc|ac\.cn|com\.cn|edu\.cn|gov\.cn|org\.cn|bj\.cn|sh\.cn|tj\.cn|cq\.cn|he\.cn|nm\.cn|ln\.cn|jl\.cn|hl\.cn|js\.cn|zj\.cn|ah\.cn|gd\.cn|gx\.cn|hi\.cn|sc\.cn|gz\.cn|yn\.cn|xz\.cn|sn\.cn|gs\.cn|qh\.cn|nx\.cn|xj\.cn|tw\.cn|hk\.cn|mo\.cn|cn|cx|cz|de|dk|fo|com\.ec|tm\.fr|com\.fr|asso\.fr|presse\.fr|fr|gf|gs|co\.il|net\.il|ac\.il|k12\.il|gov\.il|muni\.il|ac\.in|co\.in|org\.in|ernet\.in|gov\.in|net\.in|res\.in|is|it|ac\.jp|co\.jp|go\.jp|or\.jp|ne\.jp|ac\.kr|co\.kr|go\.kr|ne\.kr|nm\.kr|or\.kr|li|lt|lu|asso\.mc|tm\.mc|com\.mm|org\.mm|net\.mm|edu\.mm|gov\.mm|ms|nl|no|nu|pl|ro|org\.ro|store\.ro|tm\.ro|firm\.ro|www\.ro|arts\.ro|rec\.ro|info\.ro|nom\.ro|nt\.ro|se|si|com\.sg|org\.sg|net\.sg|gov\.sg|sk|st|tf|ac\.th|co\.th|go\.th|mi\.th|net\.th|or\.th|tm|to|com\.tr|edu\.tr|gov\.tr|k12\.tr|net\.tr|org\.tr|com\.tw|org\.tw|net\.tw|ac\.uk|uk\.com|uk\.net|gb\.com|gb\.net|vg|sh|kz|ch|info|ua|gov|name|pro|ie|hk|com\.hk|org\.hk|net\.hk|edu\.hk|us|tk|cd|by|ad|lv|eu\.lv|bz|es|jp|cl|ag|mobi|eu|co\.nz|org\.nz|net\.nz|maori\.nz|iwi\.nz|io|la|md|sc|sg|vc|tw|travel|my|se|tv|pt|com\.pt|edu\.pt|asia|fi|com\.ve|net\.ve|fi|org\.ve|web\.ve|info\.ve|co\.ve|tel|im|gr|ru|net\.ru|org\.ru|hr|com\.hr|ly|xyz)$/)}function b(a){return decodeURIComponent(a.replace(/\+/g," "))}function c(a,b){var c=a.charAt(0),d=b.split(c);return c===a?d:(a=parseInt(a.substring(1),10),d[0>a?d.length+a:a-1])}function d(a,c){for(var d=a.charAt(0),e=c.split("&"),f=[],g={},h=[],i=a.substring(1),j=0,k=e.length;k>j;j++)if(f=e[j].match(/(.*?)=(.*)/),f||(f=[e[j],e[j],""]),""!==f[1].replace(/\s/g,"")){if(f[2]=b(f[2]||""),i===f[1])return f[2];h=f[1].match(/(.*)\[([0-9]+)\]/),h?(g[h[1]]=g[h[1]]||[],g[h[1]][h[2]]=f[2]):g[f[1]]=f[2]}return d===a?g:g[i]}return function(b,e){var f,g={};if("tld?"===b)return a();if(e=e||window.location.toString(),!b)return e;if(b=b.toString(),f=e.match(/^mailto:([^\/].+)/))g.protocol="mailto",g.email=f[1];else{if((f=e.match(/(.*?)\/#\!(.*)/))&&(e=f[1]+f[2]),(f=e.match(/(.*?)#(.*)/))&&(g.hash=f[2],e=f[1]),g.hash&&b.match(/^#/))return d(b,g.hash);if((f=e.match(/(.*?)\?(.*)/))&&(g.query=f[2],e=f[1]),g.query&&b.match(/^\?/))return d(b,g.query);if((f=e.match(/(.*?)\:?\/\/(.*)/))&&(g.protocol=f[1].toLowerCase(),e=f[2]),(f=e.match(/(.*?)(\/.*)/))&&(g.path=f[2],e=f[1]),g.path=(g.path||"").replace(/^([^\/])/,"/$1").replace(/\/$/,""),b.match(/^[\-0-9]+$/)&&(b=b.replace(/^([^\/])/,"/$1")),b.match(/^\//))return c(b,g.path.substring(1));if(f=c("/-1",g.path.substring(1)),f&&(f=f.match(/(.*?)\.(.*)/))&&(g.file=f[0],g.filename=f[1],g.fileext=f[2]),(f=e.match(/(.*)\:([0-9]+)$/))&&(g.port=f[2],e=f[1]),(f=e.match(/(.*?)@(.*)/))&&(g.auth=f[1],e=f[2]),g.auth&&(f=g.auth.match(/(.*)\:(.*)/),g.user=f?f[1]:g.auth,g.pass=f?f[2]:undefined),g.hostname=e.toLowerCase(),"."===b.charAt(0))return c(b,g.hostname);a()&&(f=g.hostname.match(a()),f&&(g.tld=f[3],g.domain=f[2]?f[2]+"."+f[3]:undefined,g.sub=f[1]||undefined)),g.port=g.port||("https"===g.protocol?"443":"80"),g.protocol=g.protocol||("443"===g.port?"https":"http")}return b in g?g[b]:"{}"===b?g:undefined}}(),core_detector={};!function(){function a(a,b){for(var c=0,d=a.length;d>c&&b.call(a,a[c],c)!==!1;c++);}function b(a){if(!l.test(a))return null;var b,c,d,e,f;if(-1!==a.indexOf("trident/")&&(b=/\btrident\/([0-9.]+)/.exec(a),b&&b.length>=2)){d=b[1];var g=b[1].split(".");g[0]=parseInt(g[0],10)+4,f=g.join(".")}b=l.exec(a),e=b[1];var h=b[1].split(".");return"undefined"==typeof f&&(f=e),h[0]=parseInt(h[0],10)-4,c=h.join("."),"undefined"==typeof d&&(d=c),{browserVersion:f,browserMode:e,engineVersion:d,engineMode:c,compatible:d!==c}}function c(a){if(h)try{var b=h.twGetRunPath.toLowerCase(),c=h.twGetSecurityID(g),d=h.twGetVersion(c);if(b&&-1===b.indexOf(a))return!1;if(d)return{version:d}}catch(e){}}function d(a,b,c){var d=core_isFunction(b)?b.call(null,c):b;if(!d)return null;var e={name:a,version:f,codename:""},g=toString(d);if(d===!0)return e;if("[object String]"===g){if(-1!==c.indexOf(d))return e}else{if(core_object_isObject(d))return d.hasOwnProperty("version")&&(e.version=d.version),e;if(d.exec){var h=d.exec(c);if(h)return h.length>=2&&h[1]?e.version=h[1].replace(/_/g,"."):e.version=f,e}}}function e(b,c,e,f){var g=t;a(c,function(a){var c=d(a[0],a[1],b);return c?(g=c,!1):void 0}),e.call(f,g.name,g.version)}var f="-1",g=window,h=g.external,i=g.navigator.userAgent||"",j=g.navigator.appVersion||"",k=g.navigator.vendor||"",l=/\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/,m=/\bbb10\b.+?\bversion\/([\d.]+)/,n=/\bblackberry\b.+\bversion\/([\d.]+)/,o=/\bblackberry\d+\/([\d.]+)/,p=[["nokia",function(a){return-1!==a.indexOf("nokia ")?/\bnokia ([0-9]+)?/:/\bnokia([a-z0-9]+)?/}],["samsung",function(a){return-1!==a.indexOf("samsung")?/\bsamsung(?:[ \-](?:sgh|gt|sm))?-([a-z0-9]+)/:/\b(?:sgh|sch|gt|sm)-([a-z0-9]+)/}],["wp",function(a){return-1!==a.indexOf("windows phone ")||-1!==a.indexOf("xblwp")||-1!==a.indexOf("zunewp")||-1!==a.indexOf("windows ce")}],["pc","windows"],["ipad","ipad"],["ipod","ipod"],["iphone",/\biphone\b|\biph(\d)/],["mac","macintosh"],["mi",/\bmi[ \-]?([a-z0-9 ]+(?= build|\)))/],["hongmi",/\bhm[ \-]?([a-z0-9]+)/],["aliyun",/\baliyunos\b(?:[\-](\d+))?/],["meizu",function(a){return a.indexOf("meizu")>=0?/\bmeizu[\/ ]([a-z0-9]+)\b/:/\bm([0-9cx]{1,4})\b/}],["nexus",/\bnexus ([0-9s.]+)/],["huawei",function(a){var b=/\bmediapad (.+?)(?= build\/huaweimediapad\b)/;return-1!==a.indexOf("huawei-huawei")?/\bhuawei\-huawei\-([a-z0-9\-]+)/:b.test(a)?b:/\bhuawei[ _\-]?([a-z0-9]+)/}],["lenovo",function(a){return-1!==a.indexOf("lenovo-lenovo")?/\blenovo\-lenovo[ \-]([a-z0-9]+)/:/\blenovo[ \-]?([a-z0-9]+)/}],["zte",function(a){return/\bzte\-[tu]/.test(a)?/\bzte-[tu][ _\-]?([a-su-z0-9\+]+)/:/\bzte[ _\-]?([a-su-z0-9\+]+)/}],["vivo",/\bvivo(?: ([a-z0-9]+))?/],["htc",function(a){return/\bhtc[a-z0-9 _\-]+(?= build\b)/.test(a)?/\bhtc[ _\-]?([a-z0-9 ]+(?= build))/:/\bhtc[ _\-]?([a-z0-9 ]+)/}],["oppo",/\boppo[_]([a-z0-9]+)/],["konka",/\bkonka[_\-]([a-z0-9]+)/],["sonyericsson",/\bmt([a-z0-9]+)/],["coolpad",/\bcoolpad[_ ]?([a-z0-9]+)/],["lg",/\blg[\-]([a-z0-9]+)/],["android",/\bandroid\b|\badr\b/],["blackberry",function(a){return a.indexOf("blackberry")>=0?/\bblackberry\s?(\d+)/:"bb10"}]],q=[["wp",function(a){return-1!==a.indexOf("windows phone ")?/\bwindows phone (?:os )?([0-9.]+)/:-1!==a.indexOf("xblwp")?/\bxblwp([0-9.]+)/:-1!==a.indexOf("zunewp")?/\bzunewp([0-9.]+)/:"windows phone"}],["windows",/\bwindows nt ([0-9.]+)/],["macosx",/\bmac os x ([0-9._]+)/],["iOS",function(a){return/\bcpu(?: iphone)? os /.test(a)?/\bcpu(?: iphone)? os ([0-9._]+)/:-1!==a.indexOf("iph os ")?/\biph os ([0-9_]+)/:/\bios\b/}],["yunos",/\baliyunos ([0-9.]+)/],["Android",function(a){return a.indexOf("android")>=0?/\bandroid[ \/-]?([0-9.x]+)?/:a.indexOf("adr")>=0?a.indexOf("mqqbrowser")>=0?/\badr[ ]\(linux; u; ([0-9.]+)?/:/\badr(?:[ ]([0-9.]+))?/:"android"}],["chromeos",/\bcros i686 ([0-9.]+)/],["linux","linux"],["windowsce",/\bwindows ce(?: ([0-9.]+))?/],["symbian",/\bsymbian(?:os)?\/([0-9.]+)/],["blackberry",function(a){var b=a.match(m)||a.match(n)||a.match(o);return b?{version:b[1]}:"blackberry"}]],r=[["edgehtml",/edge\/([0-9.]+)/],["trident",l],["blink",function(){return"chrome"in g&&"CSS"in g&&/\bapplewebkit[\/]?([0-9.+]+)/}],["webkit",/\bapplewebkit[\/]?([0-9.+]+)/],["gecko",function(a){var b;return(b=a.match(/\brv:([\d\w.]+).*\bgecko\/(\d+)/))?{version:b[1]+"."+b[2]}:void 0}],["presto",/\bpresto\/([0-9.]+)/],["androidwebkit",/\bandroidwebkit\/([0-9.]+)/],["coolpadwebkit",/\bcoolpadwebkit\/([0-9.]+)/],["u2",/\bu2\/([0-9.]+)/],["u3",/\bu3\/([0-9.]+)/]],s=[["edge",/edge\/([0-9.]+)/],["sogou",function(a){return a.indexOf("sogoumobilebrowser")>=0?/sogoumobilebrowser\/([0-9.]+)/:a.indexOf("sogoumse")>=0?!0:/ se ([0-9.x]+)/}],["theworld",function(){var a=c("theworld");return"undefined"!=typeof a?a:"theworld"}],["360",function(a){var b=c("360se");return"undefined"!=typeof b?b:-1!==a.indexOf("360 aphone browser")?/\b360 aphone browser \(([^\)]+)\)/:/\b360(?:se|ee|chrome|browser)\b/}],["maxthon",function(){try{if(h&&(h.mxVersion||h.max_version))return{version:h.mxVersion||h.max_version}}catch(a){}return/\b(?:maxthon|mxbrowser)(?:[ \/]([0-9.]+))?/}],["micromessenger",/\bmicromessenger\/([\d.]+)/],["qq",/\bm?qqbrowser\/([0-9.]+)/],["green","greenbrowser"],["tt",/\btencenttraveler ([0-9.]+)/],["liebao",function(a){if(a.indexOf("liebaofast")>=0)return/\bliebaofast\/([0-9.]+)/;if(-1===a.indexOf("lbbrowser"))return!1;var b;try{h&&h.LiebaoGetVersion&&(b=h.LiebaoGetVersion())}catch(c){}return{version:b||f}}],["tao",/\btaobrowser\/([0-9.]+)/],["coolnovo",/\bcoolnovo\/([0-9.]+)/],["saayaa","saayaa"],["baidu",/\b(?:ba?idubrowser|baiduhd)[ \/]([0-9.x]+)/],["ie",l],["mi",/\bmiuibrowser\/([0-9.]+)/],["opera",function(a){var b=/\bopera.+version\/([0-9.ab]+)/,c=/\bopr\/([0-9.]+)/;return b.test(a)?b:c}],["oupeng",/\boupeng\/([0-9.]+)/],["yandex",/yabrowser\/([0-9.]+)/],["ali-ap",function(a){return a.indexOf("aliapp")>0?/\baliapp\(ap\/([0-9.]+)\)/:/\balipayclient\/([0-9.]+)\b/}],["ali-ap-pd",/\baliapp\(ap-pd\/([0-9.]+)\)/],["ali-am",/\baliapp\(am\/([0-9.]+)\)/],["ali-tb",/\baliapp\(tb\/([0-9.]+)\)/],["ali-tb-pd",/\baliapp\(tb-pd\/([0-9.]+)\)/],["ali-tm",/\baliapp\(tm\/([0-9.]+)\)/],["ali-tm-pd",/\baliapp\(tm-pd\/([0-9.]+)\)/],["uc",function(a){return a.indexOf("ucbrowser/")>=0?/\bucbrowser\/([0-9.]+)/:a.indexOf("ubrowser/")>=0?/\bubrowser\/([0-9.]+)/:/\buc\/[0-9]/.test(a)?/\buc\/([0-9.]+)/:a.indexOf("ucweb")>=0?/\bucweb([0-9.]+)?/:/\b(?:ucbrowser|uc)\b/}],["chrome",/ (?:chrome|crios|crmo)\/([0-9.]+)/],["android",function(a){return-1!==a.indexOf("android")?/\bversion\/([0-9.]+(?: beta)?)/:void 0}],["blackberry",function(a){var b=a.match(m)||a.match(n)||a.match(o);return b?{version:b[1]}:"blackberry"}],["safari",/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//],["webview",/\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/],["firefox",/\bfirefox\/([0-9.ab]+)/],["nokia",/\bnokiabrowser\/([0-9.]+)/]],t={name:"na",version:f},u=function(a){a=(a||"").toLowerCase();var c={};e(a,p,function(a,b){var d=parseFloat(b);c.device={name:a,version:d,fullVersion:b},c.device[a]=d},c),e(a,q,function(a,b){var d=parseFloat(b);c.os={name:a,version:d,fullVersion:b},c.os[a]=d},c);var d=b(a);return e(a,r,function(a,b){var e=b;d&&(b=d.engineVersion||d.engineMode,e=d.engineMode);var f=parseFloat(b);c.engine={name:a,version:f,fullVersion:b,mode:parseFloat(e),fullMode:e,compatible:d?d.compatible:!1},c.engine[a]=f},c),e(a,s,function(a,b){var e=b;d&&("ie"===a&&(b=d.browserVersion),e=d.browserMode);var f=parseFloat(b);c.browser={name:a,version:f,fullVersion:b,mode:parseFloat(e),fullMode:e,compatible:d?d.compatible:!1},c.browser[a]=f},c),c};core_detector=u(i+" "+j+" "+k)}();var bdpa_info={initPage:function(){var a=document.referrer,b=a?core_url_url("hostname",a):a,c=a?core_url_url("domain",a):a,d=location.href,e=d?core_url_url("hostname",d):d,f=d?core_url_url("domain",d):d,g=core_getRfKwd();this.pageProp={referrer:a,referrer_host:b,referrer_domain:c,url:d,url_host:e,url_domain:f,referrer_keyword:g}},pageProp:{},campaignParams:function(){var a=source_channel_standard.split(" "),b="",c={};return core_array_isArray(bdpa.para.source_channel)&&bdpa.para.source_channel.length>0&&(a=a.concat(bdpa.para.source_channel),a=core_array_unique(a)),core_each(a,function(a){b=core_url_getQueryParam(location.href,a),b.length&&(c[a]=b)}),c},campaignParamsStandard:function(a,b){a=a||"",b=b||"";var c=bdpa_info.campaignParams(),d={},e={};for(var f in c)-1!==(" "+source_channel_standard+" ").indexOf(" "+f+" ")?d[a+f]=c[f]:e[b+f]=c[f];return{$utms:d,otherUtms:e}},properties:function(){var a={$first_visit_time:new Date,$os_language:navigator.language?navigator.language.toLowerCase():"",$os:core_detector.os.name,$model:core_detector.device.name,$os_version:String(core_detector.os.version),$screen_height:Number(screen.height)||0,$screen_width:Number(screen.width)||0,$browser:core_detector.browser.name,$browser_version:String(core_detector.browser.version),$referrer:document.referrer.slice(0,bdpa.para.max_referrer_string_length),$referrer_host:bdpa_info.pageProp.referrer_host,$url:location.href,$path:location.pathname,$title:document.title,$useragent:window.navigator.userAgent};void 0!==bdpa_info.pageProp.referrer_keyword&&(a.$referrer_keyword=bdpa_info.pageProp.referrer_keyword);var b=bdpa_info.campaignParams(),c={};for(var d in b)-1!==(" "+source_channel_standard+" ").indexOf(" "+d+" ")?c["$"+d]=b[d]:c[d]=b[d];return a=core_object_extend({},c,a)},currentProps:{},register:function(a){core_object_extend(bdpa_info.currentProps,a)}};"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return 10>a?"0"+a:a}function this_value(){return this.valueOf()}function quote(a){return rx_escapable.lastIndex=0,rx_escapable.test(a)?'"'+a.replace(rx_escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();var core_cookie={get:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(b))return decodeURIComponent(e.substring(b.length,e.length))}return null},set:function(a,b,c,d,e){d="undefined"==typeof d?bdpa.para.cross_subdomain:d;var f="",g="",h="";if(c="undefined"==typeof c?730:c,d){var i=document.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),j=i?i[0]:"";f=j?"; domain=."+j:""}if(0!==c){var k=new Date;"s"===String(c).slice(-1)?k.setTime(k.getTime()+1e3*Number(String(c).slice(0,-1))):k.setTime(k.getTime()+24*c*60*60*1e3),g="; expires="+k.toGMTString()}e&&(h="; secure"),document.cookie=a+"="+encodeURIComponent(b)+g+"; path=/"+f+h},remove:function(a,b){b="undefined"==typeof b?bdpa.para.cross_subdomain:b,core_cookie.set(a,"",-1,b)}},core_localStorage={get:function(a){return window.localStorage.getItem(a)},parse:function(a){var b;try{b=JSON.parse(core_localStorage.get(a))||null}catch(c){}return b},set:function(a,b){window.localStorage.setItem(a,b)},remove:function(a){
window.localStorage.removeItem(a)},isSupport:function(){var a=!0;try{var b="__bdp_data_support__",c="testIsSupportStorage";core_localStorage.set(b,c),core_localStorage.get(b)!==c&&(a=!1),core_localStorage.remove(b)}catch(d){a=!1}return a}},bdpa_bdpEvent_checkOption={regChecks:{regName:/^((?!^distinct_id$|^original_id$|^time$|^properties$|^id$|^first_id$|^second_id$|^users$|^events$|^event$|^user_id$|^date$|^datetime$)[a-zA-Z_$][a-zA-Z\d_$]{0,99})$/i},checkPropertiesKey:function(a){var b=this,c=!0;return core_each(a,function(a,d){b.regChecks.regName.test(d)||(c=!1)}),c},check:function(a,b){return"string"==typeof this[a]?this[this[a]](b):this[a](b)},str:function(a){return core_string_isString(a)?!0:(logger.info("请检查参数格式,必须是字符串"),!0)},properties:function(a){return core_strip_bdpProperties(a),a?core_object_isObject(a)?this.checkPropertiesKey(a)?!0:(logger.info("properties里的key必须是由字符串数字_组成，且不能是系统保留字"),!0):(logger.info("properties可以没有，但有的话必须是对象"),!0):!0},propertiesMust:function(a){return core_strip_bdpProperties(a),a===undefined||!core_object_isObject(a)||core_object_isEmptyObject(a)?(logger.info("properties必须是对象且有值"),!0):this.checkPropertiesKey(a)?!0:(logger.info("properties里的key必须是由字符串数字_组成，且不能是系统保留字"),!0)},event:function(a){return core_string_isString(a)&&this.regChecks.regName.test(a)?!0:(logger.info("请检查参数格式,必须是字符串,且eventName必须是字符串_开头,且不能是系统保留字"),!0)},test_id:"str",group_id:"str",distinct_id:function(a){return core_string_isString(a)&&/^.{1,255}$/.test(a)?!0:(logger.info("distinct_id必须是不能为空，且小于255位的字符串"),!1)}},core_event_addEventListener=isAddEventListener?function(a,b,c,d){a.addEventListener(b,c,d===undefined?!1:d)}:function(a,b,c){a.attachEvent("on"+b,c)},focus_count=0,blur_count=0,bdpa_newUser={checkIsAddSign:function(a){"track"===a.type&&(null!==core_cookie.get("bdp_data_is_new_user")?a.properties.$is_first_day=1:a.properties.$is_first_day=0)},is_first_visit_time:0,checkIsFirstTime:function(a){"track"===a.type&&(this.is_first_visit_time?(a.properties.$is_first_time=1,this.is_first_visit_time=0):a.properties.$is_first_time=0)},storeInitCheck:function(){if(is_first_visitor){var a=new Date,b={h:23-a.getHours(),m:59-a.getMinutes(),s:59-a.getSeconds()};core_cookie.set("bdp_data_is_new_user","true",3600*b.h+60*b.m+b.s+"s"),this.is_first_visit_time=1}else null===core_cookie.get("bdp_data_is_new_user")&&(this.checkIsAddSign=function(a){"track"===a.type&&(a.properties.$is_first_day=0)}),this.checkIsFirstTime=function(a){"track"===a.type&&(a.properties.$is_first_time=0)}},checkIsFirstLatest:function(){var a=bdpa_info.pageProp.url_domain,b=bdpa_info.pageProp.referrer_domain;""!==a&&a!==b&&bdpa_exports_register({$latest_referrer:bdpa_info.pageProp.referrer,$latest_referrer_host:bdpa_info.pageProp.referrer_host})}},core_UUID=function(){var a=function(){for(var a=1*new Date,b=0;a==1*new Date;)b++;return a.toString(16)+b.toString(16)},b=function(){return Math.random().toString(16).replace(".","")},c=function(a){function b(a,b){var c,d=0;for(c=0;c<b.length;c++)d|=f[c]<<8*c;return a^d}var c,d,e=navigator.userAgent,f=[],g=0;for(c=0;c<e.length;c++)d=e.charCodeAt(c),f.unshift(255&d),f.length>=4&&(g=b(g,f),f=[]);return f.length>0&&(g=b(g,f)),g.toString(16)};return function(){var d=String(screen.height*screen.width);return d=d&&/\d{5,}/.test(d)?d.toString(16):String(31242*Math.random()).replace(".","").slice(0,8),a()+"-"+b()+"-"+c()+"-"+d+"-"+a()}}(),bdpa_session_key="__bdpa_session_key__",bdpa_session_timeout=30,bdpa_session_hasBeenExpired=0,bdpa_session_id,bdpa_store={getProps:function(){return this._state.props},getSessionProps:function(){return this._sessionState},getDistinctId:function(){return this._state.distinct_id},toState:function(a){var b=null;null!==a&&"object"==typeof(b=JSON.parse(a))?b.distinct_id?this._state=b:(this.set("distinct_id",core_UUID()),error_msg.push("parseCookieDistinctJSSDKError")):(this.set("distinct_id",core_UUID()),error_msg.push("parseCookieJSSDKError"))},initSessionState:function(){var a=core_cookie.get("bdp_data2016session"),b=null;null!==a&&"object"==typeof(b=JSON.parse(a))&&(this._sessionState=b)},setOnce:function(a,b){a in this._state||this.set(a,b)},set:function(a,b){this._state[a]=b,this.save()},change:function(a,b){this._state[a]=b},setSessionProps:function(a){var b=this._sessionState;core_object_extend(b,a),this.sessionSave(b)},setSessionPropsOnce:function(a){var b=this._sessionState;core_object_coverExtend(b,a),this.sessionSave(b)},setProps:function(a){var b=this._state.props||{};core_object_extend(b,a),this.set("props",b)},setPropsOnce:function(a){var b=this._state.props||{};core_object_coverExtend(b,a),this.set("props",b)},sessionSave:function(a){this._sessionState=a,core_cookie.set("bdp_data2016session",JSON.stringify(this._sessionState),0)},save:function(){core_cookie.set("bdp_data2016jssdkcross",JSON.stringify(this._state),730,bdpa.para.cross_subdomain)},_sessionState:{},_state:{},init:function(){navigator.cookieEnabled||(error_msg.push("cookieNotEnable"),core_localStorage.isSupport||error_msg.push("localStorageNotEnable")),this.initSessionState();var a=core_cookie.get(bdpa.para.cross_subdomain?"bdp_data2016jssdkcross":"bdp_data2016jssdk");null===a?(is_first_visitor=!0,this.set("distinct_id",core_UUID())):this.toState(a),bdpa_newUser.storeInitCheck(),bdpa_newUser.checkIsFirstLatest(),bdpa_session_init()}},bdpa_sendState_base_complete=0,bdpa_sendState_base_receive=0;core_io_xhr=function(a){if(a){var b=new XMLHttpRequest;return"withCredentials"in b?b:"undefined"!=typeof XDomainRequest?new XDomainRequest:b}if(XMLHttpRequest)return new XMLHttpRequest;if(window.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(c){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(c){}}},bdpa_bdpEvent_debugPath=function(a,b){var c="",d=encodeURIComponent(a);c=-1!==bdpa.para.debug_mode_url.indexOf("?")?bdpa.para.debug_mode_url+"&data="+d:bdpa.para.debug_mode_url+"?data="+d,core_io_ajax({url:c,type:"GET",cors:!0,header:{"Dry-Run":String(bdpa.para.debug_mode_upload)}})};var core_io_ijax_iframe=null,bdpa_commonWays={getUtm:function(){return bdpa_info.campaignParams()},getStayTime:function(){return(new Date-bdpa._t)/1e3},setInitReferrer:function(){var a=document.referrer.slice(0,bdpa.para.max_referrer_string_length);bdpa_exports_setOnceProfile({_init_referrer:a,_init_referrer_host:bdpa_info.pageProp.referrer_host})},setSessionReferrer:function(){var a=document.referrer.slice(0,bdpa.para.max_referrer_string_length);bdpa_store.setSessionPropsOnce({_session_referrer:a,_session_referrer_host:bdpa_info.pageProp.referrer_host})},setDefaultAttr:function(){bdpa_info.register({_current_url:location.href,_referrer:document.referrer.slice(0,bdpa.para.max_referrer_string_length),_referring_host:bdpa_info.pageProp.referrer_host})},autoTrackWithoutProfile:function(a){this.autoTrack(core_object_extend(a,{not_set_profile:!0}))},autoTrack:function(a){a=core_object_isObject(a)?a:{},is_first_visitor&&!a.not_set_profile&&core_cookie.set(bdp_first_referrer_key,JSON.stringify({$first_referrer:document.referrer.slice(0,bdpa.para.max_referrer_string_length),$first_referrer_host:bdpa_info.pageProp.referrer_host})),bdpa_exports_track("$pageview",core_object_extend({},a))}},bdpa_appInfo_base_Info=null,bdpa_appInfo_base_todo=null;window.bdpdata_app_js_bridge_call_js=bdpa_appInfo_ios_exports,bdpa.quick=bdpa_exports_quick,bdpa.track=bdpa_exports_track,bdpa.identify=bdpa_exports_identify,bdpa.registerPage=bdpa_exports_registerPage,bdpa.register=bdpa_exports_register,bdpa.registerOnce=bdpa_exports_registerOnce,bdpa.registerSession=bdpa_exports_registerSession,bdpa.registerSessionOnce=bdpa_exports_registerSessionOnce,bdpa.setProfile=bdpa_exports_setProfile,bdpa.setOnceProfile=bdpa_exports_setOnceProfile,bdpa.appendProfile=bdpa_exports_appendProfile,bdpa.incrementProfile=bdpa_exports_incrementProfile,bdpa.deleteProfile=bdpa_exports_deleteProfile,bdpa.unsetProfile=bdpa_exports_unsetProfile,bdpa.getAppStatus=bdpa_exports_getAppStatus,bdpa_init()}(window.__BDP_DATA_ANALYTIC__);