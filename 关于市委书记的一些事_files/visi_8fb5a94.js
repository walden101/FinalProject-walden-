!function(){!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.proj4=t()}}(function(){return function t(e,n,i){function r(o,s){if(!n[o]){if(!e[o]){var h="function"==typeof require&&require;if(!s&&h)return h(o,!0);if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}var l=n[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return r(n?n:t)},l,l.exports,t,e,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(t,e){function n(t,e,i){if(!(this instanceof n))return new n(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&"undefined"==typeof e){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var i=t("mgrs");n.fromMGRS=function(t){return new n(i.toPoint(t))},n.prototype.toMGRS=function(t){return i.forward([this.x,this.y],t)},e.exports=n},{mgrs:66}],2:[function(t,e){function n(t,e){if(!(this instanceof n))return new n(t);e=e||function(t){if(t)throw t};var a=i(t);if("object"!=typeof a)return void e(t);var s=o(a),h=n.projections.get(s.projName);h?(r(this,s),r(this,h),this.init(),e(null,this)):e(t)}var i=t("./parseCode"),r=t("./extend"),a=t("./projections"),o=t("./deriveConstants");n.projections=a,n.projections.start(),e.exports=n},{"./deriveConstants":32,"./extend":33,"./parseCode":36,"./projections":38}],3:[function(t,e){e.exports=function(t,e,n){var i,r,a,o=n.x,s=n.y,h=n.z||0;for(a=0;3>a;a++)if(!e||2!==a||void 0!==n.z)switch(0===a?(i=o,r="x"):1===a?(i=s,r="y"):(i=h,r="z"),t.axis[a]){case"e":n[r]=i;break;case"w":n[r]=-i;break;case"n":n[r]=i;break;case"s":n[r]=-i;break;case"u":void 0!==n[r]&&(n.z=i);break;case"d":void 0!==n[r]&&(n.z=-i);break;default:return null}return n}},{}],4:[function(t,e){var n=Math.PI/2,i=t("./sign");e.exports=function(t){return Math.abs(t)<n?t:t-i(t)*Math.PI}},{"./sign":21}],5:[function(t,e){var n=2*Math.PI,i=3.14159265359,r=t("./sign");e.exports=function(t){return Math.abs(t)<=i?t:t-r(t)*n}},{"./sign":21}],6:[function(t,e){e.exports=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}},{}],7:[function(t,e){e.exports=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}},{}],8:[function(t,e){e.exports=function(t){return.375*t*(1+.25*t*(1+.46875*t))}},{}],9:[function(t,e){e.exports=function(t){return.05859375*t*t*(1+.75*t)}},{}],10:[function(t,e){e.exports=function(t){return t*t*t*(35/3072)}},{}],11:[function(t,e){e.exports=function(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)}},{}],12:[function(t,e){e.exports=function(t,e,n,i,r){var a,o;a=t/e;for(var s=0;15>s;s++)if(o=(t-(e*a-n*Math.sin(2*a)+i*Math.sin(4*a)-r*Math.sin(6*a)))/(e-2*n*Math.cos(2*a)+4*i*Math.cos(4*a)-6*r*Math.cos(6*a)),a+=o,Math.abs(o)<=1e-10)return a;return 0/0}},{}],13:[function(t,e){var n=Math.PI/2;e.exports=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return 0>e?-1*n:n;for(var r,a,o,s,h=Math.asin(.5*e),l=0;30>l;l++)if(a=Math.sin(h),o=Math.cos(h),s=t*a,r=Math.pow(1-s*s,2)/(2*o)*(e/(1-t*t)-a/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),h+=r,Math.abs(r)<=1e-10)return h;return 0/0}},{}],14:[function(t,e){e.exports=function(t,e,n,i,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)}},{}],15:[function(t,e){e.exports=function(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)}},{}],16:[function(t,e){var n=Math.PI/2;e.exports=function(t,e){for(var i,r,a=.5*t,o=n-2*Math.atan(e),s=0;15>=s;s++)if(i=t*Math.sin(o),r=n-2*Math.atan(e*Math.pow((1-i)/(1+i),a))-o,o+=r,Math.abs(r)<=1e-10)return o;return-9999}},{}],17:[function(t,e){var n=1,i=.25,r=.046875,a=.01953125,o=.01068115234375,s=.75,h=.46875,l=.013020833333333334,u=.007120768229166667,c=.3645833333333333,d=.005696614583333333,f=.3076171875;e.exports=function(t){var e=[];e[0]=n-t*(i+t*(r+t*(a+t*o))),e[1]=t*(s-t*(r+t*(a+t*o)));var p=t*t;return e[2]=p*(h-t*(l+t*u)),p*=t,e[3]=p*(c-t*d),e[4]=p*t*f,e}},{}],18:[function(t,e){var n=t("./pj_mlfn"),i=1e-10,r=20;e.exports=function(t,e,a){for(var o=1/(1-e),s=t,h=r;h;--h){var l=Math.sin(s),u=1-e*l*l;if(u=(n(s,l,Math.cos(s),a)-t)*u*Math.sqrt(u)*o,s-=u,Math.abs(u)<i)return s}return s}},{"./pj_mlfn":19}],19:[function(t,e){e.exports=function(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}},{}],20:[function(t,e){e.exports=function(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}},{}],21:[function(t,e){e.exports=function(t){return 0>t?-1:1}},{}],22:[function(t,e){e.exports=function(t,e){return Math.pow((1-t)/(1+t),e)}},{}],23:[function(t,e){e.exports=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}},{}],24:[function(t,e){var n=Math.PI/2;e.exports=function(t,e,i){var r=t*i,a=.5*t;return r=Math.pow((1-r)/(1+r),a),Math.tan(.5*(n-e))/r}},{}],25:[function(t,e,n){n.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},n.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},n.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},n.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},n.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},n.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},n.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},n.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},n.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},n.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},n.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},n.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},n.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},n.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},n.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},n.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},{}],26:[function(t,e,n){n.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},n.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},n.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},n.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},n.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},n.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},n.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},n.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},n.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},n.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},n.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},n.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},n.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},n.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},n.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},n.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},n.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},n.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},n.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},n.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},n.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},n.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},n.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},n.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},n.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},n.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},n.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},n.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},n.hough={a:6378270,rf:297,ellipseName:"Hough"},n.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},n.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},n.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},n.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},n.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},n.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},n.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},n.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},n.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},n.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},n.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},n.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},n.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},n.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},{}],27:[function(t,e,n){n.greenwich=0,n.lisbon=-9.131906111111,n.paris=2.337229166667,n.bogota=-74.080916666667,n.madrid=-3.687938888889,n.rome=12.452333333333,n.bern=7.439583333333,n.jakarta=106.807719444444,n.ferro=-17.666666666667,n.brussels=4.367975,n.stockholm=18.058277777778,n.athens=23.7163375,n.oslo=10.722916666667},{}],28:[function(t,e){function n(t,e,n){var i;return Array.isArray(n)?(i=o(t,e,n),3===n.length?[i.x,i.y,i.z]:[i.x,i.y]):o(t,e,n)}function i(t){return t instanceof a?t:t.oProj?t.oProj:a(t)}function r(t,e,r){t=i(t);var a,o=!1;return"undefined"==typeof e?(e=t,t=s,o=!0):("undefined"!=typeof e.x||Array.isArray(e))&&(r=e,e=t,t=s,o=!0),e=i(e),r?n(t,e,r):(a={forward:function(i){return n(t,e,i)},inverse:function(i){return n(e,t,i)}},o&&(a.oProj=e),a)}var a=t("./Proj"),o=t("./transform"),s=a("WGS84");e.exports=r},{"./Proj":2,"./transform":64}],29:[function(t,e){var n=Math.PI/2,i=1,r=2,a=3,o=4,s=5,h=484813681109536e-20,l=1.0026,u=.3826834323650898,c=function(t){if(!(this instanceof c))return new c(t);if(this.datum_type=o,t){if(t.datumCode&&"none"===t.datumCode&&(this.datum_type=s),t.datum_params){for(var e=0;e<t.datum_params.length;e++)t.datum_params[e]=parseFloat(t.datum_params[e]);(0!==t.datum_params[0]||0!==t.datum_params[1]||0!==t.datum_params[2])&&(this.datum_type=i),t.datum_params.length>3&&(0!==t.datum_params[3]||0!==t.datum_params[4]||0!==t.datum_params[5]||0!==t.datum_params[6])&&(this.datum_type=r,t.datum_params[3]*=h,t.datum_params[4]*=h,t.datum_params[5]*=h,t.datum_params[6]=t.datum_params[6]/1e6+1)}this.datum_type=t.grids?a:this.datum_type,this.a=t.a,this.b=t.b,this.es=t.es,this.ep2=t.ep2,this.datum_params=t.datum_params,this.datum_type===a&&(this.grids=t.grids)}};c.prototype={compare_datums:function(t){return this.datum_type!==t.datum_type?!1:this.a!==t.a||Math.abs(this.es-t.es)>5e-11?!1:this.datum_type===i?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]:this.datum_type===r?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]&&this.datum_params[3]===t.datum_params[3]&&this.datum_params[4]===t.datum_params[4]&&this.datum_params[5]===t.datum_params[5]&&this.datum_params[6]===t.datum_params[6]:this.datum_type===a||t.datum_type===a?this.nadgrids===t.nadgrids:!0},geodetic_to_geocentric:function(t){var e,i,r,a,o,s,h,l=t.x,u=t.y,c=t.z?t.z:0,d=0;if(-n>u&&u>-1.001*n)u=-n;else if(u>n&&1.001*n>u)u=n;else if(-n>u||u>n)return null;return l>Math.PI&&(l-=2*Math.PI),o=Math.sin(u),h=Math.cos(u),s=o*o,a=this.a/Math.sqrt(1-this.es*s),e=(a+c)*h*Math.cos(l),i=(a+c)*h*Math.sin(l),r=(a*(1-this.es)+c)*o,t.x=e,t.y=i,t.z=r,d},geocentric_to_geodetic:function(t){var e,i,r,a,o,s,h,l,u,c,d,f,p,g,m,v,y,x=1e-12,b=x*x,M=30,w=t.x,k=t.y,S=t.z?t.z:0;if(p=!1,e=Math.sqrt(w*w+k*k),i=Math.sqrt(w*w+k*k+S*S),e/this.a<x){if(p=!0,m=0,i/this.a<x)return v=n,void(y=-this.b)}else m=Math.atan2(k,w);r=S/i,a=e/i,o=1/Math.sqrt(1-this.es*(2-this.es)*a*a),l=a*(1-this.es)*o,u=r*o,g=0;do g++,h=this.a/Math.sqrt(1-this.es*u*u),y=e*l+S*u-h*(1-this.es*u*u),s=this.es*h/(h+y),o=1/Math.sqrt(1-s*(2-s)*a*a),c=a*(1-s)*o,d=r*o,f=d*l-c*u,l=c,u=d;while(f*f>b&&M>g);return v=Math.atan(d/Math.abs(c)),t.x=m,t.y=v,t.z=y,t},geocentric_to_geodetic_noniter:function(t){var e,i,r,a,o,s,h,c,d,f,p,g,m,v,y,x,b,M=t.x,w=t.y,k=t.z?t.z:0;if(M=parseFloat(M),w=parseFloat(w),k=parseFloat(k),b=!1,0!==M)e=Math.atan2(w,M);else if(w>0)e=n;else if(0>w)e=-n;else if(b=!0,e=0,k>0)i=n;else{if(!(0>k))return i=n,void(r=-this.b);i=-n}return o=M*M+w*w,a=Math.sqrt(o),s=k*l,c=Math.sqrt(s*s+o),f=s/c,g=a/c,p=f*f*f,h=k+this.b*this.ep2*p,x=a-this.a*this.es*g*g*g,d=Math.sqrt(h*h+x*x),m=h/d,v=x/d,y=this.a/Math.sqrt(1-this.es*m*m),r=v>=u?a/v-y:-u>=v?a/-v-y:k/m+y*(this.es-1),b===!1&&(i=Math.atan(m/v)),t.x=e,t.y=i,t.z=r,t},geocentric_to_wgs84:function(t){if(this.datum_type===i)t.x+=this.datum_params[0],t.y+=this.datum_params[1],t.z+=this.datum_params[2];else if(this.datum_type===r){var e=this.datum_params[0],n=this.datum_params[1],a=this.datum_params[2],o=this.datum_params[3],s=this.datum_params[4],h=this.datum_params[5],l=this.datum_params[6],u=l*(t.x-h*t.y+s*t.z)+e,c=l*(h*t.x+t.y-o*t.z)+n,d=l*(-s*t.x+o*t.y+t.z)+a;t.x=u,t.y=c,t.z=d}},geocentric_from_wgs84:function(t){if(this.datum_type===i)t.x-=this.datum_params[0],t.y-=this.datum_params[1],t.z-=this.datum_params[2];else if(this.datum_type===r){var e=this.datum_params[0],n=this.datum_params[1],a=this.datum_params[2],o=this.datum_params[3],s=this.datum_params[4],h=this.datum_params[5],l=this.datum_params[6],u=(t.x-e)/l,c=(t.y-n)/l,d=(t.z-a)/l;t.x=u+h*c-s*d,t.y=-h*u+c+o*d,t.z=s*u-o*c+d}}},e.exports=c},{}],30:[function(t,e){var n=1,i=2,r=3,a=5,o=6378137,s=.006694379990141316;e.exports=function(t,e,h){function l(t){return t===n||t===i}var u,c,d;if(t.compare_datums(e))return h;if(t.datum_type===a||e.datum_type===a)return h;var f=t.a,p=t.es,g=e.a,m=e.es,v=t.datum_type;if(v===r)if(0===this.apply_gridshift(t,0,h))t.a=o,t.es=s;else{if(!t.datum_params)return t.a=f,t.es=t.es,h;for(u=1,c=0,d=t.datum_params.length;d>c;c++)u*=t.datum_params[c];if(0===u)return t.a=f,t.es=t.es,h;v=t.datum_params.length>3?i:n}return e.datum_type===r&&(e.a=o,e.es=s),(t.es!==e.es||t.a!==e.a||l(v)||l(e.datum_type))&&(t.geodetic_to_geocentric(h),l(t.datum_type)&&t.geocentric_to_wgs84(h),l(e.datum_type)&&e.geocentric_from_wgs84(h),e.geocentric_to_geodetic(h)),e.datum_type===r&&this.apply_gridshift(e,1,h),t.a=f,t.es=p,e.a=g,e.es=m,h}},{}],31:[function(t,e){function n(t){var e=this;if(2===arguments.length){var i=arguments[1];n[t]="string"==typeof i?"+"===i.charAt(0)?r(arguments[1]):a(arguments[1]):i}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?n.apply(e,t):n(t)});if("string"==typeof t){if(t in n)return n[t]}else"EPSG"in t?n["EPSG:"+t.EPSG]=t:"ESRI"in t?n["ESRI:"+t.ESRI]=t:"IAU2000"in t?n["IAU2000:"+t.IAU2000]=t:console.log(t);return}}var i=t("./global"),r=t("./projString"),a=t("./wkt");i(n),e.exports=n},{"./global":34,"./projString":37,"./wkt":65}],32:[function(t,e){var n=t("./constants/Datum"),i=t("./constants/Ellipsoid"),r=t("./extend"),a=t("./datum"),o=1e-10,s=.16666666666666666,h=.04722222222222222,l=.022156084656084655;e.exports=function(t){if(t.datumCode&&"none"!==t.datumCode){var e=n[t.datumCode];e&&(t.datum_params=e.towgs84?e.towgs84.split(","):null,t.ellps=e.ellipse,t.datumName=e.datumName?e.datumName:t.datumCode)}if(!t.a){var u=i[t.ellps]?i[t.ellps]:i.WGS84;r(t,u)}return t.rf&&!t.b&&(t.b=(1-1/t.rf)*t.a),(0===t.rf||Math.abs(t.a-t.b)<o)&&(t.sphere=!0,t.b=t.a),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=(t.a2-t.b2)/t.a2,t.e=Math.sqrt(t.es),t.R_A&&(t.a*=1-t.es*(s+t.es*(h+t.es*l)),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=0),t.ep2=(t.a2-t.b2)/t.b2,t.k0||(t.k0=1),t.axis||(t.axis="enu"),t.datum||(t.datum=a(t)),t}},{"./constants/Datum":25,"./constants/Ellipsoid":26,"./datum":29,"./extend":33}],33:[function(t,e){e.exports=function(t,e){t=t||{};var n,i;if(!e)return t;for(i in e)n=e[i],void 0!==n&&(t[i]=n);return t}},{}],34:[function(t,e){e.exports=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}},{}],35:[function(t,e){var n=t("./core");n.defaultDatum="WGS84",n.Proj=t("./Proj"),n.WGS84=new n.Proj("WGS84"),n.Point=t("./Point"),n.toPoint=t("./common/toPoint"),n.defs=t("./defs"),n.transform=t("./transform"),n.mgrs=t("mgrs"),n.version=t("../package.json").version,t("./includedProjections")(n),e.exports=n},{"../package.json":67,"./Point":1,"./Proj":2,"./common/toPoint":23,"./core":28,"./defs":31,"./includedProjections":"gWUPNW","./transform":64,mgrs:66}],36:[function(t,e){function n(t){return"string"==typeof t}function i(t){return t in s}function r(t){var e=["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"];return e.reduce(function(e,n){return e+1+t.indexOf(n)},0)}function a(t){return"+"===t[0]}function o(t){return n(t)?i(t)?s[t]:r(t)?h(t):a(t)?l(t):void 0:t}var s=t("./defs"),h=t("./wkt"),l=t("./projString");e.exports=o},{"./defs":31,"./projString":37,"./wkt":65}],37:[function(t,e){var n=.017453292519943295,i=t("./constants/PrimeMeridian");e.exports=function(t){var e={},r={};t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).forEach(function(t){var e=t.split("=");e.push(!0),r[e[0].toLowerCase()]=e[1]});var a,o,s,h={proj:"projName",datum:"datumCode",rf:function(t){e.rf=parseFloat(t)},lat_0:function(t){e.lat0=t*n},lat_1:function(t){e.lat1=t*n},lat_2:function(t){e.lat2=t*n},lat_ts:function(t){e.lat_ts=t*n},lon_0:function(t){e.long0=t*n},lon_1:function(t){e.long1=t*n},lon_2:function(t){e.long2=t*n},alpha:function(t){e.alpha=parseFloat(t)*n},lonc:function(t){e.longc=t*n},x_0:function(t){e.x0=parseFloat(t)},y_0:function(t){e.y0=parseFloat(t)},k_0:function(t){e.k0=parseFloat(t)},k:function(t){e.k0=parseFloat(t)},a:function(t){e.a=parseFloat(t)},b:function(t){e.b=parseFloat(t)},r_a:function(){e.R_A=!0},zone:function(t){e.zone=parseInt(t,10)},south:function(){e.utmSouth=!0},towgs84:function(t){e.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){e.to_meter=parseFloat(t)},from_greenwich:function(t){e.from_greenwich=t*n},pm:function(t){e.from_greenwich=(i[t]?i[t]:parseFloat(t))*n},nadgrids:function(t){"@null"===t?e.datumCode="none":e.nadgrids=t},axis:function(t){var n="ewnsud";3===t.length&&-1!==n.indexOf(t.substr(0,1))&&-1!==n.indexOf(t.substr(1,1))&&-1!==n.indexOf(t.substr(2,1))&&(e.axis=t)}};for(a in r)o=r[a],a in h?(s=h[a],"function"==typeof s?s(o):e[s]=o):e[a]=o;return"string"==typeof e.datumCode&&"WGS84"!==e.datumCode&&(e.datumCode=e.datumCode.toLowerCase()),e}},{"./constants/PrimeMeridian":27}],38:[function(t,e,n){function i(t,e){var n=o.length;return t.names?(o[n]=t,t.names.forEach(function(t){a[t.toLowerCase()]=n}),this):(console.log(e),!0)}var r=[t("./projections/merc"),t("./projections/longlat")],a={},o=[];n.add=i,n.get=function(t){if(!t)return!1;var e=t.toLowerCase();return"undefined"!=typeof a[e]&&o[a[e]]?o[a[e]]:void 0},n.start=function(){r.forEach(i)}},{"./projections/longlat":50,"./projections/merc":51}],39:[function(t,e,n){var i=1e-10,r=t("../common/msfnz"),a=t("../common/qsfnz"),o=t("../common/adjust_lon"),s=t("../common/asinz");n.init=function(){Math.abs(this.lat1+this.lat2)<i||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=r(this.e3,this.sin_po,this.cos_po),this.qs1=a(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=r(this.e3,this.sin_po,this.cos_po),this.qs2=a(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=a(this.e3,this.sin_po,this.cos_po),this.ns0=Math.abs(this.lat1-this.lat2)>i?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},n.forward=function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=a(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,s=this.ns0*o(e-this.long0),h=r*Math.sin(s)+this.x0,l=this.rh-r*Math.cos(s)+this.y0;return t.x=h,t.y=l,t},n.inverse=function(t){var e,n,i,r,a,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),r=0,0!==e&&(r=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,s=this.phi1z(this.e3,n)),a=o(r/this.ns0+this.long0),t.x=a,t.y=s,t},n.phi1z=function(t,e){var n,r,a,o,h,l=s(.5*e);if(i>t)return l;for(var u=t*t,c=1;25>=c;c++)if(n=Math.sin(l),r=Math.cos(l),a=t*n,o=1-a*a,h=.5*o*o/r*(e/(1-u)-n/o+.5/t*Math.log((1-a)/(1+a))),l+=h,Math.abs(h)<=1e-7)return l;return null},n.names=["Albers_Conic_Equal_Area","Albers","aea"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/msfnz":15,"../common/qsfnz":20}],40:[function(t,e,n){var i=t("../common/adjust_lon"),r=Math.PI/2,a=1e-10,o=t("../common/mlfn"),s=t("../common/e0fn"),h=t("../common/e1fn"),l=t("../common/e2fn"),u=t("../common/e3fn"),c=t("../common/gN"),d=t("../common/asinz"),f=t("../common/imlfn");n.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},n.forward=function(t){var e,n,d,f,p,g,m,v,y,x,b,M,w,k,S,C,A,P,T,_,L,D,E,z=t.x,I=t.y,O=Math.sin(t.y),N=Math.cos(t.y),R=i(z-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=a?(t.x=this.x0+this.a*(r-I)*Math.sin(R),t.y=this.y0-this.a*(r-I)*Math.cos(R),t):Math.abs(this.sin_p12+1)<=a?(t.x=this.x0+this.a*(r+I)*Math.sin(R),t.y=this.y0+this.a*(r+I)*Math.cos(R),t):(P=this.sin_p12*O+this.cos_p12*N*Math.cos(R),C=Math.acos(P),A=C/Math.sin(C),t.x=this.x0+this.a*A*N*Math.sin(R),t.y=this.y0+this.a*A*(this.cos_p12*O-this.sin_p12*N*Math.cos(R)),t):(e=s(this.es),n=h(this.es),d=l(this.es),f=u(this.es),Math.abs(this.sin_p12-1)<=a?(p=this.a*o(e,n,d,f,r),g=this.a*o(e,n,d,f,I),t.x=this.x0+(p-g)*Math.sin(R),t.y=this.y0-(p-g)*Math.cos(R),t):Math.abs(this.sin_p12+1)<=a?(p=this.a*o(e,n,d,f,r),g=this.a*o(e,n,d,f,I),t.x=this.x0+(p+g)*Math.sin(R),t.y=this.y0+(p+g)*Math.cos(R),t):(m=O/N,v=c(this.a,this.e,this.sin_p12),y=c(this.a,this.e,O),x=Math.atan((1-this.es)*m+this.es*v*this.sin_p12/(y*N)),b=Math.atan2(Math.sin(R),this.cos_p12*Math.tan(x)-this.sin_p12*Math.cos(R)),T=0===b?Math.asin(this.cos_p12*Math.sin(x)-this.sin_p12*Math.cos(x)):Math.abs(Math.abs(b)-Math.PI)<=a?-Math.asin(this.cos_p12*Math.sin(x)-this.sin_p12*Math.cos(x)):Math.asin(Math.sin(R)*Math.cos(x)/Math.sin(b)),M=this.e*this.sin_p12/Math.sqrt(1-this.es),w=this.e*this.cos_p12*Math.cos(b)/Math.sqrt(1-this.es),k=M*w,S=w*w,_=T*T,L=_*T,D=L*T,E=D*T,C=v*T*(1-_*S*(1-S)/6+L/8*k*(1-2*S)+D/120*(S*(4-7*S)-3*M*M*(1-7*S))-E/48*k),t.x=this.x0+C*Math.sin(b),t.y=this.y0+C*Math.cos(b),t))},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,p,g,m,v,y,x,b,M,w,k,S,C,A,P,T,_,L,D,E,z,I;if(this.sphere){if(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*r*this.a)return;return n=e/this.a,p=Math.sin(n),g=Math.cos(n),m=this.long0,Math.abs(e)<=a?v=this.lat0:(v=d(g*this.sin_p12+t.y*p*this.cos_p12/e),y=Math.abs(this.lat0)-r,m=i(Math.abs(y)<=a?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*p,e*this.cos_p12*g-t.y*this.sin_p12*p))),t.x=m,t.y=v,t}return x=s(this.es),b=h(this.es),M=l(this.es),w=u(this.es),Math.abs(this.sin_p12-1)<=a?(k=this.a*o(x,b,M,w,r),e=Math.sqrt(t.x*t.x+t.y*t.y),S=k-e,v=f(S/this.a,x,b,M,w),m=i(this.long0+Math.atan2(t.x,-1*t.y)),t.x=m,t.y=v,t):Math.abs(this.sin_p12+1)<=a?(k=this.a*o(x,b,M,w,r),e=Math.sqrt(t.x*t.x+t.y*t.y),S=e-k,v=f(S/this.a,x,b,M,w),m=i(this.long0+Math.atan2(t.x,t.y)),t.x=m,t.y=v,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),P=Math.atan2(t.x,t.y),C=c(this.a,this.e,this.sin_p12),T=Math.cos(P),_=this.e*this.cos_p12*T,L=-_*_/(1-this.es),D=3*this.es*(1-L)*this.sin_p12*this.cos_p12*T/(1-this.es),E=e/C,z=E-L*(1+L)*Math.pow(E,3)/6-D*(1+3*L)*Math.pow(E,4)/24,I=1-L*z*z/2-E*z*z*z/6,A=Math.asin(this.sin_p12*Math.cos(z)+this.cos_p12*Math.sin(z)*T),m=i(this.long0+Math.asin(Math.sin(P)*Math.sin(z)/Math.cos(A))),v=Math.atan((1-this.es*I*this.sin_p12/Math.sin(A))*Math.tan(A)/(1-this.es)),t.x=m,t.y=v,t)},n.names=["Azimuthal_Equidistant","aeqd"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],41:[function(t,e,n){var i=t("../common/mlfn"),r=t("../common/e0fn"),a=t("../common/e1fn"),o=t("../common/e2fn"),s=t("../common/e3fn"),h=t("../common/gN"),l=t("../common/adjust_lon"),u=t("../common/adjust_lat"),c=t("../common/imlfn"),d=Math.PI/2,f=1e-10;n.init=function(){this.sphere||(this.e0=r(this.es),this.e1=a(this.es),this.e2=o(this.es),this.e3=s(this.es),this.ml0=this.a*i(this.e0,this.e1,this.e2,this.e3,this.lat0))},n.forward=function(t){var e,n,r=t.x,a=t.y;if(r=l(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(a)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(a),Math.cos(r))-this.lat0);else{var o=Math.sin(a),s=Math.cos(a),u=h(this.a,this.e,o),c=Math.tan(a)*Math.tan(a),d=r*Math.cos(a),f=d*d,p=this.es*s*s/(1-this.es),g=this.a*i(this.e0,this.e1,this.e2,this.e3,a);e=u*d*(1-f*c*(1/6-(8-c+8*p)*f/120)),n=g-this.ml0+u*o/s*f*(.5+(5-c+6*p)*f/24)}return t.x=e+this.x0,t.y=n+this.y0,t},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i=t.x/this.a,r=t.y/this.a;if(this.sphere){var a=r+this.lat0;e=Math.asin(Math.sin(a)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(a))}else{var o=this.ml0/this.a+r,s=c(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-d)<=f)return t.x=this.long0,t.y=d,0>r&&(t.y*=-1),t;var p=h(this.a,this.e,Math.sin(s)),g=p*p*p/this.a/this.a*(1-this.es),m=Math.pow(Math.tan(s),2),v=i*this.a/p,y=v*v;e=s-p*Math.tan(s)/g*v*v*(.5-(1+3*m)*v*v/24),n=v*(1-y*(m/3+(1+3*m)*m*y/15))/Math.cos(s)}return t.x=l(n+this.long0),t.y=u(e),t},n.names=["Cassini","Cassini_Soldner","cass"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],42:[function(t,e,n){var i=t("../common/adjust_lon"),r=t("../common/qsfnz"),a=t("../common/msfnz"),o=t("../common/iqsfnz");n.init=function(){this.sphere||(this.k0=a(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},n.forward=function(t){var e,n,a=t.x,o=t.y,s=i(a-this.long0);if(this.sphere)e=this.x0+this.a*s*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(o)/Math.cos(this.lat_ts);else{var h=r(this.e,Math.sin(o));e=this.x0+this.a*this.k0*s,n=this.y0+this.a*h*.5/this.k0}return t.x=e,t.y=n,t},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=i(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=o(this.e,2*t.y*this.k0/this.a),e=i(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},n.names=["cea"]},{"../common/adjust_lon":5,"../common/iqsfnz":13,"../common/msfnz":15,"../common/qsfnz":20}],43:[function(t,e,n){var i=t("../common/adjust_lon"),r=t("../common/adjust_lat");n.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},n.forward=function(t){var e=t.x,n=t.y,a=i(e-this.long0),o=r(n-this.lat0);return t.x=this.x0+this.a*a*this.rc,t.y=this.y0+this.a*o,t},n.inverse=function(t){var e=t.x,n=t.y;return t.x=i(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=r(this.lat0+(n-this.y0)/this.a),t},n.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5}],44:[function(t,e,n){var i=t("../common/e0fn"),r=t("../common/e1fn"),a=t("../common/e2fn"),o=t("../common/e3fn"),s=t("../common/msfnz"),h=t("../common/mlfn"),l=t("../common/adjust_lon"),u=t("../common/adjust_lat"),c=t("../common/imlfn"),d=1e-10;n.init=function(){Math.abs(this.lat1+this.lat2)<d||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=i(this.es),this.e1=r(this.es),this.e2=a(this.es),this.e3=o(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=s(this.e,this.sinphi,this.cosphi),this.ml1=h(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<d?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=s(this.e,this.sinphi,this.cosphi),this.ml2=h(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=h(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},n.forward=function(t){var e,n=t.x,i=t.y;if(this.sphere)e=this.a*(this.g-i);else{var r=h(this.e0,this.e1,this.e2,this.e3,i);e=this.a*(this.g-r)}var a=this.ns*l(n-this.long0),o=this.x0+e*Math.sin(a),s=this.y0+this.rh-e*Math.cos(a);return t.x=o,t.y=s,t},n.inverse=function(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,i,r;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var a=0;if(0!==n&&(a=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=l(this.long0+a/this.ns),i=u(this.g-n/this.a),t.x=r,t.y=i,t;var o=this.g-n/this.a;return i=c(o,this.e0,this.e1,this.e2,this.e3),r=l(this.long0+a/this.ns),t.x=r,t.y=i,t},n.names=["Equidistant_Conic","eqdc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/imlfn":12,"../common/mlfn":14,"../common/msfnz":15}],45:[function(t,e,n){var i=Math.PI/4,r=t("../common/srat"),a=Math.PI/2,o=20;n.init=function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+i)/(Math.pow(Math.tan(.5*this.lat0+i),this.C)*r(this.e*t,this.ratexp))},n.forward=function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+i),this.C)*r(this.e*Math.sin(n),this.ratexp))-a,t.x=this.C*e,t},n.inverse=function(t){for(var e=1e-14,n=t.x/this.C,s=t.y,h=Math.pow(Math.tan(.5*s+i)/this.K,1/this.C),l=o;l>0&&(s=2*Math.atan(h*r(this.e*Math.sin(t.y),-.5*this.e))-a,!(Math.abs(s-t.y)<e));--l)t.y=s;return l?(t.x=n,t.y=s,t):null},n.names=["gauss"]},{"../common/srat":22}],46:[function(t,e,n){var i=t("../common/adjust_lon"),r=1e-10,a=t("../common/asinz");n.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},n.forward=function(t){var e,n,a,o,s,h,l,u,c=t.x,d=t.y;return a=i(c-this.long0),e=Math.sin(d),n=Math.cos(d),o=Math.cos(a),h=this.sin_p14*e+this.cos_p14*n*o,s=1,h>0||Math.abs(h)<=r?(l=this.x0+this.a*s*n*Math.sin(a)/h,u=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*o)/h):(l=this.x0+this.infinity_dist*n*Math.sin(a),u=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*o)),t.x=l,t.y=u,t
},n.inverse=function(t){var e,n,r,o,s,h;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(o=Math.atan2(e,this.rc),n=Math.sin(o),r=Math.cos(o),h=a(r*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),s=i(this.long0+s)):(h=this.phic0,s=0),t.x=s,t.y=h,t},n.names=["gnom"]},{"../common/adjust_lon":5,"../common/asinz":6}],47:[function(t,e,n){var i=t("../common/adjust_lon");n.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},n.forward=function(t){var e,n,r,a,o,s,h,l=t.x,u=t.y,c=i(l-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),r=-c*this.alfa,a=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),o=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(a)),s=this.n*o,h=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(a/2+this.s45),this.n),t.y=h*Math.cos(s)/1,t.x=h*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},n.inverse=function(t){var e,n,i,r,a,o,s,h,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),a=Math.atan2(t.y,t.x),r=a/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),t.x=this.long0-n/this.alfa,s=e,h=0;var u=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(h=1),s=t.y,u+=1;while(0===h&&15>u);return u>=15?null:t},n.names=["Krovak","krovak"]},{"../common/adjust_lon":5}],48:[function(t,e,n){var i=Math.PI/2,r=Math.PI/4,a=1e-10,o=t("../common/qsfnz"),s=t("../common/adjust_lon");n.S_POLE=1,n.N_POLE=2,n.EQUIT=3,n.OBLIQ=4,n.init=function(){var t=Math.abs(this.lat0);if(this.mode=Math.abs(t-i)<a?this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<a?this.EQUIT:this.OBLIQ,this.es>0){var e;switch(this.qp=o(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=o(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},n.forward=function(t){var e,n,h,l,u,c,d,f,p,g,m=t.x,v=t.y;if(m=s(m-this.long0),this.sphere){if(u=Math.sin(v),g=Math.cos(v),h=Math.cos(m),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+g*h:1+this.sinph0*u+this.cosph0*g*h,a>=n)return null;n=Math.sqrt(2/n),e=n*g*Math.sin(m),n*=this.mode===this.EQUIT?u:this.cosph0*u-this.sinph0*g*h}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(h=-h),Math.abs(v+this.phi0)<a)return null;n=r-.5*v,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(m),n*=h}}else{switch(d=0,f=0,p=0,h=Math.cos(m),l=Math.sin(m),u=Math.sin(v),c=o(this.e,u),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(d=c/this.qp,f=Math.sqrt(1-d*d)),this.mode){case this.OBLIQ:p=1+this.sinb1*d+this.cosb1*f*h;break;case this.EQUIT:p=1+f*h;break;case this.N_POLE:p=i+v,c=this.qp-c;break;case this.S_POLE:p=v-i,c=this.qp+c}if(Math.abs(p)<a)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:p=Math.sqrt(2/p),n=this.mode===this.OBLIQ?this.ymf*p*(this.cosb1*d-this.sinb1*f*h):(p=Math.sqrt(2/(1+f*h)))*d*this.ymf,e=this.xmf*p*f*l;break;case this.N_POLE:case this.S_POLE:c>=0?(e=(p=Math.sqrt(c))*l,n=h*(this.mode===this.S_POLE?p:-p)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,o,h,l,u,c=t.x/this.a,d=t.y/this.a;if(this.sphere){var f,p=0,g=0;if(f=Math.sqrt(c*c+d*d),n=.5*f,n>1)return null;switch(n=2*Math.asin(n),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(g=Math.sin(n),p=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(f)<=a?0:Math.asin(d*g/f),c*=g,d=p*f;break;case this.OBLIQ:n=Math.abs(f)<=a?this.phi0:Math.asin(p*this.sinph0+d*g*this.cosph0/f),c*=g*this.cosph0,d=(p-Math.sin(n)*this.sinph0)*f;break;case this.N_POLE:d=-d,n=i-n;break;case this.S_POLE:n-=i}e=0!==d||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(c,d):0}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(c/=this.dd,d*=this.dd,l=Math.sqrt(c*c+d*d),a>l)return t.x=0,t.y=this.phi0,t;o=2*Math.asin(.5*l/this.rq),r=Math.cos(o),c*=o=Math.sin(o),this.mode===this.OBLIQ?(u=r*this.sinb1+d*o*this.cosb1/l,h=this.qp*u,d=l*this.cosb1*r-d*this.sinb1*o):(u=d*o/l,h=this.qp*u,d=l*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(d=-d),h=c*c+d*d,!h)return t.x=0,t.y=this.phi0,t;u=1-h/this.qp,this.mode===this.S_POLE&&(u=-u)}e=Math.atan2(c,d),n=this.authlat(Math.asin(u),this.apa)}return t.x=s(this.long0+e),t.y=n,t},n.P00=.3333333333333333,n.P01=.17222222222222222,n.P02=.10257936507936508,n.P10=.06388888888888888,n.P11=.0664021164021164,n.P20=.016415012942191543,n.authset=function(t){var e,n=[];return n[0]=t*this.P00,e=t*t,n[0]+=e*this.P01,n[1]=e*this.P10,e*=t,n[0]+=e*this.P02,n[1]+=e*this.P11,n[2]=e*this.P20,n},n.authlat=function(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)},n.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},{"../common/adjust_lon":5,"../common/qsfnz":20}],49:[function(t,e,n){var i=1e-10,r=t("../common/msfnz"),a=t("../common/tsfnz"),o=Math.PI/2,s=t("../common/sign"),h=t("../common/adjust_lon"),l=t("../common/phi2z");n.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<i)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),o=r(this.e,e,n),s=a(this.e,this.lat1,e),h=Math.sin(this.lat2),l=Math.cos(this.lat2),u=r(this.e,h,l),c=a(this.e,this.lat2,h),d=a(this.e,this.lat0,Math.sin(this.lat0));this.ns=Math.abs(this.lat1-this.lat2)>i?Math.log(o/u)/Math.log(s/c):e,isNaN(this.ns)&&(this.ns=e),this.f0=o/(this.ns*Math.pow(s,this.ns)),this.rh=this.a*this.f0*Math.pow(d,this.ns),this.title||(this.title="Lambert Conformal Conic")}},n.forward=function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=i&&(n=s(n)*(o-2*i));var r,l,u=Math.abs(Math.abs(n)-o);if(u>i)r=a(this.e,n,Math.sin(n)),l=this.a*this.f0*Math.pow(r,this.ns);else{if(u=n*this.ns,0>=u)return null;l=0}var c=this.ns*h(e-this.long0);return t.x=this.k0*l*Math.sin(c)+this.x0,t.y=this.k0*(this.rh-l*Math.cos(c))+this.y0,t},n.inverse=function(t){var e,n,i,r,a,s=(t.x-this.x0)/this.k0,u=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+u*u),n=1):(e=-Math.sqrt(s*s+u*u),n=-1);var c=0;if(0!==e&&(c=Math.atan2(n*s,n*u)),0!==e||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),r=l(this.e,i),-9999===r)return null}else r=-o;return a=h(c/this.ns+this.long0),t.x=a,t.y=r,t},n.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],50:[function(t,e,n){function i(t){return t}n.init=function(){},n.forward=i,n.inverse=i,n.names=["longlat","identity"]},{}],51:[function(t,e,n){var i=t("../common/msfnz"),r=Math.PI/2,a=1e-10,o=57.29577951308232,s=t("../common/adjust_lon"),h=Math.PI/4,l=t("../common/tsfnz"),u=t("../common/phi2z");n.init=function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):i(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},n.forward=function(t){var e=t.x,n=t.y;if(n*o>90&&-90>n*o&&e*o>180&&-180>e*o)return null;var i,u;if(Math.abs(Math.abs(n)-r)<=a)return null;if(this.sphere)i=this.x0+this.a*this.k0*s(e-this.long0),u=this.y0+this.a*this.k0*Math.log(Math.tan(h+.5*n));else{var c=Math.sin(n),d=l(this.e,n,c);i=this.x0+this.a*this.k0*s(e-this.long0),u=this.y0-this.a*this.k0*Math.log(d)}return t.x=i,t.y=u,t},n.inverse=function(t){var e,n,i=t.x-this.x0,a=t.y-this.y0;if(this.sphere)n=r-2*Math.atan(Math.exp(-a/(this.a*this.k0)));else{var o=Math.exp(-a/(this.a*this.k0));if(n=u(this.e,o),-9999===n)return null}return e=s(this.long0+i/(this.a*this.k0)),t.x=e,t.y=n,t},n.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/tsfnz":24}],52:[function(t,e,n){var i=t("../common/adjust_lon");n.init=function(){},n.forward=function(t){var e=t.x,n=t.y,r=i(e-this.long0),a=this.x0+this.a*r,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=a,t.y=o,t},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e=i(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},n.names=["Miller_Cylindrical","mill"]},{"../common/adjust_lon":5}],53:[function(t,e,n){var i=t("../common/adjust_lon"),r=1e-10;n.init=function(){},n.forward=function(t){for(var e=t.x,n=t.y,a=i(e-this.long0),o=n,s=Math.PI*Math.sin(n),h=0;!0;h++){var l=-(o+Math.sin(o)-s)/(1+Math.cos(o));if(o+=l,Math.abs(l)<r)break}o/=2,Math.PI/2-Math.abs(n)<r&&(a=0);var u=.900316316158*this.a*a*Math.cos(o)+this.x0,c=1.4142135623731*this.a*Math.sin(o)+this.y0;return t.x=u,t.y=c,t},n.inverse=function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=i(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var a=Math.asin(n);return t.x=r,t.y=a,t},n.names=["Mollweide","moll"]},{"../common/adjust_lon":5}],54:[function(t,e,n){var i=484813681109536e-20;n.iterations=1,n.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},n.forward=function(t){var e,n=t.x,r=t.y,a=r-this.lat0,o=n-this.long0,s=a/i*1e-5,h=o,l=1,u=0;for(e=1;10>=e;e++)l*=s,u+=this.A[e]*l;var c,d,f=u,p=h,g=1,m=0,v=0,y=0;for(e=1;6>=e;e++)c=g*f-m*p,d=m*f+g*p,g=c,m=d,v=v+this.B_re[e]*g-this.B_im[e]*m,y=y+this.B_im[e]*g+this.B_re[e]*m;return t.x=y*this.a+this.x0,t.y=v*this.a+this.y0,t},n.inverse=function(t){var e,n,r,a=t.x,o=t.y,s=a-this.x0,h=o-this.y0,l=h/this.a,u=s/this.a,c=1,d=0,f=0,p=0;for(e=1;6>=e;e++)n=c*l-d*u,r=d*l+c*u,c=n,d=r,f=f+this.C_re[e]*c-this.C_im[e]*d,p=p+this.C_im[e]*c+this.C_re[e]*d;for(var g=0;g<this.iterations;g++){var m,v,y=f,x=p,b=l,M=u;for(e=2;6>=e;e++)m=y*f-x*p,v=x*f+y*p,y=m,x=v,b+=(e-1)*(this.B_re[e]*y-this.B_im[e]*x),M+=(e-1)*(this.B_im[e]*y+this.B_re[e]*x);y=1,x=0;var w=this.B_re[1],k=this.B_im[1];for(e=2;6>=e;e++)m=y*f-x*p,v=x*f+y*p,y=m,x=v,w+=e*(this.B_re[e]*y-this.B_im[e]*x),k+=e*(this.B_im[e]*y+this.B_re[e]*x);var S=w*w+k*k;f=(b*w+M*k)/S,p=(M*w-b*k)/S}var C=f,A=p,P=1,T=0;for(e=1;9>=e;e++)P*=C,T+=this.D[e]*P;var _=this.lat0+T*i*1e5,L=this.long0+A;return t.x=L,t.y=_,t},n.names=["New_Zealand_Map_Grid","nzmg"]},{}],55:[function(t,e,n){var i=t("../common/tsfnz"),r=t("../common/adjust_lon"),a=t("../common/phi2z"),o=Math.PI/2,s=Math.PI/4,h=1e-10;n.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var a=i(this.e,this.lat0,t),o=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));1>o*o&&(o=1);var s,h;if(isNaN(this.longc)){var l=i(this.e,this.lat1,Math.sin(this.lat1)),u=i(this.e,this.lat2,Math.sin(this.lat2));this.el=this.lat0>=0?(o+Math.sqrt(o*o-1))*Math.pow(a,this.bl):(o-Math.sqrt(o*o-1))*Math.pow(a,this.bl);var c=Math.pow(l,this.bl),d=Math.pow(u,this.bl);s=this.el/c,h=.5*(s-1/s);var f=(this.el*this.el-d*c)/(this.el*this.el+d*c),p=(d-c)/(d+c),g=r(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(f*Math.tan(.5*this.bl*g)/p)/this.bl,this.long0=r(this.long0);var m=r(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*m)/h),this.alpha=Math.asin(o*Math.sin(this.gamma0))}else s=this.lat0>=0?o+Math.sqrt(o*o-1):o-Math.sqrt(o*o-1),this.el=s*Math.pow(a,this.bl),h=.5*(s-1/s),this.gamma0=Math.asin(Math.sin(this.alpha)/o),this.long0=this.longc-Math.asin(h*Math.tan(this.gamma0))/this.bl;this.uc=this.no_off?0:this.lat0>=0?this.al/this.bl*Math.atan2(Math.sqrt(o*o-1),Math.cos(this.alpha)):-1*this.al/this.bl*Math.atan2(Math.sqrt(o*o-1),Math.cos(this.alpha))},n.forward=function(t){var e,n,a,l=t.x,u=t.y,c=r(l-this.long0);if(Math.abs(Math.abs(u)-o)<=h)a=u>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(s+a*this.gamma0*.5)),e=-1*a*o*this.al/this.bl;else{var d=i(this.e,u,Math.sin(u)),f=this.el/Math.pow(d,this.bl),p=.5*(f-1/f),g=.5*(f+1/f),m=Math.sin(this.bl*c),v=(p*Math.sin(this.gamma0)-m*Math.cos(this.gamma0))/g;n=Math.abs(Math.abs(v)-1)<=h?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-v)/(1+v))/this.bl,e=Math.abs(Math.cos(this.bl*c))<=h?this.al*this.bl*c:this.al*Math.atan2(p*Math.cos(this.gamma0)+m*Math.sin(this.gamma0),Math.cos(this.bl*c))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t},n.inverse=function(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var i=Math.exp(-1*this.bl*n/this.al),s=.5*(i-1/i),l=.5*(i+1/i),u=Math.sin(this.bl*e/this.al),c=(u*Math.cos(this.gamma0)+s*Math.sin(this.gamma0))/l,d=Math.pow(this.el/Math.sqrt((1+c)/(1-c)),1/this.bl);return Math.abs(c-1)<h?(t.x=this.long0,t.y=o):Math.abs(c+1)<h?(t.x=this.long0,t.y=-1*o):(t.y=a(this.e,d),t.x=r(this.long0-Math.atan2(s*Math.cos(this.gamma0)-u*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},n.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},{"../common/adjust_lon":5,"../common/phi2z":16,"../common/tsfnz":24}],56:[function(t,e,n){var i=t("../common/e0fn"),r=t("../common/e1fn"),a=t("../common/e2fn"),o=t("../common/e3fn"),s=t("../common/adjust_lon"),h=t("../common/adjust_lat"),l=t("../common/mlfn"),u=1e-10,c=t("../common/gN"),d=20;n.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=i(this.es),this.e1=r(this.es),this.e2=a(this.es),this.e3=o(this.es),this.ml0=this.a*l(this.e0,this.e1,this.e2,this.e3,this.lat0)},n.forward=function(t){var e,n,i,r=t.x,a=t.y,o=s(r-this.long0);if(i=o*Math.sin(a),this.sphere)Math.abs(a)<=u?(e=this.a*o,n=-1*this.a*this.lat0):(e=this.a*Math.sin(i)/Math.tan(a),n=this.a*(h(a-this.lat0)+(1-Math.cos(i))/Math.tan(a)));else if(Math.abs(a)<=u)e=this.a*o,n=-1*this.ml0;else{var d=c(this.a,this.e,Math.sin(a))/Math.tan(a);e=d*Math.sin(i),n=this.a*l(this.e0,this.e1,this.e2,this.e3,a)-this.ml0+d*(1-Math.cos(i))}return t.x=e+this.x0,t.y=n+this.y0,t},n.inverse=function(t){var e,n,i,r,a,o,h,c,f;if(i=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=u)e=s(i/this.a+this.long0),n=0;else{o=this.lat0+r/this.a,h=i*i/this.a/this.a+o*o,c=o;var p;for(a=d;a;--a)if(p=Math.tan(c),f=-1*(o*(c*p+1)-c-.5*(c*c+h)*p)/((c-o)/p-1),c+=f,Math.abs(f)<=u){n=c;break}e=s(this.long0+Math.asin(i*Math.tan(c)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=u)n=0,e=s(this.long0+i/this.a);else{o=(this.ml0+r)/this.a,h=i*i/this.a/this.a+o*o,c=o;var g,m,v,y,x;for(a=d;a;--a)if(x=this.e*Math.sin(c),g=Math.sqrt(1-x*x)*Math.tan(c),m=this.a*l(this.e0,this.e1,this.e2,this.e3,c),v=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),y=m/this.a,f=(o*(g*y+1)-y-.5*g*(y*y+h))/(this.es*Math.sin(2*c)*(y*y+h-2*o*y)/(4*g)+(o-y)*(g*v-2/Math.sin(2*c))-v),c-=f,Math.abs(f)<=u){n=c;break}g=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=s(this.long0+Math.asin(i*g/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},n.names=["Polyconic","poly"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/mlfn":14}],57:[function(t,e,n){var i=t("../common/adjust_lon"),r=t("../common/adjust_lat"),a=t("../common/pj_enfn"),o=20,s=t("../common/pj_mlfn"),h=t("../common/pj_inv_mlfn"),l=Math.PI/2,u=1e-10,c=t("../common/asinz");n.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=a(this.es)},n.forward=function(t){var e,n,r=t.x,a=t.y;if(r=i(r-this.long0),this.sphere){if(this.m)for(var h=this.n*Math.sin(a),l=o;l;--l){var c=(this.m*a+Math.sin(a)-h)/(this.m+Math.cos(a));if(a-=c,Math.abs(c)<u)break}else a=1!==this.n?Math.asin(this.n*Math.sin(a)):a;e=this.a*this.C_x*r*(this.m+Math.cos(a)),n=this.a*this.C_y*a}else{var d=Math.sin(a),f=Math.cos(a);n=this.a*s(a,d,f,this.en),e=this.a*r*f/Math.sqrt(1-this.es*d*d)}return t.x=e,t.y=n,t},n.inverse=function(t){var e,n,a,o;return t.x-=this.x0,a=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,a/=this.C_x*(this.m+Math.cos(e)),this.m?e=c((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=c(Math.sin(e)/this.n)),a=i(a+this.long0),e=r(e)):(e=h(t.y/this.a,this.es,this.en),o=Math.abs(e),l>o?(o=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*o*o)/(this.a*Math.cos(e)),a=i(n)):l>o-u&&(a=this.long0)),t.x=a,t.y=e,t},n.names=["Sinusoidal","sinu"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/asinz":6,"../common/pj_enfn":17,"../common/pj_inv_mlfn":18,"../common/pj_mlfn":19}],58:[function(t,e,n){n.init=function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=this.rf,r=1/i,a=2*r-Math.pow(r,2),o=this.e=Math.sqrt(a);this.R=this.k0*n*Math.sqrt(1-a)/(1-a*Math.pow(e,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),h=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+o*e)/(1-o*e));this.K=s-this.alpha*h+this.alpha*o/2*l},n.forward=function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),a=this.alpha*(t.x-this.lambda0),o=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(a))),s=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(a));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*o+this.x0,t},n.inverse=function(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,r=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),o=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),s=this.lambda0+o/this.alpha,h=0,l=a,u=-1e3,c=0;Math.abs(l-u)>1e-7;){if(++c>20)return;h=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),u=l,l=2*Math.atan(Math.exp(h))-Math.PI/2}return t.x=s,t.y=l,t},n.names=["somerc"]},{}],59:[function(t,e,n){var i=Math.PI/2,r=1e-10,a=t("../common/sign"),o=t("../common/msfnz"),s=t("../common/tsfnz"),h=t("../common/phi2z"),l=t("../common/adjust_lon");n.ssfn_=function(t,e,n){return e*=n,Math.tan(.5*(i+t))*Math.pow((1-e)/(1+e),.5*n)},n.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=r&&(this.k0=.5*(1+a(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=r&&(this.con=this.lat0>0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=r&&(this.k0=.5*this.cons*o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/s(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=o(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-i,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},n.forward=function(t){var e,n,a,o,h,u,c=t.x,d=t.y,f=Math.sin(d),p=Math.cos(d),g=l(c-this.long0);return Math.abs(Math.abs(c-this.long0)-Math.PI)<=r&&Math.abs(d+this.lat0)<=r?(t.x=0/0,t.y=0/0,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*f+this.coslat0*p*Math.cos(g)),t.x=this.a*e*p*Math.sin(g)+this.x0,t.y=this.a*e*(this.coslat0*f-this.sinlat0*p*Math.cos(g))+this.y0,t):(n=2*Math.atan(this.ssfn_(d,f,this.e))-i,o=Math.cos(n),a=Math.sin(n),Math.abs(this.coslat0)<=r?(h=s(this.e,d*this.con,this.con*f),u=2*this.a*this.k0*h/this.cons,t.x=this.x0+u*Math.sin(c-this.long0),t.y=this.y0-this.con*u*Math.cos(c-this.long0),t):(Math.abs(this.sinlat0)<r?(e=2*this.a*this.k0/(1+o*Math.cos(g)),t.y=e*a):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*o*Math.cos(g))),t.y=e*(this.cosX0*a-this.sinX0*o*Math.cos(g))+this.y0),t.x=e*o*Math.sin(g)+this.x0,t))},n.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,a,o,s,u=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var c=2*Math.atan(u/(.5*this.a*this.k0));return e=this.long0,n=this.lat0,r>=u?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(c)*this.sinlat0+t.y*Math.sin(c)*this.coslat0/u),e=l(Math.abs(this.coslat0)<r?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(c),u*this.coslat0*Math.cos(c)-t.y*this.sinlat0*Math.sin(c))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=r){if(r>=u)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,a=u*this.cons/(2*this.a*this.k0),n=this.con*h(this.e,a),e=this.con*l(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else o=2*Math.atan(u*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,r>=u?s=this.X0:(s=Math.asin(Math.cos(o)*this.sinX0+t.y*Math.sin(o)*this.cosX0/u),e=l(this.long0+Math.atan2(t.x*Math.sin(o),u*this.cosX0*Math.cos(o)-t.y*this.sinX0*Math.sin(o)))),n=-1*h(this.e,Math.tan(.5*(i+s)));return t.x=e,t.y=n,t},n.names=["stere"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],60:[function(t,e,n){var i=t("./gauss"),r=t("../common/adjust_lon");n.init=function(){i.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},n.forward=function(t){var e,n,a,o;return t.x=r(t.x-this.long0),i.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),a=Math.cos(t.x),o=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*a),t.x=o*n*Math.sin(t.x),t.y=o*(this.cosc0*e-this.sinc0*n*a),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},n.inverse=function(t){var e,n,a,o,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=Math.sqrt(t.x*t.x+t.y*t.y)){var h=2*Math.atan2(s,this.R2);e=Math.sin(h),n=Math.cos(h),o=Math.asin(n*this.sinc0+t.y*e*this.cosc0/s),a=Math.atan2(t.x*e,s*this.cosc0*n-t.y*this.sinc0*e)}else o=this.phic0,a=0;return t.x=a,t.y=o,i.inverse.apply(this,[t]),t.x=r(t.x+this.long0),t},n.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},{"../common/adjust_lon":5,"./gauss":45}],61:[function(t,e,n){var i=t("../common/e0fn"),r=t("../common/e1fn"),a=t("../common/e2fn"),o=t("../common/e3fn"),s=t("../common/mlfn"),h=t("../common/adjust_lon"),l=Math.PI/2,u=1e-10,c=t("../common/sign"),d=t("../common/asinz");n.init=function(){this.e0=i(this.es),this.e1=r(this.es),this.e2=a(this.es),this.e3=o(this.es),this.ml0=this.a*s(this.e0,this.e1,this.e2,this.e3,this.lat0)},n.forward=function(t){var e,n,i,r=t.x,a=t.y,o=h(r-this.long0),l=Math.sin(a),u=Math.cos(a);if(this.sphere){var c=u*Math.sin(o);if(Math.abs(Math.abs(c)-1)<1e-10)return 93;n=.5*this.a*this.k0*Math.log((1+c)/(1-c)),e=Math.acos(u*Math.cos(o)/Math.sqrt(1-c*c)),0>a&&(e=-e),i=this.a*this.k0*(e-this.lat0)}else{var d=u*o,f=Math.pow(d,2),p=this.ep2*Math.pow(u,2),g=Math.tan(a),m=Math.pow(g,2);e=1-this.es*Math.pow(l,2);var v=this.a/Math.sqrt(e),y=this.a*s(this.e0,this.e1,this.e2,this.e3,a);n=this.k0*v*d*(1+f/6*(1-m+p+f/20*(5-18*m+Math.pow(m,2)+72*p-58*this.ep2)))+this.x0,i=this.k0*(y-this.ml0+v*g*f*(.5+f/24*(5-m+9*p+4*Math.pow(p,2)+f/30*(61-58*m+Math.pow(m,2)+600*p-330*this.ep2))))+this.y0}return t.x=n,t.y=i,t},n.inverse=function(t){var e,n,i,r,a,o,s=6;if(this.sphere){var f=Math.exp(t.x/(this.a*this.k0)),p=.5*(f-1/f),g=this.lat0+t.y/(this.a*this.k0),m=Math.cos(g);e=Math.sqrt((1-m*m)/(1+p*p)),a=d(e),0>g&&(a=-a),o=0===p&&0===m?this.long0:h(Math.atan2(p,m)+this.long0)}else{var v=t.x-this.x0,y=t.y-this.y0;for(e=(this.ml0+y/this.k0)/this.a,n=e,r=0;i=(e+this.e1*Math.sin(2*n)-this.e2*Math.sin(4*n)+this.e3*Math.sin(6*n))/this.e0-n,n+=i,!(Math.abs(i)<=u);r++)if(r>=s)return 95;if(Math.abs(n)<l){var x=Math.sin(n),b=Math.cos(n),M=Math.tan(n),w=this.ep2*Math.pow(b,2),k=Math.pow(w,2),S=Math.pow(M,2),C=Math.pow(S,2);e=1-this.es*Math.pow(x,2);var A=this.a/Math.sqrt(e),P=A*(1-this.es)/e,T=v/(A*this.k0),_=Math.pow(T,2);a=n-A*M*_/P*(.5-_/24*(5+3*S+10*w-4*k-9*this.ep2-_/30*(61+90*S+298*w+45*C-252*this.ep2-3*k))),o=h(this.long0+T*(1-_/6*(1+2*S+w-_/20*(5-2*w+28*S-3*k+8*this.ep2+24*C)))/b)}else a=l*c(y),o=this.long0}return t.x=o,t.y=a,t},n.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/mlfn":14,"../common/sign":21}],62:[function(t,e,n){var i=.017453292519943295,r=t("./tmerc");n.dependsOn="tmerc",n.init=function(){this.zone&&(this.lat0=0,this.long0=(6*Math.abs(this.zone)-183)*i,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,r.init.apply(this),this.forward=r.forward,this.inverse=r.inverse)},n.names=["Universal Transverse Mercator System","utm"]},{"./tmerc":61}],63:[function(t,e,n){var i=t("../common/adjust_lon"),r=Math.PI/2,a=1e-10,o=t("../common/asinz");n.init=function(){this.R=this.a},n.forward=function(t){var e,n,s=t.x,h=t.y,l=i(s-this.long0);Math.abs(h)<=a&&(e=this.x0+this.R*l,n=this.y0);var u=o(2*Math.abs(h/Math.PI));(Math.abs(l)<=a||Math.abs(Math.abs(h)-r)<=a)&&(e=this.x0,n=h>=0?this.y0+Math.PI*this.R*Math.tan(.5*u):this.y0+Math.PI*this.R*-Math.tan(.5*u));var c=.5*Math.abs(Math.PI/l-l/Math.PI),d=c*c,f=Math.sin(u),p=Math.cos(u),g=p/(f+p-1),m=g*g,v=g*(2/f-1),y=v*v,x=Math.PI*this.R*(c*(g-y)+Math.sqrt(d*(g-y)*(g-y)-(y+d)*(m-y)))/(y+d);0>l&&(x=-x),e=this.x0+x;var b=d+g;return x=Math.PI*this.R*(v*b-c*Math.sqrt((y+d)*(d+1)-b*b))/(y+d),n=h>=0?this.y0+x:this.y0-x,t.x=e,t.y=n,t},n.inverse=function(t){var e,n,r,o,s,h,l,u,c,d,f,p,g;return t.x-=this.x0,t.y-=this.y0,f=Math.PI*this.R,r=t.x/f,o=t.y/f,s=r*r+o*o,h=-Math.abs(o)*(1+s),l=h-2*o*o+r*r,u=-2*h+1+2*o*o+s*s,g=o*o/u+(2*l*l*l/u/u/u-9*h*l/u/u)/27,c=(h-l*l/3/u)/u,d=2*Math.sqrt(-c/3),f=3*g/c/d,Math.abs(f)>1&&(f=f>=0?1:-1),p=Math.acos(f)/3,n=t.y>=0?(-d*Math.cos(p+Math.PI/3)-l/3/u)*Math.PI:-(-d*Math.cos(p+Math.PI/3)-l/3/u)*Math.PI,e=Math.abs(r)<a?this.long0:i(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(r*r-o*o)+s*s))/2/r),t.x=e,t.y=n,t},n.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},{"../common/adjust_lon":5,"../common/asinz":6}],64:[function(t,e){var n=.017453292519943295,i=57.29577951308232,r=1,a=2,o=t("./datum_transform"),s=t("./adjust_axis"),h=t("./Proj"),l=t("./common/toPoint");e.exports=function u(t,e,c){function d(t,e){return(t.datum.datum_type===r||t.datum.datum_type===a)&&"WGS84"!==e.datumCode}var f;return Array.isArray(c)&&(c=l(c)),t.datum&&e.datum&&(d(t,e)||d(e,t))&&(f=new h("WGS84"),u(t,f,c),t=f),"enu"!==t.axis&&s(t,!1,c),"longlat"===t.projName?(c.x*=n,c.y*=n):(t.to_meter&&(c.x*=t.to_meter,c.y*=t.to_meter),t.inverse(c)),t.from_greenwich&&(c.x+=t.from_greenwich),c=o(t.datum,e.datum,c),e.from_greenwich&&(c.x-=e.from_greenwich),"longlat"===e.projName?(c.x*=i,c.y*=i):(e.forward(c),e.to_meter&&(c.x/=e.to_meter,c.y/=e.to_meter)),"enu"!==e.axis&&s(e,!0,c),c}},{"./Proj":2,"./adjust_axis":3,"./common/toPoint":23,"./datum_transform":30}],65:[function(t,e){function n(t,e,n){t[e]=n.map(function(t){var e={};return i(t,e),e}).reduce(function(t,e){return h(t,e)},{})}function i(t,e){var r;return Array.isArray(t)?(r=t.shift(),"PARAMETER"===r&&(r=t.shift()),void(1===t.length?Array.isArray(t[0])?(e[r]={},i(t[0],e[r])):e[r]=t[0]:t.length?"TOWGS84"===r?e[r]=t:(e[r]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(r)>-1?(e[r]={name:t[0].toLowerCase(),convert:t[1]},3===t.length&&(e[r].auth=t[2])):"SPHEROID"===r?(e[r]={name:t[0],a:t[1],rf:t[2]},4===t.length&&(e[r].auth=t[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(r)>-1?(t[0]=["name",t[0]],n(e,r,t)):t.every(function(t){return Array.isArray(t)})?n(e,r,t):i(t,e[r])):e[r]=!0)):void(e[t]=!0)}function r(t,e){var n=e[0],i=e[1];!(n in t)&&i in t&&(t[n]=t[i],3===e.length&&(t[n]=e[2](t[n])))}function a(t){return t*s}function o(t){function e(e){var n=t.to_meter||1;return parseFloat(e,10)*n}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):t.projName="object"==typeof t.PROJECTION?Object.keys(t.PROJECTION)[0]:t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&(t.to_meter=parseFloat(t.UNIT.convert,10))),t.GEOGCS&&(t.datumCode=t.GEOGCS.DATUM?t.GEOGCS.DATUM.name.toLowerCase():t.GEOGCS.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),("new_zealand_geodetic_datum_1949"===t.datumCode||"new_zealand_1949"===t.datumCode)&&(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),t.GEOGCS.DATUM&&t.GEOGCS.DATUM.SPHEROID&&(t.ellps=t.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=t.GEOGCS.DATUM.SPHEROID.a,t.rf=parseFloat(t.GEOGCS.DATUM.SPHEROID.rf,10)),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36")),t.b&&!isFinite(t.b)&&(t.b=t.a);
var n=function(e){return r(t,e)},i=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",a],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",a],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",a],["lat0","latitude_of_origin",a],["lat0","standard_parallel_1",a],["lat1","standard_parallel_1",a],["lat2","standard_parallel_2",a],["alpha","azimuth",a],["srsCode","name"]];i.forEach(n),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.PROJECTION&&"Lambert_Azimuthal_Equal_Area"!==t.PROJECTION||(t.long0=t.longc)}var s=.017453292519943295,h=t("./extend");e.exports=function(t,e){var n=JSON.parse((","+t).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),r=n.shift(),a=n.shift();n.unshift(["name",a]),n.unshift(["type",r]),n.unshift("output");var s={};return i(n,s),o(s.output),h(e,s.output)}},{"./extend":33}],66:[function(t,e,n){function i(t){return t*(Math.PI/180)}function r(t){return 180*(t/Math.PI)}function a(t){var e,n,r,a,o,h,l,u,c,d=t.lat,f=t.lon,p=6378137,g=.00669438,m=.9996,v=i(d),y=i(f);c=Math.floor((f+180)/6)+1,180===f&&(c=60),d>=56&&64>d&&f>=3&&12>f&&(c=32),d>=72&&84>d&&(f>=0&&9>f?c=31:f>=9&&21>f?c=33:f>=21&&33>f?c=35:f>=33&&42>f&&(c=37)),e=6*(c-1)-180+3,u=i(e),n=g/(1-g),r=p/Math.sqrt(1-g*Math.sin(v)*Math.sin(v)),a=Math.tan(v)*Math.tan(v),o=n*Math.cos(v)*Math.cos(v),h=Math.cos(v)*(y-u),l=p*((1-g/4-3*g*g/64-5*g*g*g/256)*v-(3*g/8+3*g*g/32+45*g*g*g/1024)*Math.sin(2*v)+(15*g*g/256+45*g*g*g/1024)*Math.sin(4*v)-35*g*g*g/3072*Math.sin(6*v));var x=m*r*(h+(1-a+o)*h*h*h/6+(5-18*a+a*a+72*o-58*n)*h*h*h*h*h/120)+5e5,b=m*(l+r*Math.tan(v)*(h*h/2+(5-a+9*o+4*o*o)*h*h*h*h/24+(61-58*a+a*a+600*o-330*n)*h*h*h*h*h*h/720));return 0>d&&(b+=1e7),{northing:Math.round(b),easting:Math.round(x),zoneNumber:c,zoneLetter:s(d)}}function o(t){var e=t.northing,n=t.easting,i=t.zoneLetter,a=t.zoneNumber;if(0>a||a>60)return null;var s,h,l,u,c,d,f,p,g,m,v=.9996,y=6378137,x=.00669438,b=(1-Math.sqrt(1-x))/(1+Math.sqrt(1-x)),M=n-5e5,w=e;"N">i&&(w-=1e7),p=6*(a-1)-180+3,s=x/(1-x),f=w/v,g=f/(y*(1-x/4-3*x*x/64-5*x*x*x/256)),m=g+(3*b/2-27*b*b*b/32)*Math.sin(2*g)+(21*b*b/16-55*b*b*b*b/32)*Math.sin(4*g)+151*b*b*b/96*Math.sin(6*g),h=y/Math.sqrt(1-x*Math.sin(m)*Math.sin(m)),l=Math.tan(m)*Math.tan(m),u=s*Math.cos(m)*Math.cos(m),c=y*(1-x)/Math.pow(1-x*Math.sin(m)*Math.sin(m),1.5),d=M/(h*v);var k=m-h*Math.tan(m)/c*(d*d/2-(5+3*l+10*u-4*u*u-9*s)*d*d*d*d/24+(61+90*l+298*u+45*l*l-252*s-3*u*u)*d*d*d*d*d*d/720);k=r(k);var S=(d-(1+2*l+u)*d*d*d/6+(5-2*u+28*l-3*u*u+8*s+24*l*l)*d*d*d*d*d/120)/Math.cos(m);S=p+r(S);var C;if(t.accuracy){var A=o({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});C={top:A.lat,right:A.lon,bottom:k,left:S}}else C={lat:k,lon:S};return C}function s(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function h(t,e){var n=""+t.easting,i=""+t.northing;return t.zoneNumber+t.zoneLetter+l(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+i.substr(i.length-5,e)}function l(t,e,n){var i=u(n),r=Math.floor(t/1e5),a=Math.floor(e/1e5)%20;return c(r,a,i)}function u(t){var e=t%m;return 0===e&&(e=m),e}function c(t,e,n){var i=n-1,r=v.charCodeAt(i),a=y.charCodeAt(i),o=r+t-1,s=a+e,h=!1;o>k&&(o=o-k+x-1,h=!0),(o===b||b>r&&o>b||(o>b||b>r)&&h)&&o++,(o===M||M>r&&o>M||(o>M||M>r)&&h)&&(o++,o===b&&o++),o>k&&(o=o-k+x-1),s>w?(s=s-w+x-1,h=!0):h=!1,(s===b||b>a&&s>b||(s>b||b>a)&&h)&&s++,(s===M||M>a&&s>M||(s>M||M>a)&&h)&&(s++,s===b&&s++),s>w&&(s=s-w+x-1);var l=String.fromCharCode(o)+String.fromCharCode(s);return l}function d(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,i=null,r="",a=0;!/[A-Z]/.test(e=t.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,a++}var o=parseInt(r,10);if(0===a||a+3>n)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(a++);if("A">=s||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+t;i=t.substring(a,a+=2);for(var h=u(o),l=f(i.charAt(0),h),c=p(i.charAt(1),h);c<g(s);)c+=2e6;var d=n-a;if(d%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var m,v,y,x,b,M=d/2,w=0,k=0;return M>0&&(m=1e5/Math.pow(10,M),v=t.substring(a,a+M),w=parseFloat(v)*m,y=t.substring(a+M),k=parseFloat(y)*m),x=w+l,b=k+c,{easting:x,northing:b,zoneLetter:s,zoneNumber:o,accuracy:m}}function f(t,e){for(var n=v.charCodeAt(e-1),i=1e5,r=!1;n!==t.charCodeAt(0);){if(n++,n===b&&n++,n===M&&n++,n>k){if(r)throw"Bad character: "+t;n=x,r=!0}i+=1e5}return i}function p(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=y.charCodeAt(e-1),i=0,r=!1;n!==t.charCodeAt(0);){if(n++,n===b&&n++,n===M&&n++,n>w){if(r)throw"Bad character: "+t;n=x,r=!0}i+=1e5}return i}function g(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}var m=6,v="AJSAJS",y="AFAFAF",x=65,b=73,M=79,w=86,k=90;n.forward=function(t,e){return e=e||5,h(a({lat:t[1],lon:t[0]}),e)},n.inverse=function(t){var e=o(d(t.toUpperCase()));return[e.left,e.bottom,e.right,e.top]},n.toPoint=function(t){var e=n.inverse(t);return[(e[2]+e[0])/2,(e[3]+e[1])/2]}},{}],67:[function(t,e){e.exports={name:"proj4",version:"2.3.3",description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",main:"lib/index.js",directories:{test:"test",doc:"docs"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},author:"",license:"MIT",jam:{main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},devDependencies:{"grunt-cli":"~0.1.13",grunt:"~0.4.2","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0",chai:"~1.8.1",mocha:"~1.17.1","grunt-mocha-phantomjs":"~0.4.0",browserify:"~3.24.5","grunt-browserify":"~1.3.0","grunt-contrib-uglify":"~0.3.2",curl:"git://github.com/cujojs/curl.git",istanbul:"~0.2.4",tin:"~0.4.0"},dependencies:{mgrs:"0.0.0"}}},{}],"./includedProjections":[function(t,e){e.exports=t("gWUPNW")},{}],gWUPNW:[function(t,e){var n=[t("./lib/projections/tmerc"),t("./lib/projections/utm"),t("./lib/projections/sterea"),t("./lib/projections/stere"),t("./lib/projections/somerc"),t("./lib/projections/omerc"),t("./lib/projections/lcc"),t("./lib/projections/krovak"),t("./lib/projections/cass"),t("./lib/projections/laea"),t("./lib/projections/aea"),t("./lib/projections/gnom"),t("./lib/projections/cea"),t("./lib/projections/eqc"),t("./lib/projections/poly"),t("./lib/projections/nzmg"),t("./lib/projections/mill"),t("./lib/projections/sinu"),t("./lib/projections/moll"),t("./lib/projections/eqdc"),t("./lib/projections/vandg"),t("./lib/projections/aeqd")];e.exports=function(t){n.forEach(function(e){t.Proj.projections.add(e)})}},{"./lib/projections/aea":39,"./lib/projections/aeqd":40,"./lib/projections/cass":41,"./lib/projections/cea":42,"./lib/projections/eqc":43,"./lib/projections/eqdc":44,"./lib/projections/gnom":46,"./lib/projections/krovak":47,"./lib/projections/laea":48,"./lib/projections/lcc":49,"./lib/projections/mill":52,"./lib/projections/moll":53,"./lib/projections/nzmg":54,"./lib/projections/omerc":55,"./lib/projections/poly":56,"./lib/projections/sinu":57,"./lib/projections/somerc":58,"./lib/projections/stere":59,"./lib/projections/sterea":60,"./lib/projections/tmerc":61,"./lib/projections/utm":62,"./lib/projections/vandg":63}]},{},[35])(35)}),!function(t,e){"object"==typeof module&&module.exports?module.exports=t.document?e(t):e:t.Highcharts=e(t)}("undefined"!=typeof window?window:this,function(){var t=function(){var t=window,e=t.document,n="http://www.w3.org/2000/svg",i=t.navigator&&t.navigator.userAgent||"",r=e&&e.createElementNS&&!!e.createElementNS(n,"svg").createSVGRect,a=/(edge|msie|trident)/i.test(i)&&!window.opera,o=!r,s=/Firefox/.test(i),h=s&&parseInt(i.split("Firefox/")[1],10)<4,l=t.Highcharts?t.Highcharts.error(16,!0):{product:"Highcharts",version:"5.0.4",deg2rad:2*Math.PI/360,doc:e,hasBidiBug:h,hasTouch:e&&void 0!==e.documentElement.ontouchstart,isMS:a,isWebKit:/AppleWebKit/.test(i),isFirefox:s,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(i),SVG_NS:n,chartCount:0,seriesTypes:{},symbolSizes:{},svg:r,vml:o,win:t,charts:[],marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){return void 0}};return l}();return function(t){var e=[],n=t.charts,i=t.doc,r=t.win;t.error=function(t,e){var n="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw new Error(n);r.console&&console.log(n)},t.Fx=function(t,e,n){this.options=e,this.elem=t,this.prop=n},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],n=this.paths[1],i=[],r=this.now,a=e.length;if(1===r)i=this.toD;else if(a===n.length&&1>r)for(;a--;)t=parseFloat(e[a]),i[a]=isNaN(t)?e[a]:r*parseFloat(n[a]-t)+t;else i=n;this.elem.animProp="d",this.elem.attr("d",i),this.elem.animProp=null},update:function(){var t=this.elem,e=this.prop,n=this.now,i=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&(t.animProp=e,t.attr(e,n),t.animProp=null):t.style[e]=n+this.unit,i&&i.call(t,n,this)},run:function(t,n,i){var r,a=this,o=function(t){return o.stopped?!1:a.step(t)};this.startTime=+new Date,this.start=t,this.end=n,this.unit=i,this.now=this.start,this.pos=0,o.elem=this.elem,o.prop=this.prop,o()&&1===e.push(o)&&(o.timerId=setInterval(function(){for(r=0;r<e.length;r++)e[r]()||e.splice(r--,1);e.length||clearInterval(o.timerId)},13))},step:function(t){var e,n,i,r=+new Date,a=this.options,o=this.elem,s=a.complete,h=a.duration,l=a.curAnim;if(o.attr&&!o.element)e=!1;else if(t||r>=h+this.startTime){this.now=this.end,this.pos=1,this.update(),l[this.prop]=!0,n=!0;for(i in l)l[i]!==!0&&(n=!1);n&&s&&s.call(o),e=!1}else this.pos=a.easing((r-this.startTime)/h),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0;return e},initPath:function(e,n,i){function r(t){var e,n;for(c=t.length;c--;)e="M"===t[c]||"L"===t[c],n=/[a-zA-Z]/.test(t[c+3]),e&&!n&&t.splice(c+1,0,t[c+1],t[c+2],t[c+1],t[c+2])}function a(t,e,n){[].splice.apply(t,[n,0].concat(e))}function o(t,e){for(;t.length<l;)t[0]=e[l-t.length],a(t,t.slice(0,m),0),x&&(a(t,t.slice(t.length-m),t.length),c--);t[0]="M"}function s(t,e){for(var n=(l-t.length)/m;n>0&&n--;)u=t.slice().splice(t.length/b-m,m*b),u[0]=e[l-m-n*m],g&&(u[m-6]=u[m-2],u[m-5]=u[m-1]),a(t,u,t.length/b),x&&n--}n=n||"";var h,l,u,c,d,f=e.startX,p=e.endX,g=n.indexOf("C")>-1,m=g?7:3,v=n.split(" "),y=i.slice(),x=e.isArea,b=x?2:1;if(g&&(r(v),r(y)),f&&p){for(c=0;c<f.length;c++){if(f[c]===p[0]){h=c;break}if(f[0]===p[p.length-f.length+c]){h=c,d=!0;break}}void 0===h&&(v=[])}return v.length&&t.isNumber(h)&&(l=y.length+h*b*m,d?(o(v,y),s(y,v)):(o(y,v),s(v,y))),[v,y]}},t.extend=function(t,e){var n;t||(t={});for(n in e)t[n]=e[n];return t},t.merge=function(){var e,n,i=arguments,r={},a=function(e,n){var i,r;"object"!=typeof e&&(e={});for(r in n)n.hasOwnProperty(r)&&(i=n[r],e[r]=t.isObject(i,!0)&&"renderTo"!==r&&"number"!=typeof i.nodeType?a(e[r]||{},i):n[r]);return e};for(i[0]===!0&&(r=i[1],i=Array.prototype.slice.call(i,2)),n=i.length,e=0;n>e;e++)r=a(r,i[e]);return r},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"==typeof t},t.isArray=function(t){var e=Object.prototype.toString.call(t);return"[object Array]"===e||"[object Array Iterator]"===e},t.isObject=function(e,n){return e&&"object"==typeof e&&(!n||!t.isArray(e))},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.erase=function(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}},t.defined=function(t){return void 0!==t&&null!==t},t.attr=function(e,n,i){var r,a;if(t.isString(n))t.defined(i)?e.setAttribute(n,i):e&&e.getAttribute&&(a=e.getAttribute(n));else if(t.defined(n)&&t.isObject(n))for(r in n)e.setAttribute(r,n[r]);return a},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,n){return e?setTimeout(t,e,n):void t.call(0,n)},t.pick=function(){var t,e,n=arguments,i=n.length;for(t=0;i>t;t++)if(e=n[t],void 0!==e&&null!==e)return e},t.css=function(e,n){t.isMS&&!t.svg&&n&&void 0!==n.opacity&&(n.filter="alpha(opacity="+100*n.opacity+")"),t.extend(e.style,n)},t.createElement=function(e,n,r,a,o){var s=i.createElement(e),h=t.css;return n&&t.extend(s,n),o&&h(s,{padding:0,border:"none",margin:0}),r&&h(s,r),a&&a.appendChild(s),s},t.extendClass=function(e,n){var i=function(){};return i.prototype=new e,t.extend(i.prototype,n),i},t.pad=function(t,e,n){return new Array((e||2)+1-String(t).length).join(n||0)+t},t.relativeLength=function(t,e){return/%$/.test(t)?e*parseFloat(t)/100:parseFloat(t)},t.wrap=function(t,e,n){var i=t[e];t[e]=function(){var t,e=Array.prototype.slice.call(arguments),r=arguments,a=this;return a.proceed=function(){i.apply(a,arguments.length?arguments:r)},e.unshift(i),t=n.apply(this,e),a.proceed=null,t}},t.getTZOffset=function(e){var n=t.Date;return 6e4*(n.hcGetTimezoneOffset&&n.hcGetTimezoneOffset(e)||n.hcTimezoneOffset||0)},t.dateFormat=function(e,n,i){if(!t.defined(n)||isNaN(n))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var r,a=t.Date,o=new a(n-t.getTZOffset(n)),s=o[a.hcGetHours](),h=o[a.hcGetDay](),l=o[a.hcGetDate](),u=o[a.hcGetMonth](),c=o[a.hcGetFullYear](),d=t.defaultOptions.lang,f=d.weekdays,p=d.shortWeekdays,g=t.pad,m=t.extend({a:p?p[h]:f[h].substr(0,3),A:f[h],d:g(l),e:g(l,2," "),w:h,b:d.shortMonths[u],B:d.months[u],m:g(u+1),y:c.toString().substr(2,2),Y:c,H:g(s),k:s,I:g(s%12||12),l:s%12||12,M:g(o[a.hcGetMinutes]()),p:12>s?"AM":"PM",P:12>s?"am":"pm",S:g(o.getSeconds()),L:g(Math.round(n%1e3),3)},t.dateFormats);for(r in m)for(;-1!==e.indexOf("%"+r);)e=e.replace("%"+r,"function"==typeof m[r]?m[r](n):m[r]);return i?e.substr(0,1).toUpperCase()+e.substr(1):e},t.formatSingle=function(e,n){var i,r=/f$/,a=/\.([0-9])/,o=t.defaultOptions.lang;return r.test(e)?(i=e.match(a),i=i?i[1]:-1,null!==n&&(n=t.numberFormat(n,i,o.decimalPoint,e.indexOf(",")>-1?o.thousandsSep:""))):n=t.dateFormat(e,n),n},t.format=function(e,n){for(var i,r,a,o,s,h,l,u="{",c=!1,d=[];e&&(l=e.indexOf(u),-1!==l);){if(i=e.slice(0,l),c){for(r=i.split(":"),a=r.shift().split("."),s=a.length,h=n,o=0;s>o;o++)h=h[a[o]];r.length&&(h=t.formatSingle(r.join(":"),h)),d.push(h)}else d.push(i);e=e.slice(l+1),c=!c,u=c?"}":"{"}return d.push(e),d.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,n,i,r,a){var o,s,h=e;for(i=t.pick(i,1),o=e/i,n||(n=a?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],r===!1&&(1===i?n=t.grep(n,function(t){return t%1===0}):.1>=i&&(n=[1/i]))),s=0;s<n.length&&(h=n[s],!(a&&h*i>=e||!a&&o<=(n[s]+(n[s+1]||n[s]))/2));s++);return h*=i},t.stableSort=function(t,e){var n,i,r=t.length;for(i=0;r>i;i++)t[i].safeI=i;for(t.sort(function(t,i){return n=e(t,i),0===n?t.safeI-i.safeI:n}),i=0;r>i;i++)delete t[i].safeI},t.arrayMin=function(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n},t.arrayMax=function(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n},t.destroyObjectProperties=function(t,e){var n;for(n in t)t[n]&&t[n]!==e&&t[n].destroy&&t[n].destroy(),delete t[n]},t.discardElement=function(e){var n=t.garbageBin;n||(n=t.createElement("div")),e&&n.appendChild(e),n.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,n){n.renderer.globalAnimation=t.pick(e,n.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,n,i,r){function a(t,e){return(+(Math.round(+(t+"e"+e))+"e"+-e)).toFixed(e)}e=+e||0,n=+n;var o,s,h,l,u=t.defaultOptions.lang,c=(e.toString().split(".")[1]||"").length,d=Math.abs(e);return-1===n?n=Math.min(c,20):t.isNumber(n)||(n=2),s=String(t.pInt(a(d,n))),h=s.length>3?s.length%3:0,i=t.pick(i,u.decimalPoint),r=t.pick(r,u.thousandsSep),l=0>e?"-":"",l+=h?s.substr(0,h)+r:"",l+=s.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+r),n&&(o=Math.abs(d-s+Math.pow(10,-Math.max(n,c)-1)),l+=i+o.toFixed(n).slice(2)),l},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,n){var i;return"width"===n?Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right"):"height"===n?Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom"):(i=r.getComputedStyle(e,void 0),i&&t.pInt(i.getPropertyValue(n)))},t.inArray=function(t,e){return e.indexOf?e.indexOf(t):[].indexOf.call(e,t)},t.grep=function(t,e){return[].filter.call(t,e)},t.map=function(t,e){for(var n=[],i=0,r=t.length;r>i;i++)n[i]=e.call(t[i],t[i],i,t);return n},t.offset=function(t){var e=i.documentElement,n=t.getBoundingClientRect();return{top:n.top+(r.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(r.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(t,n){for(var i=e.length;i--;)e[i].elem!==t||n&&n!==e[i].prop||(e[i].stopped=!0)},t.each=function(t,e,n){return Array.prototype.forEach.call(t,e,n)},t.addEvent=function(e,n,i){function a(t){t.target=t.srcElement||r,i.call(e,t)}var o=e.hcEvents=e.hcEvents||{};return e.addEventListener?e.addEventListener(n,i,!1):e.attachEvent&&(e.hcEventsIE||(e.hcEventsIE={}),e.hcEventsIE[i.toString()]=a,e.attachEvent("on"+n,a)),o[n]||(o[n]=[]),o[n].push(i),function(){t.removeEvent(e,n,i)}},t.removeEvent=function(e,n,i){function r(t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&(n=e.hcEventsIE[n.toString()],e.detachEvent("on"+t,n))}function a(){var t,i,a;if(e.nodeName){n?(t={},t[n]=!0):t=h;for(a in t)if(h[a])for(i=h[a].length;i--;)r(a,h[a][i])}}var o,s,h=e.hcEvents;h&&(n?(o=h[n]||[],i?(s=t.inArray(i,o),s>-1&&(o.splice(s,1),h[n]=o),r(n,i)):(a(),h[n]=[])):(a(),e.hcEvents={}))},t.fireEvent=function(e,n,r,a){var o,s,h,l,u,c=e.hcEvents;if(r=r||{},i.createEvent&&(e.dispatchEvent||e.fireEvent))o=i.createEvent("Events"),o.initEvent(n,!0,!0),t.extend(o,r),e.dispatchEvent?e.dispatchEvent(o):e.fireEvent(n,o);else if(c)for(s=c[n]||[],h=s.length,r.target||t.extend(r,{preventDefault:function(){r.defaultPrevented=!0},target:e,type:n}),l=0;h>l;l++)u=s[l],u&&u.call(e,r)===!1&&r.preventDefault();a&&!r.defaultPrevented&&a(r)},t.animate=function(e,n,i){var r,a,o,s,h,l="";t.isObject(i)||(s=arguments,i={duration:s[2],easing:s[3],complete:s[4]}),t.isNumber(i.duration)||(i.duration=400),i.easing="function"==typeof i.easing?i.easing:Math[i.easing]||Math.easeInOutSine,i.curAnim=t.merge(n);for(h in n)t.stop(e,h),o=new t.Fx(e,i,h),a=null,"d"===h?(o.paths=o.initPath(e,e.d,n.d),o.toD=n.d,r=0,a=1):e.attr?r=e.attr(h):(r=parseFloat(t.getStyle(e,h))||0,"opacity"!==h&&(l="px")),a||(a=n[h]),a.match&&a.match("px")&&(a=a.replace(/px/g,"")),o.run(r,a,l)},t.seriesType=function(e,n,i,r,a){var o=t.getOptions(),s=t.seriesTypes;return o.plotOptions[e]=t.merge(o.plotOptions[n],i),s[e]=t.extendClass(s[n]||function(){},r),s[e].prototype.type=e,a&&(s[e].prototype.pointClass=t.extendClass(t.Point,a)),s[e]},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),r.jQuery&&(r.jQuery.fn.highcharts=function(){var e=[].slice.call(arguments);return this[0]?e[0]?(new(t[t.isString(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):n[t.attr(this[0],"data-highcharts-chart")]:void 0}),i&&!i.defaultView&&(t.getStyle=function(e,n){var i,r={width:"clientWidth",height:"clientHeight"}[n];return e.style[n]?t.pInt(e.style[n]):("opacity"===n&&(n="filter"),r?(e.style.zoom=1,Math.max(e[r]-2*t.getStyle(e,"padding"),0)):(i=e.currentStyle[n.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})],"filter"===n&&(i=i.replace(/alpha\(opacity=([0-9]+)\)/,function(t,e){return e/100})),""===i?1:t.pInt(i)))}),Array.prototype.forEach||(t.each=function(t,e,n){for(var i=0,r=t.length;r>i;i++)if(e.call(n,t[i],i,t)===!1)return i}),Array.prototype.indexOf||(t.inArray=function(t,e){var n,i=0;if(e)for(n=e.length;n>i;i++)if(e[i]===t)return i;return-1}),Array.prototype.filter||(t.grep=function(t,e){for(var n=[],i=0,r=t.length;r>i;i++)e(t[i],i)&&n.push(t[i]);return n})}(t),function(t){var e=t.each,n=t.isNumber,i=t.map,r=t.merge,a=t.pInt;t.Color=function(e){return this instanceof t.Color?void this.init(e):new t.Color(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[a(t[1]),a(t[2]),a(t[3]),parseFloat(t[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(t){return[a(t[1],16),a(t[2],16),a(t[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[a(t[1]),a(t[2]),a(t[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(e){var n,r,a,o;if(this.input=e=this.names[e]||e,e&&e.stops)this.stops=i(e.stops,function(e){return new t.Color(e[1])});else for(a=this.parsers.length;a--&&!r;)o=this.parsers[a],n=o.regex.exec(e),n&&(r=o.parse(n));this.rgba=r||[]},get:function(t){var i,a=this.input,o=this.rgba;return this.stops?(i=r(a),i.stops=[].concat(i.stops),e(this.stops,function(e,n){i.stops[n]=[i.stops[n][0],e.get(t)]})):i=o&&n(o[0])?"rgb"===t||!t&&1===o[3]?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===t?o[3]:"rgba("+o.join(",")+")":a,i},brighten:function(t){var i,r=this.rgba;if(this.stops)e(this.stops,function(e){e.brighten(t)});else if(n(t)&&0!==t)for(i=0;3>i;i++)r[i]+=a(255*t),r[i]<0&&(r[i]=0),r[i]>255&&(r[i]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this}},t.color=function(e){return new t.Color(e)}}(t),function(t){var e,n,i=t.addEvent,r=t.animate,a=t.attr,o=t.charts,s=t.color,h=t.css,l=t.createElement,u=t.defined,c=t.deg2rad,d=t.destroyObjectProperties,f=t.doc,p=t.each,g=t.extend,m=t.erase,v=t.grep,y=t.hasTouch,x=t.isArray,b=t.isFirefox,M=t.isMS,w=t.isObject,k=t.isString,S=t.isWebKit,C=t.merge,A=t.noop,P=t.pick,T=t.pInt,_=t.removeEvent,L=(t.splat,t.stop),D=t.svg,E=t.SVG_NS,z=t.symbolSizes,I=t.win;e=t.SVGElement=function(){return this},e.prototype={opacity:1,SVG_NS:E,textProps:["direction","fontSize","fontWeight","fontFamily","fontStyle","color","lineHeight","width","textDecoration","textOverflow","textOutline"],init:function(t,e){this.element="span"===e?l(e):f.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(t,e,n){var i=P(e,this.renderer.globalAnimation,!0);return i?(i=C(i,{}),n&&(i.complete=n),r(this,t,i)):this.attr(t,null,n),this},colorGradient:function(e,n,i){var r,a,o,s,h,l,c,d,f,g,m,v,y,b=this.renderer,M=[];if(e.linearGradient?a="linearGradient":e.radialGradient&&(a="radialGradient"),a){o=e[a],h=b.gradients,c=e.stops,g=i.radialReference,x(o)&&(e[a]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===a&&g&&!u(o.gradientUnits)&&(s=o,o=C(o,b.getRadialAttr(g,s),{gradientUnits:"userSpaceOnUse"}));for(m in o)"id"!==m&&M.push(m,o[m]);for(m in c)M.push(c[m]);M=M.join(","),h[M]?v=h[M].attr("id"):(o.id=v=t.uniqueKey(),h[M]=l=b.createElement(a).attr(o).add(b.defs),l.radAttr=s,l.stops=[],p(c,function(e){var n;0===e[1].indexOf("rgba")?(r=t.color(e[1]),d=r.get("rgb"),f=r.get("a")):(d=e[1],f=1),n=b.createElement("stop").attr({offset:e[0],"stop-color":d,"stop-opacity":f}).add(l),l.stops.push(n)})),y="url("+b.url+"#"+v+")",i.setAttribute(n,y),i.gradient=M,e.toString=function(){return y}}},applyTextOutline:function(t){var e,n,i,r=this.element,o=-1!==t.indexOf("contrast"),s={};o&&(s.textOutline=t=t.replace(/contrast/g,this.renderer.getContrast(r.style.fill))),this.fakeTS=!0,this.ySetter=this.xSetter,e=[].slice.call(r.getElementsByTagName("tspan")),t=t.split(" "),n=t[t.length-1],i=t[0],i&&"none"!==i&&(i=i.replace(/(^[\d\.]+)(.*?)$/g,function(t,e,n){return 2*e+n}),p(e,function(t){"highcharts-text-outline"===t.getAttribute("class")&&m(e,r.removeChild(t))}),p(e,function(t,e){var o;0===e&&(t.setAttribute("x",r.getAttribute("x")),e=r.getAttribute("y"),t.setAttribute("y",e||0),null===e&&r.setAttribute("y",0)),o=t.cloneNode(1),a(o,{"class":"highcharts-text-outline",fill:n,stroke:n,"stroke-width":i,"stroke-linejoin":"round"}),r.insertBefore(o,r.firstChild)}))},attr:function(t,e,n){var i,r,a,o,s,h=this.element,l=this;if("string"==typeof t&&void 0!==e&&(i=t,t={},t[i]=e),"string"==typeof t)l=(this[t+"Getter"]||this._defaultGetter).call(this,t,h);else{for(i in t)r=t[i],o=!1,i!==this.animProp&&L(this,i),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(a||(this.symbolAttr(t),a=!0),o=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),o||(s=this[i+"Setter"]||this._defaultSetter,s.call(this,r,i,h),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,r,s));this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return n&&n(),l},updateShadows:function(t,e,n){for(var i=this.shadows,r=i.length;r--;)n.call(i[r],"height"===t?Math.max(e-(i[r].cutHeight||0),0):"d"===t?this.d:e,t,i[r])},addClass:function(t,e){var n=this.attr("class")||"";return-1===n.indexOf(t)&&(e||(t=(n+(n?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==a(this.element,"class").indexOf(t)},removeClass:function(t){return a(this.element,"class",(a(this.element,"class")||"").replace(t,"")),this},symbolAttr:function(t){var e=this;p(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(n){e[n]=P(t[n],e[n])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var n,i,r=this,a={};e=e||t.strokeWidth||0,i=Math.round(e)%2/2,t.x=Math.floor(t.x||r.x||0)+i,t.y=Math.floor(t.y||r.y||0)+i,t.width=Math.floor((t.width||r.width||0)-2*i),t.height=Math.floor((t.height||r.height||0)-2*i),u(t.strokeWidth)&&(t.strokeWidth=e);for(n in t)r[n]!==t[n]&&(r[n]=a[n]=t[n]);return a},css:function(t){var e,n,i,r=this,o=r.styles,s={},l=r.element,u="",c=!o;if(t&&t.color&&(t.fill=t.color),o)for(n in t)t[n]!==o[n]&&(s[n]=t[n],c=!0);if(c){if(e=r.textWidth=t&&t.width&&"text"===l.nodeName.toLowerCase()&&T(t.width)||r.textWidth,o&&(t=g(o,s)),r.styles=t,e&&!D&&r.renderer.forExport&&delete t.width,M&&!D)h(r.element,t);else{i=function(t,e){return"-"+e.toLowerCase()};for(n in t)u+=n.replace(/([A-Z])/g,i)+":"+t[n]+";";a(l,"style",u)}r.added&&(e&&r.renderer.buildText(r),t&&t.textOutline&&r.applyTextOutline(t.textOutline))}return r},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var n=this,i=n.element;return y&&"click"===t?(i.ontouchstart=function(t){n.touchEventFired=Date.now(),t.preventDefault(),e.call(i,t)},i.onclick=function(t){(-1===I.navigator.userAgent.indexOf("Android")||Date.now()-(n.touchEventFired||0)>1100)&&e.call(i,t)}):i["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){var e=this;return e.inverted=t,e.updateTransform(),e},updateTransform:function(){var t,e=this,n=e.translateX||0,i=e.translateY||0,r=e.scaleX,a=e.scaleY,o=e.inverted,s=e.rotation,h=e.element;o&&(n+=e.attr("width"),i+=e.attr("height")),t=["translate("+n+","+i+")"],o?t.push("rotate(90) scale(-1,1)"):s&&t.push("rotate("+s+" "+(h.getAttribute("x")||0)+" "+(h.getAttribute("y")||0)+")"),(u(r)||u(a))&&t.push("scale("+P(r,1)+" "+P(a,1)+")"),t.length&&h.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var i,r,a,o,s,h,l,u={},c=this.renderer,d=c.alignedObjects;return t?(this.alignOptions=t,this.alignByTranslate=e,(!n||k(n))&&(this.alignTo=s=n||"renderer",m(d,this),d.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,s=this.alignTo),n=P(n,c[s],c),i=t.align,r=t.verticalAlign,a=(n.x||0)+(t.x||0),o=(n.y||0)+(t.y||0),"right"===i?h=1:"center"===i&&(h=2),h&&(a+=(n.width-(t.width||0))/h),u[e?"translateX":"x"]=Math.round(a),"bottom"===r?l=1:"middle"===r&&(l=2),l&&(o+=(n.height-(t.height||0))/l),u[e?"translateY":"y"]=Math.round(o),this[this.placed?"animate":"attr"](u),this.placed=!0,this.alignAttr=u,this},getBBox:function(t,e){var n,i,r,a,o,s,h,l,u=this,d=u.renderer,f=u.element,m=u.styles,v=u.textStr,y=d.cache,x=d.cacheKeys;if(a=P(e,u.rotation),o=a*c,s=m&&m.fontSize,void 0!==v&&(l=v.toString(),-1===l.indexOf("<")&&(l=l.replace(/[0-9]/g,"0")),l+=["",a||0,s,f.style.width,f.style["text-overflow"]].join(",")),l&&!t&&(n=y[l]),!n){if(f.namespaceURI===u.SVG_NS||d.forExport){try{h=this.fakeTS&&function(t){p(f.querySelectorAll(".highcharts-text-outline"),function(e){e.style.display=t})},h&&h("none"),n=f.getBBox?g({},f.getBBox()):{width:f.offsetWidth,height:f.offsetHeight},h&&h("")}catch(b){}(!n||n.width<0)&&(n={width:0,height:0})}else n=u.htmlGetBBox();if(d.isSVG&&(i=n.width,r=n.height,M&&m&&"11px"===m.fontSize&&"16.9"===r.toPrecision(3)&&(n.height=r=14),a&&(n.width=Math.abs(r*Math.sin(o))+Math.abs(i*Math.cos(o)),n.height=Math.abs(r*Math.cos(o))+Math.abs(i*Math.sin(o)))),l&&n.height>0){for(;x.length>250;)delete y[x.shift()];y[l]||x.push(l),y[l]=n}}return n},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,n=this.renderer,i=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,n,i=this,r=i.element||{},a=i.renderer.isSVG&&"SPAN"===r.nodeName&&i.parentGroup;if(r.onclick=r.onmouseout=r.onmouseover=r.onmousemove=r.point=null,L(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(n=0;n<i.stops.length;n++)i.stops[n]=i.stops[n].destroy();i.stops=null}for(i.safeRemoveChild(r),i.destroyShadows();a&&a.div&&0===a.div.childNodes.length;)t=a.parentGroup,i.safeRemoveChild(a.div),delete a.div,a=t;i.alignTo&&m(i.renderer.alignedObjects,i);for(e in i)delete i[e];return null},shadow:function(e,n){var i,r,o=[],s=this.element;if(e){if(!this.shadows){var h,l,u,c;if(this.renderer.blurFilters)u=this.renderer.blurFilters[0],c=this.renderer.blurFilters[1];else{u="highcharts-"+t.uniqueKey(),c="highcharts-"+t.uniqueKey();var d='<filter id="'+u+'" x="0" y="0"><feGaussianBlur in="SourceGraphic" stdDeviation="2"></feGaussianBlur></filter><filter id="'+c+'" x="0" y="-40%" height="180%"" filterUnits="userSpaceOnUse"><feGaussianBlur in="SourceGraphic" stdDeviation="8"></feGaussianBlur></filter>';
this.renderer.blurFilters=[u,c],this.renderer.defs.element.innerHTML+=d}for(i=1;3>=i;i++){if(r=s.cloneNode(0),1===i){h="none"===a(r,"fill")?"none":"rgba(0, 0, 0, 0.6)",l="none"===a(r,"stroke")?"none":"rgba(0, 0, 0, 0.6)";var f="bottom";if(b){var p=s.getBBox();f="center "+(p.y+p.height)+"px"}a(r,{isShadow:"true",stroke:l,fill:"none",filter:"url(#"+c+")",opacity:1,style:"transform: scaleY(0.618); transform-origin: "+f})}else 2==i?a(r,{isShadow:"true",filter:"url(#"+u+")",opacity:.06,transform:"translate(0 8)"}):a(r,{isShadow:"true",filter:"url(#"+u+")",opacity:.1,transform:"translate(0 4)"});n?n.element.appendChild(r):s.parentNode.insertBefore(r,s),o.push(r)}this.shadows=o}}else this.destroyShadows();return this},destroyShadows:function(){p(this.shadows||[],function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){var e=P(this[t],this.element?this.element.getAttribute(t):null,0);return/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(t,e,n){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),n.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var e,n=this["stroke-width"];if("inherit"===n&&(n=1),t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=T(t[e])*n;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){var e={left:"start",center:"middle",right:"end"};this.element&&this.element.setAttribute("text-anchor",e[t])},opacitySetter:function(t,e,n){this[e]=t,n.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=f.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(f.createTextNode(String(P(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,n){"string"==typeof t?n.setAttribute(e,t):t&&this.colorGradient(t,e,n)},visibilitySetter:function(t,e,n){"inherit"===t?n&&n.removeAttribute(e):n&&n.setAttribute(e,t)},zIndexSetter:function(t,e){var n,i,r,a,o,s=this.renderer,h=this.parentGroup,l=h||s,c=l.element||s.box,d=this.element,f=this.added;if(u(t)&&(d.zIndex=t,t=+t,this[e]===t&&(f=!1),this[e]=t),f){for(t=this.zIndex,t&&h&&(h.handleZ=!0),n=c.childNodes,o=0;o<n.length&&!a;o++)i=n[o],r=i.zIndex,i!==d&&(T(r)>t||!u(t)&&u(r)||0>t&&!u(r)&&c!==s.box)&&(c.insertBefore(d,i),a=!0);a||c.appendChild(d)}return a},_defaultSetter:function(t,e,n){n&&n.setAttribute(e,t)}},e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,n,i){this[n]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===n&&0===t&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)},n=t.SVGRenderer=function(){this.init.apply(this,arguments)},n.prototype={Element:e,SVG_NS:E,init:function(t,e,n,r,o,s){var l,u,c,d=this;l=d.createElement("svg").attr({version:"1.1","class":"highcharts-root"}).css(this.getStyle(r)),u=l.element,t.appendChild(u),-1===t.innerHTML.indexOf("xmlns")&&a(u,"xmlns",this.SVG_NS),d.isSVG=!0,this.box=u,this.boxWrapper=l,d.alignedObjects=[],this.url=(b||S)&&f.getElementsByTagName("base").length?I.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",c=this.createElement("desc").add(),c.element.appendChild(f.createTextNode("Created with Highcharts 5.0.4")),d.defs=this.createElement("defs").add(),d.allowHTML=s,d.forExport=o,d.gradients={},d.cache={},d.cacheKeys=[],d.imgCount=0,d.setSize(e,n,!1);var p,g;b&&t.getBoundingClientRect&&(p=function(){h(t,{left:0,top:0}),g=t.getBoundingClientRect(),h(t,{left:Math.ceil(g.left)-g.left+"px",top:Math.ceil(g.top)-g.top+"px"})},p(),d.unSubPixelFix=i(I,"resize",p))},getStyle:function(t){return this.style=g({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t),this.style},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this,e=t.defs;return t.box=null,t.boxWrapper=t.boxWrapper.destroy(),d(t.gradients||{}),t.gradients=null,e&&(t.defs=e.destroy()),t.unSubPixelFix&&t.unSubPixelFix(),t.alignedObjects=null,null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:A,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},buildText:function(t){for(var e,n,i,r,o,s=t.element,l=this,u=l.forExport,c=P(t.textStr,"").toString(),d=-1!==c.indexOf("<"),g=s.childNodes,m=a(s,"x"),y=t.styles,x=t.textWidth,b=y&&y.lineHeight,M=y&&y.textOutline,w=y&&"ellipsis"===y.textOverflow,k=g.length,S=x&&!t.added&&this.box,C=function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:y&&y.fontSize||l.style.fontSize||12,b?T(b):l.fontMetrics(e,t.getAttribute("style")?t:s).h},A=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")};k--;)s.removeChild(g[k]);d||M||w||x||-1!==c.indexOf(" ")?(n=/<.*class="([^"]+)".*>/,i=/<.*style="([^"]+)".*>/,r=/<.*href="(http[^"]+)".*>/,S&&S.appendChild(s),e=d?c.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[c],e=v(e,function(t){return""!==t}),p(e,function(e,c){var d,g=0;e=e.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),d=e.split("|||"),p(d,function(e){if(""!==e||1===d.length){var p,v,b={},M=f.createElementNS(l.SVG_NS,"tspan");if(n.test(e)&&(p=e.match(n)[1],a(M,"class",p)),i.test(e)&&(v=e.match(i)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),a(M,"style",v)),r.test(e)&&!u&&(a(M,"onclick",'location.href="'+e.match(r)[1]+'"'),h(M,{cursor:"pointer"})),e=A(e.replace(/<(.|\n)*?>/g,"")||" ")," "!==e){if(M.appendChild(f.createTextNode(e)),g?b.dx=0:c&&null!==m&&(b.x=m),a(M,b),s.appendChild(M),!g&&c&&(!D&&u&&h(M,{display:"block"}),a(M,"dy",C(M))),x){for(var k,S,P,T=e.replace(/([^\^])-/g,"$1- ").split(" "),_="nowrap"===y.whiteSpace,L=d.length>1||c||T.length>1&&!_,z=[],I=C(M),O=t.rotation,N=e,R=N.length;(L||w)&&(T.length||z.length);)t.rotation=0,P=t.getBBox(!0),S=P.width,!D&&l.forExport&&(S=l.measureSpanWidth(M.firstChild.data,t.styles)),k=S>x,void 0===o&&(o=k),w&&o?(R/=2,""===N||!k&&.5>R?T=[]:(N=e.substring(0,N.length+(k?-1:1)*Math.ceil(R)),T=[N+(x>3?"":"")],M.removeChild(M.firstChild))):k&&1!==T.length?(M.removeChild(M.firstChild),z.unshift(T.pop())):(T=z,z=[],T.length&&!_&&(M=f.createElementNS(E,"tspan"),a(M,{dy:I,x:m}),v&&a(M,"style",v),s.appendChild(M)),S>x&&(x=S)),T.length&&M.appendChild(f.createTextNode(T.join(" ").replace(/- /g,"-")));t.rotation=O}g++}}})}),o&&t.attr("title",t.textStr),S&&S.removeChild(s),M&&t.applyTextOutline&&t.applyTextOutline(M)):s.appendChild(f.createTextNode(A(c)))},getContrast:function(t){return t=s(t).rgba,t[0]+t[1]+t[2]>510?"#000000":"#FFFFFF"},button:function(t,e,n,r,a,o,s,h,l){var u=this.label(t,e,n,l,null,null,null,null,"button"),c=0;u.attr(C({padding:8,r:2},a));var d,f,p,m;return a=C({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},a),d=a.style,delete a.style,o=C(a,{fill:"#e6e6e6"},o),f=o.style,delete o.style,s=C(a,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},s),p=s.style,delete s.style,h=C(a,{style:{color:"#cccccc"}},h),m=h.style,delete h.style,i(u.element,M?"mouseover":"mouseenter",function(){3!==c&&u.setState(1)}),i(u.element,M?"mouseout":"mouseleave",function(){3!==c&&u.setState(c)}),u.setState=function(t){1!==t&&(u.state=c=t),u.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),u.attr([a,o,s,h][t||0]).css([d,f,p,m][t||0])},u.attr(a).css(g({cursor:"default"},d)),u.on("click",function(t){3!==c&&r.call(u,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return x(t)?e.d=t:w(t)&&g(e,t),this.createElement("path").attr(e)},circle:function(t,e,n){var i=w(t)?t:{x:t,y:e,r:n},r=this.createElement("circle");return r.xSetter=r.ySetter=function(t,e,n){n.setAttribute("c"+e,t)},r.attr(i)},arc:function(t,e,n,i,r,a){var o;return w(t)&&(e=t.y,n=t.r,i=t.innerR,r=t.start,a=t.end,t=t.x),o=this.symbol("arc",t||0,e||0,n||0,n||0,{innerR:i||0,start:r||0,end:a||0}),o.r=n,o},rect:function(t,e,n,i,r,o){r=w(t)?t.r:r;var s=this.createElement("rect"),h=w(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(n,0),height:Math.max(i,0)};return void 0!==o&&(h.strokeWidth=o,h=s.crisp(h)),h.fill="none",r&&(h.r=r),s.rSetter=function(t,e,n){a(n,{rx:t,ry:t})},s.attr(h)},setSize:function(t,e,n){var i=this,r=i.alignedObjects,a=r.length;for(i.width=t,i.height=e,i.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:P(n,!0)?void 0:0});a--;)r[a].align()},g:function(t){var e=this.createElement("g");return t?e.attr({"class":"highcharts-"+t}):e},image:function(t,e,n,i,r){var a,o={preserveAspectRatio:"none"};return arguments.length>1&&g(o,{x:e,y:n,width:i,height:r}),a=this.createElement("image").attr(o),a.element.setAttributeNS?a.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):a.element.setAttribute("hc-svg-href",t),a},symbol:function(t,e,n,i,r,a){var s,c,d,m=this,v=this.symbols[t],y=u(e)&&v&&v(Math.round(e),Math.round(n),i,r,a),x=/^url\((.*?)\)$/;return v?(s=this.path(y),s.attr("fill","none"),g(s,{symbolName:t,x:e,y:n,width:i,height:r}),a&&g(s,a)):x.test(t)&&(c=t.match(x)[1],s=this.image(c),s.imgwidth=P(z[c]&&z[c].width,a&&a.width),s.imgheight=P(z[c]&&z[c].height,a&&a.height),d=function(){s.attr({width:s.width,height:s.height})},p(["width","height"],function(t){s[t+"Setter"]=function(t,e){var n={},i=this["img"+e],r="width"===e?"translateX":"translateY";this[e]=t,u(i)&&(this.element&&this.element.setAttribute(e,i),this.alignByTranslate||(n[r]=((this[e]||0)-i)/2,this.attr(n)))}}),u(e)&&s.attr({x:e,y:n}),s.isImg=!0,u(s.imgwidth)&&u(s.imgheight)?d():(s.attr({width:0,height:0}),l("img",{onload:function(){var t=o[m.chartIndex];0===this.width&&(h(this,{position:"absolute",top:"-999em"}),f.body.appendChild(this)),z[c]={width:this.width,height:this.height},s.imgwidth=this.width,s.imgheight=this.height,s.element&&d(),this.parentNode&&this.parentNode.removeChild(this),m.imgCount--,!m.imgCount&&t&&t.onload&&t.onload()},src:c}),this.imgCount++)),s},symbols:{circle:function(t,e,n,i){var r=.166*n;return["M",t+n/2,e,"C",t+n+r,e,t+n+r,e+i,t+n/2,e+i,"C",t-r,e+i,t-r,e,t+n/2,e,"Z"]},square:function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n,e+i,t,e+i,"Z"]},triangle:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i,t,e+i,"Z"]},"triangle-down":function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n/2,e+i,"Z"]},diamond:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i/2,t+n/2,e+i,t,e+i/2,"Z"]},arc:function(t,e,n,i,r){var a=r.start,o=r.r||n||i,s=r.end-.001,h=r.innerR,l=r.open,u=Math.cos(a),c=Math.sin(a),d=Math.cos(s),f=Math.sin(s),p=r.end-a<Math.PI?0:1;return["M",t+o*u,e+o*c,"A",o,o,0,p,1,t+o*d,e+o*f,l?"M":"L",t+h*d,e+h*f,"A",h,h,0,p,0,t+h*u,e+h*c,l?"":"Z"]},callout:function(t,e,n,i,r){var a,o=6,s=6,h=Math.min(r&&r.r||0,n,i),l=h+s,u=r&&r.anchorX,c=r&&r.anchorY;return a=["M",t+h,e,"L",t+n-h,e,"C",t+n,e,t+n,e,t+n,e+h,"L",t+n,e+i-h,"C",t+n,e+i,t+n,e+i,t+n-h,e+i,"L",t+h,e+i,"C",t,e+i,t,e+i,t,e+i-h,"L",t,e+h,"C",t,e,t,e,t+h,e],u&&u>n?c>e+l&&e+i-l>c?a.splice(13,3,"L",t+n,c-s,t+n+o,c,t+n,c+s,t+n,e+i-h):a.splice(13,3,"L",t+n,i/2,u,c,t+n,i/2,t+n,e+i-h):u&&0>u?c>e+l&&e+i-l>c?a.splice(33,3,"L",t,c+s,t-o,c,t,c-s,t,e+h):a.splice(33,3,"L",t,i/2,u,c,t,i/2,t,e+h):c&&c>i&&u>t+l&&t+n-l>u?a.splice(23,3,"L",u+s,e+i,u,e+i+o,u-s,e+i,t+h,e+i):c&&0>c&&u>t+l&&t+n-l>u&&a.splice(3,3,"L",u-s,e,u,e-o,u+s,e,n-h,e),a}},clipRect:function(e,n,i,r){var a,o=t.uniqueKey(),s=this.createElement("clipPath").attr({id:o}).add(this.defs);return a=this.rect(e,n,i,r,0).add(s),a.id=o,a.clipPath=s,a.count=0,a},text:function(t,e,n,i){var r,a=this,o=!D&&a.forExport,s={};return!i||!a.allowHTML&&a.forExport?(s.x=Math.round(e||0),n&&(s.y=Math.round(n)),(t||0===t)&&(s.text=t),r=a.createElement("text").attr(s),o&&r.css({position:"absolute"}),i||(r.xSetter=function(t,e,n){var i,r,a=n.getElementsByTagName("tspan"),o=n.getAttribute(e);for(r=0;r<a.length;r++)i=a[r],i.getAttribute(e)===o&&i.setAttribute(e,t);n.setAttribute(e,t)}),r):a.html(t,e,n)},fontMetrics:function(t,e){var n,i;return t=t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize,t=/px/.test(t)?T(t):/em/.test(t)?parseFloat(t)*(e?this.fontMetrics(null,e.parentNode).f:16):12,n=24>t?t+3:Math.round(1.2*t),i=Math.round(.8*n),{h:n,b:i,f:t}},rotCorr:function(t,e,n){var i=t;return e&&n&&(i=Math.max(i*Math.cos(e*c),4)),{x:-t/3*Math.sin(e*c),y:i}},label:function(t,n,i,r,a,o,s,h,l){var c,d,f,m,v,y,x,b,M,w,k,S,A,P=this,T=P.g("button"!==l&&"label"),L=T.text=P.text("",0,0,s).attr({zIndex:1}),D=0,E=3,z=0,I={},O=/^url\((.*?)\)$/.test(r),N=O;l&&T.addClass("highcharts-"+l),N=O,w=function(){return(b||0)%2/2},k=function(){var t,e=L.element.style,n={};d=(void 0===f||void 0===m||x)&&u(L.textStr)&&L.getBBox(),T.width=(f||d.width||0)+2*E+z,T.height=(m||d.height||0)+2*E,M=E+P.fontMetrics(e&&e.fontSize,L).b,N&&(c||(T.box=c=P.symbols[r]||O?P.symbol(r):P.rect(),c.addClass(("button"===l?"":"highcharts-label-box")+(l?" highcharts-"+l+"-box":"")),c.add(T),t=w(),n.x=t,n.y=(h?-M:0)+t),n.width=Math.round(T.width),n.height=Math.round(T.height),c.attr(g(n,I)),I={})},S=function(){var t,e=z+E;t=h?0:M,u(f)&&d&&("center"===x||"right"===x)&&(e+={center:.5,right:1}[x]*(f-d.width)),(e!==L.x||t!==L.y)&&(L.attr("x",e),void 0!==t&&L.attr("y",t)),L.x=e,L.y=t},A=function(t,e){c?c.attr(t,e):I[t]=e},T.onAdd=function(){L.add(T),T.attr({text:t||0===t?t:"",x:n,y:i}),c&&u(a)&&T.attr({anchorX:a,anchorY:o})},T.widthSetter=function(t){f=t},T.heightSetter=function(t){m=t},T["text-alignSetter"]=function(t){x=t},T.paddingSetter=function(t){u(t)&&t!==E&&(E=T.padding=t,S())},T.paddingLeftSetter=function(t){u(t)&&t!==z&&(z=t,S())},T.alignSetter=function(t){t={left:0,center:.5,right:1}[t],t!==D&&(D=t,d&&T.attr({x:v}))},T.textSetter=function(t){void 0!==t&&L.textSetter(t),k(),S()},T["stroke-widthSetter"]=function(t,e){t&&(N=!0),b=this["stroke-width"]=t,A(e,t)},T.strokeSetter=T.fillSetter=T.rSetter=function(t,e){"fill"===e&&t&&(N=!0),A(e,t)},T.anchorXSetter=function(t,e){a=t,A(e,Math.round(t)-w()-v)},T.anchorYSetter=function(t,e){o=t,A(e,t-y)},T.xSetter=function(t){T.x=t,D&&(t-=D*((f||d.width)+2*E)),v=Math.round(t),T.attr("translateX",v)},T.ySetter=function(t){y=T.y=Math.round(t),T.attr("translateY",y)};var R=T.css;return g(T,{css:function(t){if(t){var e={};t=C(t),p(T.textProps,function(n){void 0!==t[n]&&(e[n]=t[n],delete t[n])}),L.css(e)}return R.call(T,t)},getBBox:function(){return{width:d.width+2*E,height:d.height+2*E,x:d.x-E,y:d.y-E}},shadow:function(t){return t&&(k(),c&&c.shadow(t)),T},destroy:function(){_(T.element,"mouseenter"),_(T.element,"mouseleave"),L&&(L=L.destroy()),c&&(c=c.destroy()),e.prototype.destroy.call(T),T=P=k=S=A=null}})}},t.Renderer=n}(t),function(t){var e=t.attr,n=t.createElement,i=t.css,r=t.defined,a=t.each,o=t.extend,s=t.isFirefox,h=t.isMS,l=t.isWebKit,u=t.pInt,c=t.SVGElement,d=t.SVGRenderer,f=t.win,p=t.wrap;o(c.prototype,{htmlCss:function(t){var e=this,n=e.element,r=t&&"SPAN"===n.tagName&&t.width;return r&&(delete t.width,e.textWidth=r,e.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),e.styles=o(e.styles,t),i(e.element,t),e},htmlGetBBox:function(){var t=this,e=t.element;return"text"===e.nodeName&&(e.style.position="absolute"),{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(!this.added)return void(this.alignOnAdd=!0);var t=this,e=t.renderer,n=t.element,o=t.translateX||0,s=t.translateY||0,h=t.x||0,c=t.y||0,d=t.textAlign||"left",f={left:0,center:.5,right:1}[d],p=t.styles;if(i(n,{marginLeft:o,marginTop:s}),t.shadows&&a(t.shadows,function(t){i(t,{marginLeft:o+1,marginTop:s+1})}),t.inverted&&a(n.childNodes,function(t){e.invertChild(t,n)}),"SPAN"===n.tagName){var g,m=t.rotation,v=u(t.textWidth),y=p&&p.whiteSpace,x=[m,d,n.innerHTML,t.textWidth,t.textAlign].join(",");x!==t.cTT&&(g=e.fontMetrics(n.style.fontSize).b,r(m)&&t.setSpanRotation(m,f,g),i(n,{width:"",whiteSpace:y||"nowrap"}),n.offsetWidth>v&&/[ \-]/.test(n.textContent||n.innerText)&&i(n,{width:v+"px",display:"block",whiteSpace:y||"normal"}),t.getSpanCorrection(n.offsetWidth,g,f,m,d)),i(n,{left:h+(t.xCorr||0)+"px",top:c+(t.yCorr||0)+"px"}),l&&(g=n.offsetHeight),t.cTT=x}},setSpanRotation:function(t,e,n){var r={},a=h?"-ms-transform":l?"-webkit-transform":s?"MozTransform":f.opera?"-o-transform":"";r[a]=r.transform="rotate("+t+"deg)",r[a+(s?"Origin":"-origin")]=r.transformOrigin=100*e+"% "+n+"px",i(this.element,r)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),o(d.prototype,{html:function(t,i,r){var s=this.createElement("span"),h=s.element,l=s.renderer,u=l.isSVG,c=function(t,e){a(["opacity","visibility"],function(n){p(t,n+"Setter",function(t,n,i,r){t.call(this,n,i,r),e[i]=n})})};return s.textSetter=function(t){t!==h.innerHTML&&delete this.bBox,h.innerHTML=this.textStr=t,s.htmlUpdateTransform()},u&&c(s,s.element.style),s.xSetter=s.ySetter=s.alignSetter=s.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),s[e]=t,s.htmlUpdateTransform()},s.attr({text:t,x:Math.round(i),y:Math.round(r)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),h.style.whiteSpace="nowrap",s.css=s.htmlCss,u&&(s.add=function(t){var i,r,u=l.box.parentNode,d=[];if(this.parentGroup=t,t){if(i=t.div,!i){for(r=t;r;)d.push(r),r=r.parentGroup;a(d.reverse(),function(t){var r,a=e(t.element,"class");a&&(a={className:a}),i=t.div=t.div||n("div",a,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},i||u),r=i.style,o(t,{translateXSetter:function(e,n){r.left=e+"px",t[n]=e,t.doTransform=!0},translateYSetter:function(e,n){r.top=e+"px",t[n]=e,t.doTransform=!0}}),c(t,r)})}}else i=u;return i.appendChild(h),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s}})}(t),function(t){var e,n,i,r=t.createElement,a=t.css,o=t.defined,s=t.deg2rad,h=t.discardElement,l=t.doc,u=t.each,c=t.erase,d=t.extend,f=t.extendClass,p=t.isArray,g=t.isNumber,m=t.isObject,v=t.merge,y=t.noop,x=t.pick,b=t.pInt,M=t.svg,w=t.SVGElement,k=t.SVGRenderer,S=t.win;M||(i={docMode8:l&&8===l.documentMode,init:function(t,e){var n=this,i=["<",e,' filled="f" stroked="f"'],a=["position: ","absolute",";"],o="div"===e;("shape"===e||o)&&a.push("left:0;top:0;width:1px;height:1px;"),a.push("visibility: ",o?"hidden":"visible"),i.push(' style="',a.join(""),'"/>'),e&&(i=o||"span"===e||"img"===e?i.join(""):t.prepVML(i),n.element=r(i)),n.renderer=t},add:function(t){var e=this,n=e.renderer,i=e.element,r=n.box,a=t&&t.inverted,o=t?t.element||t:r;return t&&(this.parentGroup=t),a&&n.invertChild(i,o),o.appendChild(i),e.added=!0,e.alignOnAdd&&!e.deferUpdateTransform&&e.updateTransform(),e.onAdd&&e.onAdd(),this.className&&this.attr("class",this.className),e},updateTransform:w.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=Math.cos(t*s),n=Math.sin(t*s);a(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-n,", M21=",n,", M22=",e,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(t,e,n,i,r){var o,h=i?Math.cos(i*s):1,l=i?Math.sin(i*s):0,u=x(this.elemHeight,this.element.offsetHeight),c=r&&"left"!==r;this.xCorr=0>h&&-t,this.yCorr=0>l&&-u,o=0>h*l,this.xCorr+=l*e*(o?1-n:n),this.yCorr-=h*e*(i?o?n:1-n:1),c&&(this.xCorr-=t*n*(0>h?-1:1),i&&(this.yCorr-=u*n*(0>l?-1:1)),a(this.element,{textAlign:r}))},pathToVML:function(t){for(var e=t.length,n=[];e--;)g(t[e])?n[e]=Math.round(10*t[e])-5:"Z"===t[e]?n[e]="x":(n[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(n[e+5]===n[e+7]&&(n[e+7]+=t[e+7]>t[e+5]?1:-1),n[e+6]===n[e+8]&&(n[e+8]+=t[e+8]>t[e+6]?1:-1)));return n.join(" ")||"x"},clip:function(t){var e,n,i=this;return t?(e=t.members,c(e,i),e.push(i),i.destroyClip=function(){c(e,i)},n=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),n={clip:i.docMode8?"inherit":"rect(auto)"}),i.css(n)},css:w.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&h(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),w.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=S.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var n;return t=t.split(/[ ,]/),n=t.length,(9===n||11===n)&&(t[n-4]=t[n-2]=b(t[n-2])-10*e),t.join(" ")},shadow:function(t,e,n){var i,a,o,s,h,l,u,c=[],d=this.element,f=this.renderer,p=d.style,g=d.path;if(g&&"string"!=typeof g.value&&(g="x"),h=g,t){for(l=x(t.width,3),u=(t.opacity||.15)/l,i=1;3>=i;i++)s=2*l+1-2*i,n&&(h=this.cutOffPath(g.value,s+.5)),o=['<shape isShadow="true" strokeweight="',s,'" filled="false" path="',h,'" coordsize="10 10" style="',d.style.cssText,'" />'],a=r(f.prepVML(o),null,{left:b(p.left)+x(t.offsetX,1),top:b(p.top)+x(t.offsetY,1)}),n&&(a.cutOff=s+1),o=['<stroke color="',t.color||"#000000",'" opacity="',u*i,'"/>'],r(f.prepVML(o),null,null,a),e?e.element.appendChild(a):d.parentNode.insertBefore(a,d),c.push(a);this.shadows=c}return this},updateShadows:y,setAttr:function(t,e){this.docMode8?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){(this.added?this.element:this).className=t},dashstyleSetter:function(t,e,n){var i=n.getElementsByTagName("stroke")[0]||r(this.renderer.prepVML(["<stroke/>"]),null,null,n);i[e]=t||"solid",this[e]=t},dSetter:function(t,e,n){var i,r=this.shadows;if(t=t||[],this.d=t.join&&t.join(" "),n.path=t=this.pathToVML(t),r)for(i=r.length;i--;)r[i].path=r[i].cutOff?this.cutOffPath(t,r[i].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,n){var i=n.nodeName;"SPAN"===i?n.style.color=t:"IMG"!==i&&(n.filled="none"!==t,this.setAttr("fillcolor",this.renderer.color(t,n,e,this)))},"fill-opacitySetter":function(t,e,n){r(this.renderer.prepVML(["<",e.split("-")[0],' opacity="',t,'"/>']),null,null,n)},opacitySetter:y,rotationSetter:function(t,e,n){var i=n.style;this[e]=i[e]=t,i.left=-Math.round(Math.sin(t*s)+1)+"px",i.top=Math.round(Math.cos(t*s))+"px"},strokeSetter:function(t,e,n){this.setAttr("strokecolor",this.renderer.color(t,n,e,this))},"stroke-widthSetter":function(t,e,n){n.stroked=!!t,this[e]=t,g(t)&&(t+="px"),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,n){"inherit"===t&&(t="visible"),this.shadows&&u(this.shadows,function(n){n.style[e]=t}),"DIV"===n.nodeName&&(t="hidden"===t?"-999em":0,this.docMode8||(n.style[e]=t?"visible":"hidden"),e="top"),n.style[e]=t},xSetter:function(t,e,n){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):n.style[e]=t},zIndexSetter:function(t,e,n){n.style[e]=t}},i["stroke-opacitySetter"]=i["fill-opacitySetter"],t.VMLElement=i=f(w,i),i.prototype.ySetter=i.prototype.widthSetter=i.prototype.heightSetter=i.prototype.xSetter,n={Element:i,isIE8:S.navigator.userAgent.indexOf("MSIE 8.0")>-1,init:function(t,e,n){var i,r,a,o=this;if(o.alignedObjects=[],i=o.createElement("div").css({position:"relative"}),r=i.element,t.appendChild(i.element),o.isVML=!0,o.box=r,o.boxWrapper=i,o.gradients={},o.cache={},o.cacheKeys=[],o.imgCount=0,o.setSize(e,n,!1),!l.namespaces.hcv){l.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),a="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{l.createStyleSheet().cssText=a}catch(s){l.styleSheets[0].cssText+=a}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,n,i){var r=this.createElement(),a=m(t);return d(r,{members:[],count:0,left:(a?t.x:t)+1,top:(a?t.y:e)+1,width:(a?t.width:n)-1,height:(a?t.height:i)-1,getCSS:function(t){var e=t.element,n=e.nodeName,i="shape"===n,r=t.inverted,a=this,o=a.top-(i?e.offsetTop:0),s=a.left,h=s+a.width,l=o+a.height,u={clip:"rect("+Math.round(r?s:o)+"px,"+Math.round(r?l:h)+"px,"+Math.round(r?h:l)+"px,"+Math.round(r?o:s)+"px)"};return!r&&t.docMode8&&"DIV"===n&&d(u,{width:h+"px",height:l+"px"}),u},updateClipping:function(){u(r.members,function(t){t.element&&t.css(r.getCSS(t))})}})},color:function(e,n,i,a){var o,s,h,l=this,c=/^rgba/,d="none";if(e&&e.linearGradient?h="gradient":e&&e.radialGradient&&(h="pattern"),h){var f,p,g,m,v,y,x,b,M,w,k,S,C=e.linearGradient||e.radialGradient,A="",P=e.stops,T=[],_=function(){s=['<fill colors="'+T.join(",")+'" opacity="',b,'" o:opacity2="',x,'" type="',h,'" ',A,'focus="100%" method="any" />'],r(l.prepVML(s),null,null,n)};if(k=P[0],S=P[P.length-1],k[0]>0&&P.unshift([0,k[1]]),S[0]<1&&P.push([1,S[1]]),u(P,function(e,n){c.test(e[1])?(o=t.color(e[1]),f=o.get("rgb"),p=o.get("a")):(f=e[1],p=1),T.push(100*e[0]+"% "+f),n?(b=p,M=f):(x=p,w=f)}),"fill"===i)if("gradient"===h)g=C.x1||C[0]||0,m=C.y1||C[1]||0,v=C.x2||C[2]||0,y=C.y2||C[3]||0,A='angle="'+(90-180*Math.atan((y-m)/(v-g))/Math.PI)+'"',_();else{var L,D=C.r,E=2*D,z=2*D,I=C.cx,O=C.cy,N=n.radialReference,R=function(){N&&(L=a.getBBox(),I+=(N[0]-L.x)/L.width-.5,O+=(N[1]-L.y)/L.height-.5,E*=N[2]/L.width,z*=N[2]/L.height),A='src="'+t.getOptions().global.VMLRadialGradientURL+'" size="'+E+","+z+'" origin="0.5,0.5" position="'+I+","+O+'" color2="'+w+'" ',_()};a.added?R():a.onAdd=R,d=M}else d=f}else if(c.test(e)&&"IMG"!==n.tagName)o=t.color(e),a[i+"-opacitySetter"](o.get("a"),i,n),d=o.get("rgb");else{var B=n.getElementsByTagName(i);B.length&&(B[0].opacity=1,B[0].type="solid"),d=e}return d},prepVML:function(t){var e="display:inline-block;behavior:url(#default#VML);",n=this.isIE8;return t=t.join(""),n?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="'+e+'" />'):t.replace('style="','style="'+e)):t=t.replace("<","<hcv:"),t},text:k.prototype.html,path:function(t){var e={coordsize:"10 10"};return p(t)?e.d=t:m(t)&&d(e,t),this.createElement("shape").attr(e)},circle:function(t,e,n){var i=this.symbol("circle");return m(t)&&(n=t.r,e=t.y,t=t.x),i.isCircle=!0,i.r=n,i.attr({x:t,y:e})},g:function(t){var e,n;return t&&(n={className:"highcharts-"+t,"class":"highcharts-"+t}),e=this.createElement("div").attr(n)},image:function(t,e,n,i,r){var a=this.createElement("img").attr({src:t});return arguments.length>1&&a.attr({x:e,y:n,width:i,height:r}),a},createElement:function(t){return"rect"===t?this.symbol(t):k.prototype.createElement.call(this,t)},invertChild:function(t,e){var n=this,i=e.style,r="IMG"===t.tagName&&t.style;a(t,{flip:"x",left:b(i.width)-(r?b(r.top):1),top:b(i.height)-(r?b(r.left):1),rotation:-90}),u(t.childNodes,function(e){n.invertChild(e,t)})},symbols:{arc:function(t,e,n,i,r){var a,o=r.start,s=r.end,h=r.r||n||i,l=r.innerR,u=Math.cos(o),c=Math.sin(o),d=Math.cos(s),f=Math.sin(s);return s-o===0?["x"]:(a=["wa",t-h,e-h,t+h,e+h,t+h*u,e+h*c,t+h*d,e+h*f],r.open&&!l&&a.push("e","M",t,e),a.push("at",t-l,e-l,t+l,e+l,t+l*d,e+l*f,t+l*u,e+l*c,"x","e"),a.isArc=!0,a)},circle:function(t,e,n,i,r){return r&&o(r.r)&&(n=i=2*r.r),r&&r.isCircle&&(t-=n/2,e-=i/2),["wa",t,e,t+n,e+i,t+n,e+i/2,t+n,e+i/2,"e"]},rect:function(t,e,n,i,r){return k.prototype.symbols[o(r)&&r.r?"callout":"square"].call(0,t,e,n,i,r)}}},t.VMLRenderer=e=function(){this.init.apply(this,arguments)},e.prototype=v(k.prototype,n),t.Renderer=e),k.prototype.measureSpanWidth=function(t,e){var n,i=l.createElement("span"),r=l.createTextNode(t);return i.appendChild(r),a(i,e),this.box.appendChild(i),n=i.offsetWidth,h(i),n}}(t),function(t){function e(){var e,n=t.defaultOptions.global,a=n.useUTC,o=a?"getUTC":"get",h=a?"setUTC":"set";t.Date=e=n.Date||l.Date,e.hcTimezoneOffset=a&&n.timezoneOffset,e.hcGetTimezoneOffset=a&&n.getTimezoneOffset,e.hcMakeTime=function(t,n,i,o,h,l){var u;return a?(u=e.UTC.apply(0,arguments),u+=r(u)):u=new e(t,n,s(i,1),s(o,0),s(h,0),s(l,0)).getTime(),u},i(["Minutes","Hours","Day","Date","Month","FullYear"],function(t){e["hcGet"+t]=o+t}),i(["Milliseconds","Seconds","Minutes","Hours","Date","Month","FullYear"],function(t){e["hcSet"+t]=h+t})}var n=t.color,i=t.each,r=t.getTZOffset,a=t.isTouchDevice,o=t.merge,s=t.pick,h=t.svg,l=t.win;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,VMLRadialGradientURL:"http://code.highcharts.com/5.0.4/gfx/vml-radial-gradient.png"},chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"},widthAdjust:-44},subtitle:{text:"",align:"center",style:{color:"#666666"},widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:h,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:a?25:10,backgroundColor:n("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(n){return t.defaultOptions=o(!0,t.defaultOptions,n),e(),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,e()}(t),function(t){var e=t.arrayMax,n=t.arrayMin,i=t.defined,r=t.destroyObjectProperties,a=t.each,o=t.erase,s=t.merge,h=t.pick;
t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){var t,e,n,r=this,a=r.axis,o=a.horiz,l=r.options,u=l.label,c=r.label,d=l.to,f=l.from,p=l.value,g=i(f)&&i(d),m=i(p),v=r.svgElem,y=!v,x=[],b=l.color,M=h(l.zIndex,0),w=l.events,k={"class":"highcharts-plot-"+(g?"band ":"line ")+(l.className||"")},S={},C=a.chart.renderer,A=g?"bands":"lines",P=a.log2lin;if(a.isLog&&(f=P(f),d=P(d),p=P(p)),m?(k={stroke:b,"stroke-width":l.width},l.dashStyle&&(k.dashstyle=l.dashStyle)):g&&(b&&(k.fill=b),l.borderWidth&&(k.stroke=l.borderColor,k["stroke-width"]=l.borderWidth)),S.zIndex=M,A+="-"+M,n=a[A],n||(a[A]=n=C.g("plot-"+A).attr(S).add()),y&&(r.svgElem=v=C.path().attr(k).add(n)),m)x=a.getPlotLinePath(p,v.strokeWidth());else{if(!g)return;x=a.getPlotBandPath(f,d,l)}if(y&&x&&x.length){if(v.attr({d:x}),w){t=function(t){v.on(t,function(e){w[t].apply(r,[e])})};for(e in w)t(e)}}else v&&(x?(v.show(),v.animate({d:x})):(v.hide(),c&&(r.label=c=c.destroy())));return u&&i(u.text)&&x&&x.length&&a.width>0&&a.height>0&&!x.flat?(u=s({align:o&&g&&"center",x:o?!g&&4:10,verticalAlign:!o&&g&&"middle",y:o?g?16:10:g?6:-4,rotation:o&&!g&&90},u),this.renderLabel(u,x,g,M)):c&&c.hide(),r},renderLabel:function(t,i,r,a){var o,s,h,l,u,c=this,d=c.label,f=c.axis.chart.renderer;d||(o={align:t.textAlign||t.align,rotation:t.rotation,"class":"highcharts-plot-"+(r?"band":"line")+"-label "+(t.className||"")},o.zIndex=a,c.label=d=f.text(t.text,0,0,t.useHTML).attr(o).add(),d.css(t.style)),s=[i[1],i[4],r?i[6]:i[1]],h=[i[2],i[5],r?i[7]:i[2]],l=n(s),u=n(h),d.align(t,!1,{x:l,y:u,width:e(s)-l,height:e(h)-u}),d.show()},destroy:function(){o(this.axis.plotLinesAndBands,this),delete this.axis,r(this)}},t.AxisPlotLineOrBandExtension={getPlotBandPath:function(t,e){var n=this.getPlotLinePath(e,null,null,!0),i=this.getPlotLinePath(t,null,null,!0);return i&&n?(i.flat=i.toString()===n.toString(),i.push(n[4],n[5],n[1],n[2],"z")):i=null,i},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,n){var i=new t.PlotLineOrBand(this,e).render(),r=this.userOptions;return i&&(n&&(r[n]=r[n]||[],r[n].push(e)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();a([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&o(e,e[r])})}}}(t),function(t){var e=t.correctFloat,n=t.defined,i=t.destroyObjectProperties,r=t.isNumber,a=t.merge,o=t.pick,s=t.deg2rad;t.Tick=function(t,e,n,i){this.axis=t,this.pos=e,this.type=n||"",this.isNew=!0,n||i||this.addLabel()},t.Tick.prototype={addLabel:function(){var t,i,r=this,s=r.axis,h=s.options,l=s.chart,u=s.categories,c=s.names,d=r.pos,f=h.labels,p=s.tickPositions,g=d===p[0],m=d===p[p.length-1],v=u?o(u[d],c[d],d):d,y=r.label,x=p.info;s.isDatetimeAxis&&x&&(i=h.dateTimeLabelFormats[x.higherRanks[d]||x.unitName]),r.isFirst=g,r.isLast=m,t=s.labelFormatter.call({axis:s,chart:l,isFirst:g,isLast:m,dateTimeLabelFormat:i,value:s.isLog?e(s.lin2log(v)):v}),n(y)?y&&y.attr({text:t}):(r.label=y=n(t)&&f.enabled?l.renderer.text(t,0,0,f.useHTML).css(a(f.style)).add(s.labelGroup):null,r.labelLength=y&&y.getBBox().width,r.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,n,i,r=this.axis,a=t.x,h=r.chart.chartWidth,l=r.chart.spacing,u=o(r.labelLeft,Math.min(r.pos,l[3])),c=o(r.labelRight,Math.max(r.pos+r.len,h-l[1])),d=this.label,f=this.rotation,p={left:0,center:.5,right:1}[r.labelAlign],g=d.getBBox().width,m=r.getSlotWidth(),v=m,y=p,x=1,b={};f?0>f&&u>a-p*g?i=Math.round(a/Math.cos(f*s)-u):f>0&&a+p*g>c&&(i=Math.round((h-a)/Math.cos(f*s))):(e=a-p*g,n=a+(1-p)*g,u>e?v=t.x+v*(1-p)-u:n>c&&(v=c-t.x+v*p,x=-1),v=Math.min(m,v),m>v&&"center"===r.labelAlign&&(t.x+=x*(m-v-y*(m-Math.min(g,v)))),(g>v||r.autoRotation&&(d.styles||{}).width)&&(i=v)),i&&(b.width=i,(r.options.labels.style||{}).textOverflow||(b.textOverflow="ellipsis"),d.css(b))},getPosition:function(t,e,n,i){var r=this.axis,a=r.chart,o=i&&a.oldChartHeight||a.chartHeight;return{x:t?r.translate(e+n,null,null,i)+r.transB:r.left+r.offset+(r.opposite?(i&&a.oldChartWidth||a.chartWidth)-r.right-r.left:0),y:t?o-r.bottom+r.offset-(r.opposite?r.height:0):o-r.translate(e+n,null,null,i)-r.transB}},getLabelPosition:function(t,e,i,r,a,o,h,l){var u,c=this.axis,d=c.transA,f=c.reversed,p=c.staggerLines,g=c.tickRotCorr||{x:0,y:0},m=a.y;return n(m)||(m=0===c.side?i.rotation?-8:-i.getBBox().height:2===c.side?g.y+8:Math.cos(i.rotation*s)*(g.y-i.getBBox(!1,0).height/2)),t=t+a.x+g.x-(o&&r?o*d*(f?-1:1):0),e=e+m-(o&&!r?o*d*(f?1:-1):0),p&&(u=h/(l||1)%p,c.opposite&&(u=p-u-1),e+=u*(c.labelOffset/p)),{x:t,y:Math.round(e)}},getMarkPath:function(t,e,n,i,r,a){return a.crispLine(["M",t,e,"L",t+(r?0:-n),e+(r?n:0)],i)},render:function(t,e,n){var i,a=this,s=a.axis,h=s.options,l=s.chart,u=l.renderer,c=s.horiz,d=a.type,f=a.label,p=a.pos,g=h.labels,m=a.gridLine,v=d?d+"Tick":"tick",y=s.tickSize(v),x=a.mark,b=!x,M=g.step,w={},k=!0,S=s.tickmarkOffset,C=a.getPosition(c,p,S,e),A=C.x,P=C.y,T=c&&A===s.pos+s.len||!c&&P===s.pos?-1:1,_=d?d+"Grid":"grid",L=h[_+"LineWidth"],D=h[_+"LineColor"],E=h[_+"LineDashStyle"],z=o(h[v+"Width"],!d&&s.isXAxis?1:0),I=h[v+"Color"];n=o(n,1),this.isActive=!0,m||(w.stroke=D,w["stroke-width"]=L,E&&(w.dashstyle=E),d||(w.zIndex=1),e&&(w.opacity=0),a.gridLine=m=u.path().attr(w).addClass("highcharts-"+(d?d+"-":"")+"grid-line").add(s.gridGroup)),!e&&m&&(i=s.getPlotLinePath(p+S,m.strokeWidth()*T,e,!0),i&&m[a.isNew?"attr":"animate"]({d:i,opacity:n})),y&&(s.opposite&&(y[0]=-y[0]),b&&(a.mark=x=u.path().addClass("highcharts-"+(d?d+"-":"")+"tick").add(s.axisGroup),x.attr({stroke:I,"stroke-width":z})),x[b?"attr":"animate"]({d:a.getMarkPath(A,P,y[0],x.strokeWidth()*T,c,u),opacity:n})),f&&r(A)&&(f.xy=C=a.getLabelPosition(A,P,f,c,g,S,t,M),a.isFirst&&!a.isLast&&!o(h.showFirstLabel,1)||a.isLast&&!a.isFirst&&!o(h.showLastLabel,1)?k=!1:!c||s.isRadial||g.step||g.rotation||e||0===n||a.handleOverflow(C),M&&t%M&&(k=!1),k&&r(C.y)?(C.opacity=n,f[a.isNew?"attr":"animate"](C)):f.attr("y",-9999),a.isNew=!1)},destroy:function(){i(this,this.axis)}}}(t),function(t){var e=t.addEvent,n=t.animObject,i=t.arrayMax,r=t.arrayMin,a=t.AxisPlotLineOrBandExtension,o=t.color,s=t.correctFloat,h=t.defaultOptions,l=t.defined,u=t.deg2rad,c=t.destroyObjectProperties,d=t.each,f=t.error,p=t.extend,g=t.fireEvent,m=t.format,v=t.getMagnitude,y=t.grep,x=t.inArray,b=t.isArray,M=t.isNumber,w=t.isString,k=t.merge,S=t.normalizeTickInterval,C=t.pick,A=t.PlotLineOrBand,P=t.removeEvent,T=t.splat,_=t.syncTimeout,L=t.Tick;t.Axis=function(){this.init.apply(this,arguments)},t.Axis.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},minPadding:.01,maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,n){var i=n.isX,r=this;r.chart=t,r.horiz=t.inverted?!i:i,r.isXAxis=i,r.coll=r.coll||(i?"xAxis":"yAxis"),r.opposite=n.opposite,r.side=n.side||(r.horiz?r.opposite?0:2:r.opposite?1:3),r.setOptions(n);var a=this.options,o=a.type,s="datetime"===o;r.labelFormatter=a.labels.formatter||r.defaultLabelFormatter,r.userOptions=n,r.minPixelPadding=0,r.reversed=a.reversed,r.visible=a.visible!==!1,r.zoomEnabled=a.zoomEnabled!==!1,r.hasNames="category"===o||a.categories===!0,r.categories=a.categories||r.hasNames,r.names=r.names||[],r.isLog="logarithmic"===o,r.isDatetimeAxis=s,r.isLinked=l(a.linkedTo),r.ticks={},r.labelEdge=[],r.minorTicks={},r.plotLinesAndBands=[],r.alternateBands={},r.len=0,r.minRange=r.userMinRange=a.minRange||a.maxZoom,r.range=a.range,r.offset=a.offset||0,r.stacks={},r.oldStacks={},r.stacksTouched=0,r.max=null,r.min=null,r.crosshair=C(a.crosshair,T(t.options.tooltip.crosshairs)[i?0:1],!1);var h,u=r.options.events;-1===x(r,t.axes)&&(i?t.axes.splice(t.xAxis.length,0,r):t.axes.push(r),t[r.coll].push(r)),r.series=r.series||[],t.inverted&&i&&void 0===r.reversed&&(r.reversed=!0),r.removePlotBand=r.removePlotBandOrLine,r.removePlotLine=r.removePlotBandOrLine;for(h in u)e(r,h,u[h]);r.isLog&&(r.val2lin=r.log2lin,r.lin2val=r.lin2log)},setOptions:function(t){this.options=k(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],k(h[this.coll],t))},defaultLabelFormatter:function(){var e,n,i=this.axis,r=this.value,a=i.categories,o=this.dateTimeLabelFormat,s=h.lang,l=s.numericSymbols,u=s.numericSymbolMagnitude||1e3,c=l&&l.length,d=i.options.labels.format,f=i.isLog?r:i.tickInterval;if(d)n=m(d,this);else if(a)n=r;else if(o)n=t.dateFormat(o,r);else if(c&&f>=1e3)for(;c--&&void 0===n;)e=Math.pow(u,c+1),f>=e&&10*r%e===0&&null!==l[c]&&0!==r&&(n=t.numberFormat(r/e,-1)+l[c]);return void 0===n&&(n=Math.abs(r)>=1e4?t.numberFormat(r,-1):t.numberFormat(r,-1,void 0,"")),n},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),d(t.series,function(n){if(n.visible||!e.options.chart.ignoreHiddenSeries){var a,o,s,h=n.options,u=h.threshold;t.hasVisibleSeries=!0,t.isLog&&0>=u&&(u=null),t.isXAxis?(a=n.xData,a.length&&(o=r(a),M(o)||o instanceof Date||(a=y(a,function(t){return M(t)}),o=r(a)),t.dataMin=Math.min(C(t.dataMin,a[0]),o),t.dataMax=Math.max(C(t.dataMax,a[0]),i(a)))):(n.getExtremes(),s=n.dataMax,o=n.dataMin,l(o)&&l(s)&&(t.dataMin=Math.min(C(t.dataMin,o),o),t.dataMax=Math.max(C(t.dataMax,s),s)),l(u)&&(t.threshold=u),(!h.softThreshold||t.isLog)&&(t.softThreshold=!1))}})},translate:function(t,e,n,i,r,a){var o,s=this.linkedParent||this,h=1,l=0,u=i?s.oldTransA:s.transA,c=i?s.oldMin:s.min,d=s.minPixelPadding,f=(s.isOrdinal||s.isBroken||s.isLog&&r)&&s.lin2val;return u||(u=s.transA),n&&(h*=-1,l=s.len),s.reversed&&(h*=-1,l-=h*(s.sector||s.len)),e?(t=t*h+l,t-=d,o=t/u+c,f&&(o=s.lin2val(o))):(f&&(t=s.val2lin(t)),o=h*(t-c)*u+l+h*d+(M(a)?u*a:0)),o},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,n,i,r){var a,o,s,h,l,u=this,c=u.chart,d=u.left,f=u.top,p=n&&c.oldChartHeight||c.chartHeight,g=n&&c.oldChartWidth||c.chartWidth,m=u.transB,v=function(t,e,n){return(e>t||t>n)&&(i?t=Math.min(Math.max(e,t),n):l=!0),t};return r=C(r,u.translate(t,null,null,n)),a=s=Math.round(r+m),o=h=Math.round(p-r-m),M(r)?u.horiz?(o=f,h=p-u.bottom,a=s=v(a,d,d+u.width)):(a=d,s=g-u.right,o=h=v(o,f,f+u.height)):l=!0,l&&!i?null:c.renderer.crispLine(["M",a,o,"L",s,h],e||1)},getLinearTickPositions:function(t,e,n){var i,r,a=s(Math.floor(e/t)*t),o=s(Math.ceil(n/t)*t),h=[];if(e===n&&M(e))return[e];for(i=a;o>=i&&(h.push(i),i=s(i+t),i!==r);)r=i;return h},getMinorTickPositions:function(){var t,e,n,i=this,r=i.options,a=i.tickPositions,o=i.minorTickInterval,s=[],h=i.pointRangePadding||0,l=i.min-h,u=i.max+h,c=u-l;if(c&&c/o<i.len/3)if(i.isLog)for(n=a.length,e=1;n>e;e++)s=s.concat(i.getLogTickPositions(o,a[e-1],a[e],!0));else if(i.isDatetimeAxis&&"auto"===r.minorTickInterval)s=s.concat(i.getTimeTicks(i.normalizeTimeTickInterval(o),l,u,r.startOfWeek));else for(t=l+(a[0]-l)%o;u>=t&&t!==s[0];t+=o)s.push(t);return 0!==s.length&&i.trimTicks(s,r.startOnTick,r.endOnTick),s},adjustForMinRange:function(){var t,e,n,a,o,s,h,u,c,f=this,p=f.options,g=f.min,m=f.max,v=f.dataMax-f.dataMin>=f.minRange;f.isXAxis&&void 0===f.minRange&&!f.isLog&&(l(p.min)||l(p.max)?f.minRange=null:(d(f.series,function(t){for(o=t.xData,s=t.xIncrement?1:o.length-1,n=s;n>0;n--)a=o[n]-o[n-1],(void 0===e||e>a)&&(e=a)}),f.minRange=Math.min(5*e,f.dataMax-f.dataMin))),m-g<f.minRange&&(c=f.minRange,t=(c-m+g)/2,h=[g-t,C(p.min,g-t)],v&&(h[2]=f.isLog?f.log2lin(f.dataMin):f.dataMin),g=i(h),u=[g+c,C(p.max,g+c)],v&&(u[2]=f.isLog?f.log2lin(f.dataMax):f.dataMax),m=r(u),c>m-g&&(h[0]=m-c,h[1]=C(p.min,m-c),g=i(h))),f.min=g,f.max=m},getClosest:function(){var t;return this.categories?t=1:d(this.series,function(e){var n=e.closestPointRange,i=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&l(n)&&i&&(t=l(t)?Math.min(t,n):n)}),t},nameToX:function(t){var e,n=b(this.categories),i=n?this.categories:this.names,r=t.options.x;return t.series.requireSorting=!1,l(r)||(r=this.options.uniqueNames===!1?t.series.autoIncrement():x(t.name,i)),-1===r?n||(e=i.length):e=r,this.names[e]=t.name,e},updateNames:function(){var t=this;this.names.length>0&&(this.names.length=0,d(this.series||[],function(e){e.xIncrement=null,(!e.points||e.isDirtyData)&&(e.processData(),e.generatePoints()),d(e.data,function(n,i){var r;n.options&&void 0===n.options.x&&(r=t.nameToX(n),r!==n.x&&(n.x=r,e.xData[i]=r))})}))},setAxisTranslation:function(t){var e,n,i=this,r=i.max-i.min,a=i.axisPointRange||0,o=0,s=0,h=i.linkedParent,l=!!i.categories,u=i.transA,c=i.isXAxis;(c||l||a)&&(h?(o=h.minPointOffset,s=h.pointRangePadding):(e=i.getClosest(),d(i.series,function(t){var n=l?1:c?C(t.options.pointRange,e,0):i.axisPointRange||0,r=t.options.pointPlacement;a=Math.max(a,n),i.single||(o=Math.max(o,w(r)?0:n/2),s=Math.max(s,"on"===r?0:n))})),n=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=o*=n,i.pointRangePadding=s*=n,i.pointRange=Math.min(a,r),c&&(i.closestPointRange=e)),t&&(i.oldTransA=u),i.translationSlope=i.transA=u=i.len/(r+s||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=u*o},minFromRange:function(){return this.max-this.range},setTickInterval:function(t){var e,n,i,r,a,o,h,u=this,c=u.chart,p=u.options,m=u.isLog,y=u.log2lin,x=u.isDatetimeAxis,b=u.isXAxis,w=u.isLinked,k=p.maxPadding,A=p.minPadding,P=p.tickInterval,T=p.tickPixelInterval,_=u.categories,L=u.threshold,D=u.softThreshold;x||_||w||this.getTickAmount(),o=C(u.userMin,p.min),h=C(u.userMax,p.max),w?(u.linkedParent=c[u.coll][p.linkedTo],n=u.linkedParent.getExtremes(),u.min=C(n.min,n.dataMin),u.max=C(n.max,n.dataMax),p.type!==u.linkedParent.options.type&&f(11,1)):(!D&&l(L)&&(u.dataMin>=L?(r=L,A=0):u.dataMax<=L&&(a=L,k=0)),u.min=C(o,r,u.dataMin),u.max=C(h,a,u.dataMax)),m&&(!t&&Math.min(u.min,C(u.dataMin,u.min))<=0&&f(10,1),u.min=s(y(u.min),15),u.max=s(y(u.max),15)),u.range&&l(u.max)&&(u.userMin=u.min=o=Math.max(u.min,u.minFromRange()),u.userMax=h=u.max,u.range=null),g(u,"foundExtremes"),u.beforePadding&&u.beforePadding(),u.adjustForMinRange(),_||u.axisPointRange||u.usePercentage||w||!l(u.min)||!l(u.max)||(e=u.max-u.min,e&&(!l(o)&&A&&(u.min-=e*A),!l(h)&&k&&(u.max+=e*k))),M(p.floor)?u.min=Math.max(u.min,p.floor):M(p.softMin)&&(u.min=Math.min(u.min,p.softMin)),M(p.ceiling)?u.max=Math.min(u.max,p.ceiling):M(p.softMax)&&(u.max=Math.max(u.max,p.softMax)),D&&l(u.dataMin)&&(L=L||0,!l(o)&&u.min<L&&u.dataMin>=L?u.min=L:!l(h)&&u.max>L&&u.dataMax<=L&&(u.max=L)),u.tickInterval=u.min===u.max||void 0===u.min||void 0===u.max?1:w&&!P&&T===u.linkedParent.options.tickPixelInterval?P=u.linkedParent.tickInterval:C(P,this.tickAmount?(u.max-u.min)/Math.max(this.tickAmount-1,1):void 0,_?1:(u.max-u.min)*T/Math.max(u.len,T)),b&&!t&&d(u.series,function(t){t.processData(u.min!==u.oldMin||u.max!==u.oldMax)}),u.setAxisTranslation(!0),u.beforeSetTickPositions&&u.beforeSetTickPositions(),u.postProcessTickInterval&&(u.tickInterval=u.postProcessTickInterval(u.tickInterval)),u.pointRange&&!P&&(u.tickInterval=Math.max(u.pointRange,u.tickInterval)),i=C(p.minTickInterval,u.isDatetimeAxis&&u.closestPointRange),!P&&u.tickInterval<i&&(u.tickInterval=i),x||m||P||(u.tickInterval=S(u.tickInterval,null,v(u.tickInterval),C(p.allowDecimals,!(u.tickInterval>.5&&u.tickInterval<5&&u.max>1e3&&u.max<9999)),!!this.tickAmount)),this.tickAmount||(u.tickInterval=u.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e,n=this.options,i=n.tickPositions,r=n.tickPositioner,a=n.startOnTick,o=n.endOnTick;this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===n.minorTickInterval&&this.tickInterval?this.tickInterval/5:n.minorTickInterval,this.tickPositions=t=i&&i.slice(),t||(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,r&&(r=r.apply(this,[this.min,this.max]),r&&(this.tickPositions=t=r))),this.isLinked||(this.trimTicks(t,a,o),this.min===this.max&&l(this.min)&&!this.tickAmount&&(e=!0,this.min-=.5,this.max+=.5),this.single=e,i||r||this.adjustTickAmount())},trimTicks:function(t,e,n){var i=t[0],r=t[t.length-1],a=this.minPointOffset||0;if(e)this.min=i;else for(;this.min-a>t[0];)t.shift();if(n)this.max=r;else for(;this.max+a<t[t.length-1];)t.pop();0===t.length&&l(i)&&t.push((r+i)/2)},alignToOthers:function(){var t,e={},n=this.options;return this.chart.options.chart.alignTicks!==!1&&n.alignTicks!==!1&&d(this.chart[this.coll],function(n){var i=n.options,r=n.horiz,a=[r?i.left:i.top,i.width,i.height,i.pane].join(",");n.series.length&&(e[a]?t=!0:e[a]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,n=t.tickPixelInterval;!l(t.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/n)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t,e,n=this.tickInterval,i=this.tickPositions,r=this.tickAmount,a=this.finalTickAmt,o=i&&i.length;if(r>o){for(;i.length<r;)i.push(s(i[i.length-1]+n));this.transA*=(o-1)/(r-1),this.max=i[i.length-1]}else o>r&&(this.tickInterval*=2,this.setTickPositions());if(l(a)){for(t=e=i.length;t--;)(3===a&&t%2===1||2>=a&&t>0&&e-1>t)&&i.splice(t,1);this.finalTickAmt=void 0}},setScale:function(){var t,e,n=this;n.oldMin=n.min,n.oldMax=n.max,n.oldAxisLength=n.len,n.setAxisSize(),e=n.len!==n.oldAxisLength,d(n.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||n.isLinked||n.forceRedraw||n.userMin!==n.oldUserMin||n.userMax!==n.oldUserMax||n.alignToOthers()?(n.resetStacks&&n.resetStacks(),n.forceRedraw=!1,n.getSeriesExtremes(),n.setTickInterval(),n.oldUserMin=n.userMin,n.oldUserMax=n.userMax,n.isDirty||(n.isDirty=e||n.min!==n.oldMin||n.max!==n.oldMax)):n.cleanStacks&&n.cleanStacks()},setExtremes:function(t,e,n,i,r){var a=this,o=a.chart;n=C(n,!0),d(a.series,function(t){delete t.kdTree}),r=p(r,{min:t,max:e}),g(a,"setExtremes",r,function(){a.userMin=t,a.userMax=e,a.eventArgs=r,n&&o.redraw(i)})},zoom:function(t,e){var n=this.dataMin,i=this.dataMax,r=this.options,a=Math.min(n,C(r.min,n)),o=Math.max(i,C(r.max,i));return(t!==this.min||e!==this.max)&&(this.allowZoomOutside||(l(n)&&a>=t&&(t=a),l(i)&&e>=o&&(e=o)),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var t=this.chart,e=this.options,n=e.offsetLeft||0,i=e.offsetRight||0,r=this.horiz,a=C(e.width,t.plotWidth-n+i),o=C(e.height,t.plotHeight),s=C(e.top,t.plotTop),h=C(e.left,t.plotLeft+n),l=/%$/;l.test(o)&&(o=Math.round(parseFloat(o)/100*t.plotHeight)),l.test(s)&&(s=Math.round(parseFloat(s)/100*t.plotHeight+t.plotTop)),this.left=h,this.top=s,this.width=a,this.height=o,this.bottom=t.chartHeight-o-s,this.right=t.chartWidth-a-h,this.len=Math.max(r?a:o,0),this.pos=r?h:s},getExtremes:function(){var t=this,e=t.isLog,n=t.lin2log;return{min:e?s(n(t.min)):t.min,max:e?s(n(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}},getThreshold:function(t){var e=this,n=e.isLog,i=e.lin2log,r=n?i(e.min):e.min,a=n?i(e.max):e.max;return null===t?t=r:r>t?t=r:t>a&&(t=a),e.translate(t,0,1,0,1)},autoLabelAlign:function(t){var e,n=(C(t,0)-90*this.side+720)%360;return e=n>15&&165>n?"right":n>195&&345>n?"left":"center"},tickSize:function(t){var e=this.options,n=e[t+"Length"],i=C(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);return i&&n?("inside"===e[t+"Position"]&&(n=-n),[n,i]):void 0},labelMetrics:function(){return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[0]&&this.ticks[0].label)},unsquish:function(){var t,e,n,i=this.options.labels,r=this.horiz,a=this.tickInterval,o=a,s=this.len/(((this.categories?1:0)+this.max-this.min)/a),h=i.rotation,c=this.labelMetrics(),f=Number.MAX_VALUE,p=function(t){var e=t/(s||1);return e=e>1?Math.ceil(e):1,e*a};return r?(n=!i.staggerLines&&!i.step&&(l(h)?[h]:s<C(i.autoRotationLimit,80)&&i.autoRotation),n&&d(n,function(n){var i;(n===h||n&&n>=-90&&90>=n)&&(e=p(Math.abs(c.h/Math.sin(u*n))),i=e+Math.abs(n/360),f>i&&(f=i,t=n,o=e))})):i.step||(o=p(c.h)),this.autoRotation=n,this.labelRotation=C(t,h),o},getSlotWidth:function(){var t=this.chart,e=this.horiz,n=this.options.labels,i=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=t.margin[3];return e&&(n.step||0)<2&&!n.rotation&&(this.staggerLines||1)*t.plotWidth/i||!e&&(r&&r-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var t,e,n,i,r=this.chart,a=r.renderer,o=this.tickPositions,s=this.ticks,h=this.options.labels,l=this.horiz,u=this.getSlotWidth(),c=Math.max(1,Math.round(u-2*(h.padding||5))),f={},p=this.labelMetrics(),g=h.style&&h.style.textOverflow,m=0;if(w(h.rotation)||(f.rotation=h.rotation||0),d(o,function(t){t=s[t],t&&t.labelLength>m&&(m=t.labelLength)}),this.maxLabelLength=m,this.autoRotation)m>c&&m>p.h?f.rotation=this.labelRotation:this.labelRotation=0;else if(u&&(t={width:c+"px"},!g))for(t.textOverflow="clip",n=o.length;!l&&n--;)i=o[n],e=s[i].label,e&&(e.styles&&"ellipsis"===e.styles.textOverflow?e.css({textOverflow:"clip"}):s[i].labelLength>u&&e.css({width:u+"px"}),e.getBBox().height>this.len/o.length-(p.h-p.f)&&(e.specCss={textOverflow:"ellipsis"}));f.rotation&&(t={width:(m>.5*r.chartHeight?.33*r.chartHeight:r.chartHeight)+"px"},g||(t.textOverflow="ellipsis")),this.labelAlign=h.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(f.align=this.labelAlign),d(o,function(e){var n=s[e],i=n&&n.label;i&&(i.attr(f),t&&i.css(k(t,i.specCss)),delete i.specCss,n.rotation=f.rotation)}),this.tickRotCorr=a.rotCorr(p.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&!!this.tickPositions},getOffset:function(){var t,e,n,i,r,a,o,s,h=this,u=h.chart,c=u.renderer,f=h.options,p=h.tickPositions,g=h.ticks,m=h.horiz,v=h.side,y=u.inverted?[1,0,3,2][v]:v,x=0,b=0,M=f.title,w=f.labels,k=0,S=h.opposite,A=u.axisOffset,P=u.clipOffset,T=[-1,1,1,-1][v],_=f.className,D=h.axisParent,E=this.tickSize("tick");if(t=h.hasData(),h.showAxis=e=t||C(f.showEmpty,!0),h.staggerLines=h.horiz&&w.staggerLines,h.axisGroup||(h.gridGroup=c.g("grid").attr({zIndex:f.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(_||"")).add(D),h.axisGroup=c.g("axis").attr({zIndex:f.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(_||"")).add(D),h.labelGroup=c.g("axis-labels").attr({zIndex:w.zIndex||7}).addClass("highcharts-"+h.coll.toLowerCase()+"-labels "+(_||"")).add(D)),t||h.isLinked)d(p,function(t){g[t]?g[t].addLabel():g[t]=new L(h,t)}),h.renderUnsquish(),w.reserveSpace===!1||0!==v&&2!==v&&{1:"left",3:"right"}[v]!==h.labelAlign&&"center"!==h.labelAlign||d(p,function(t){k=Math.max(g[t].getLabelSize(),k)}),h.staggerLines&&(k*=h.staggerLines,h.labelOffset=k*(h.opposite?-1:1));else for(a in g)g[a].destroy(),delete g[a];M&&M.text&&M.enabled!==!1&&(h.axisTitle||(o=M.textAlign,o||(o=(m?{low:"left",middle:"center",high:"right"}:{low:S?"right":"left",middle:"center",high:S?"left":"right"})[M.align]),h.axisTitle=c.text(M.text,0,0,M.useHTML).attr({zIndex:7,rotation:M.rotation||0,align:o}).addClass("highcharts-axis-title").css(M.style).add(h.axisGroup),h.axisTitle.isNew=!0),e&&(x=h.axisTitle.getBBox()[m?"height":"width"],n=M.offset,b=l(n)?0:C(M.margin,m?5:10)),h.axisTitle[e?"show":"hide"](!0)),h.renderLine(),h.offset=T*C(f.offset,A[v]),h.tickRotCorr=h.tickRotCorr||{x:0,y:0},s=0===v?-h.labelMetrics().h:2===v?h.tickRotCorr.y:0,i=Math.abs(k)+b,k&&(i-=s,i+=T*(m?C(w.y,h.tickRotCorr.y+8*T):w.x)),h.axisTitleMargin=C(n,i),A[v]=Math.max(A[v],h.axisTitleMargin+x+T*h.offset,i,t&&p.length&&E?E[0]:0),r=f.offset?0:2*Math.floor(h.axisLine.strokeWidth()/2),P[y]=Math.max(P[y],r)},getLinePath:function(t){var e=this.chart,n=this.opposite,i=this.offset,r=this.horiz,a=this.left+(n?this.width:0)+i,o=e.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(t*=-1),e.renderer.crispLine(["M",r?this.left:a,r?o:this.top,"L",r?e.chartWidth-this.right:a,r?o:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,i=this.len,r=this.options.title,a=t?e:n,o=this.opposite,s=this.offset,h=r.x||0,l=r.y||0,u=this.chart.renderer.fontMetrics(r.style&&r.style.fontSize,this.axisTitle).f,c={low:a+(t?0:i),middle:a+i/2,high:a+(t?i:0)}[r.align],d=(t?n+this.height:e)+(t?1:-1)*(o?-1:1)*this.axisTitleMargin+(2===this.side?u:0);return{x:t?c+h:d+(o?this.width:0)+s+h,y:t?d+l-(o?this.height:0)+s:c+l}},render:function(){var t,e,i=this,r=i.chart,a=r.renderer,o=i.options,s=i.isLog,h=i.lin2log,l=i.isLinked,u=i.tickPositions,c=i.axisTitle,f=i.ticks,p=i.minorTicks,g=i.alternateBands,m=o.stackLabels,v=o.alternateGridColor,y=i.tickmarkOffset,x=i.axisLine,b=r.hasRendered,w=b&&M(i.oldMin),k=i.showAxis,S=n(a.globalAnimation);i.labelEdge.length=0,i.overlap=!1,d([f,p,g],function(t){var e;for(e in t)t[e].isActive=!1}),(i.hasData()||l)&&(i.minorTickInterval&&!i.categories&&d(i.getMinorTickPositions(),function(t){p[t]||(p[t]=new L(i,t,"minor")),w&&p[t].isNew&&p[t].render(null,!0),p[t].render(null,!1,1)}),u.length&&(d(u,function(t,e){(!l||t>=i.min&&t<=i.max)&&(f[t]||(f[t]=new L(i,t)),w&&f[t].isNew&&f[t].render(e,!0,.1),f[t].render(e))}),y&&(0===i.min||i.single)&&(f[-1]||(f[-1]=new L(i,-1,null,!0)),f[-1].render(-1))),v&&d(u,function(n,a){e=void 0!==u[a+1]?u[a+1]+y:i.max-y,a%2===0&&n<i.max&&e<=i.max+(r.polar?-y:y)&&(g[n]||(g[n]=new A(i)),t=n+y,g[n].options={from:s?h(t):t,to:s?h(e):e,color:v},g[n].render(),g[n].isActive=!0)}),i._addedPlotLB||(d((o.plotLines||[]).concat(o.plotBands||[]),function(t){i.addPlotBandOrLine(t)}),i._addedPlotLB=!0)),d([f,p,g],function(t){var e,n,i=[],a=S.duration,o=function(){for(n=i.length;n--;)t[i[n]]&&!t[i[n]].isActive&&(t[i[n]].destroy(),delete t[i[n]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,i.push(e));_(o,t!==g&&r.hasRendered&&a?a:0)}),x&&(x[x.isPlaced?"animate":"attr"]({d:this.getLinePath(x.strokeWidth())}),x.isPlaced=!0,x[k?"show":"hide"](!0)),c&&k&&(c[c.isNew?"attr":"animate"](i.getTitlePosition()),c.isNew=!1),m&&m.enabled&&i.renderStackTotals(),i.isDirty=!1},redraw:function(){this.visible&&(this.render(),d(this.plotLinesAndBands,function(t){t.render()})),d(this.series,function(t){t.isDirty=!0})},keepProps:["extKey","hcEvents","names","series","userMax","userMin"],destroy:function(t){var e,n,i,r=this,a=r.stacks,o=r.plotLinesAndBands;t||P(r);for(e in a)c(a[e]),a[e]=null;if(d([r.ticks,r.minorTicks,r.alternateBands],function(t){c(t)}),o)for(n=o.length;n--;)o[n].destroy();d(["stackTotalGroup","axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross"],function(t){r[t]&&(r[t]=r[t].destroy())});for(i in r)r.hasOwnProperty(i)&&-1===x(i,r.keepProps)&&delete r[i]},drawCrosshair:function(t,e){var n,i,r,a=this.crosshair,s=C(a.snap,!0),h=this.cross;if(t||(t=this.cross&&this.cross.e),this.crosshair&&(l(e)||!s)!==!1){if(s?l(e)&&(i=this.isXAxis?e.plotX:this.len-e.plotY):i=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),l(i)&&(n=this.getPlotLinePath(e&&(this.isXAxis?e.x:C(e.stackY,e.y)),null,null,null,i)||null),!l(n))return void this.hideCrosshair();r=this.categories&&!this.isRadial,h||(this.cross=h=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(r?"category ":"thin ")+a.className).attr({zIndex:C(a.zIndex,2)}).add(),h.attr({stroke:a.color||(r?o("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":C(a.width,1)}),a.dashStyle&&h.attr({dashstyle:a.dashStyle})),h.show().attr({d:n}),r&&!a.width&&h.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},p(t.Axis.prototype,a)}(t),function(t){var e=t.Axis,n=t.Date,i=t.dateFormat,r=t.defaultOptions,a=t.defined,o=t.each,s=t.extend,h=t.getMagnitude,l=t.getTZOffset,u=t.normalizeTickInterval,c=t.pick,d=t.timeUnits;e.prototype.getTimeTicks=function(t,e,h,u){var f,p,g,m=[],v={},y=r.global.useUTC,x=new n(e-l(e)),b=n.hcMakeTime,M=t.unitRange,w=t.count;if(a(e)){x[n.hcSetMilliseconds](M>=d.second?0:w*Math.floor(x.getMilliseconds()/w)),M>=d.second&&x[n.hcSetSeconds](M>=d.minute?0:w*Math.floor(x.getSeconds()/w)),M>=d.minute&&x[n.hcSetMinutes](M>=d.hour?0:w*Math.floor(x[n.hcGetMinutes]()/w)),M>=d.hour&&x[n.hcSetHours](M>=d.day?0:w*Math.floor(x[n.hcGetHours]()/w)),M>=d.day&&x[n.hcSetDate](M>=d.month?1:w*Math.floor(x[n.hcGetDate]()/w)),M>=d.month&&(x[n.hcSetMonth](M>=d.year?0:w*Math.floor(x[n.hcGetMonth]()/w)),p=x[n.hcGetFullYear]()),M>=d.year&&(p-=p%w,x[n.hcSetFullYear](p)),M===d.week&&x[n.hcSetDate](x[n.hcGetDate]()-x[n.hcGetDay]()+c(u,1)),p=x[n.hcGetFullYear]();var k=x[n.hcGetMonth](),S=x[n.hcGetDate](),C=x[n.hcGetHours]();(n.hcTimezoneOffset||n.hcGetTimezoneOffset)&&(g=(!y||!!n.hcGetTimezoneOffset)&&(h-e>4*d.month||l(e)!==l(h)),x=x.getTime(),x=new n(x+l(x)));var A=x.getTime();for(f=1;h>A;)m.push(A),M===d.year?A=b(p+f*w,0):M===d.month?A=b(p,k+f*w):!g||M!==d.day&&M!==d.week?g&&M===d.hour?A=b(p,k,S,C+f*w):A+=M*w:A=b(p,k,S+f*w*(M===d.day?1:7)),f++;m.push(A),M<=d.hour&&o(m,function(t){"000000000"===i("%H%M%S%L",t)&&(v[t]="day")})}return m.info=s(t,{higherRanks:v,totalRange:M*w}),m},e.prototype.normalizeTimeTickInterval=function(t,e){var n,i,r=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],a=r[r.length-1],o=d[a[0]],s=a[1];for(i=0;i<r.length;i++)if(a=r[i],o=d[a[0]],s=a[1],r[i+1]){var l=(o*s[s.length-1]+d[r[i+1][0]])/2;if(l>=t)break}return o===d.year&&5*o>t&&(s=[1,2,5]),n=u(t/o,s,"year"===a[0]?Math.max(h(t/o),1):1),{unitRange:o,count:n,unitName:a[0]}}}(t),function(t){var e=t.Axis,n=t.getMagnitude,i=t.map,r=t.normalizeTickInterval,a=t.pick;e.prototype.getLogTickPositions=function(t,e,o,s){var h=this,l=h.options,u=h.len,c=h.lin2log,d=h.log2lin,f=[];if(s||(h._minorAutoInterval=null),t>=.5)t=Math.round(t),f=h.getLinearTickPositions(t,e,o);
else if(t>=.08){var p,g,m,v,y,x,b,M=Math.floor(e);for(p=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],g=M;o+1>g&&!b;g++)for(v=p.length,m=0;v>m&&!b;m++)y=d(c(g)*p[m]),y>e&&(!s||o>=x)&&void 0!==x&&f.push(x),x>o&&(b=!0),x=y}else{var w=c(e),k=c(o),S=l[s?"minorTickInterval":"tickInterval"],C="auto"===S?null:S,A=l.tickPixelInterval/(s?5:1),P=s?u/h.tickPositions.length:u;t=a(C,h._minorAutoInterval,(k-w)*A/(P||1)),t=r(t,null,n(t)),f=i(h.getLinearTickPositions(t,w,k),d),s||(h._minorAutoInterval=t/5)}return s||(h.tickInterval=t),f},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(t),function(t){var e=t.dateFormat,n=t.each,i=t.extend,r=t.format,a=t.isNumber,o=t.map,s=t.merge,h=t.pick,l=t.splat,u=t.syncTimeout,c=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split},cleanSplit:function(t){n(this.chart.series,function(e){var n=e&&e.tt;n&&(!n.isActive||t?e.tt=n.destroy():n.isActive=!1)})},getLabel:function(){var t=this.chart.renderer,e=this.options;return this.label||(this.split?this.label=t.g("tooltip"):(this.label=t.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:e.padding,r:e.borderRadius}),this.label.attr({fill:e.backgroundColor,"stroke-width":e.borderWidth}).css(e.style).shadow(e.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),this.init(this.chart,s(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,n,r){var a=this,o=a.now,s=a.options.animation!==!1&&!a.isHidden&&(Math.abs(t-o.x)>1||Math.abs(e-o.y)>1),h=a.followPointer||a.len>1;i(o,{x:s?(2*o.x+t)/3:t,y:s?(o.y+e)/2:e,anchorX:h?void 0:s?(2*o.anchorX+n)/3:n,anchorY:h?void 0:s?(o.anchorY+r)/2:r}),a.getLabel().attr(o),s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){a&&a.move(t,e,n,r)},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),t=h(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=u(function(){e.getLabel()[t?"fadeOut":"hide"](),e.isHidden=!0},t))},getAnchor:function(t,e){var i,r,a,s=this.chart,h=s.inverted,u=s.plotTop,c=s.plotLeft,d=0,f=0;return t=l(t),i=t[0].tooltipPos,this.followPointer&&e&&(void 0===e.chartX&&(e=s.pointer.normalize(e)),i=[e.chartX-s.plotLeft,e.chartY-u]),i||(n(t,function(t){r=t.series.yAxis,a=t.series.xAxis,d+=t.plotX+(!h&&a?a.left-c:0),f+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!h&&r?r.top-u:0)}),d/=t.length,f/=t.length,i=[h?s.plotWidth-f:d,this.shared&&!h&&t.length>1&&e?e.chartY-u:h?s.plotHeight-d:f]),o(i,Math.round)},getPosition:function(t,e,n){var i,r=this.chart,a=this.distance,o={},s=n.h||0,l=["y",r.chartHeight,e,n.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],u=["x",r.chartWidth,t,n.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],c=!this.followPointer&&h(n.ttBelow,!r.inverted==!!n.negative),d=function(t,e,n,i,r,h){var l=i-a>n,u=e>i+a+n,d=i-a-n,f=i+a;if(c&&u)o[t]=f;else if(!c&&l)o[t]=d;else if(l)o[t]=Math.min(h-n,0>d-s?d:d-s);else{if(!u)return!1;o[t]=Math.max(r,f+s+n>e?f:f+s)}},f=function(t,e,n,i){var r;return a>i||i>e-a?r=!1:o[t]=n/2>i?1:i>e-n/2?e-n-2:i-n/2,r},p=function(t){var e=l;l=u,u=e,i=t},g=function(){d.apply(0,l)!==!1?f.apply(0,u)!==!1||i||(p(!0),g()):i?o.x=o.y=0:(p(!0),g())};return(r.inverted||this.len>1)&&p(),g(),o},defaultFormatter:function(t){var e,n=this.points||l(this);return e=[t.tooltipFooterHeaderFormatter(n[0])],e=e.concat(t.bodyFormatter(n)),e.push(t.tooltipFooterHeaderFormatter(n[0],!0)),e},refresh:function(t,e){var i,r,a,o,s,u,c=this,d=c.chart,f=c.options,p={},g=[],m=f.formatter||c.defaultFormatter,v=d.hoverPoints,y=c.shared;clearTimeout(this.hideTimer),c.followPointer=l(t)[0].series.tooltipOptions.followPointer,o=c.getAnchor(t,e),r=o[0],a=o[1],!y||t.series&&t.series.noSharedTooltip?p=t.getLabelConfig():(d.hoverPoints=t,v&&n(v,function(t){t.setState()}),n(t,function(t){t.setState("hover"),g.push(t.getLabelConfig())}),p={x:t[0].category,y:t[0].y},p.points=g,this.len=g.length,t=t[0]),s=m.call(p,c),u=t.series,this.distance=h(u.tooltipOptions.distance,16),s===!1?this.hide():(i=c.getLabel(),c.isHidden&&i.attr({opacity:1}).show(),c.split?this.renderSplit(s,d.hoverPoints):(i.attr({text:s&&s.join?s.join(""):s}),i.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+h(t.colorIndex,u.colorIndex)),i.attr({stroke:f.borderColor||t.color||u.color||"#666666"}),c.updatePosition({plotX:r,plotY:a,negative:t.negative,ttBelow:t.ttBelow,h:o[2]||0})),this.isHidden=!1)},renderSplit:function(e,i){var r,a=this,o=[],s=this.chart,l=s.renderer,u=!0,c=this.options,d=this.getLabel();n(e.slice(0,e.length-1),function(t,e){var n,f,p,g,m=i[e-1]||{isHeader:!0,plotX:i[0].plotX},v=m.series||a,y=v.tt,x=m.series||{},b="highcharts-color-"+h(m.colorIndex,x.colorIndex,"none");y||(v.tt=y=l.label(null,null,null,"callout").addClass("highcharts-tooltip-box "+b).attr({padding:c.padding,r:c.borderRadius,fill:c.backgroundColor,stroke:m.color||x.color||"#333333","stroke-width":c.borderWidth}).add(d)),y.isActive=!0,y.attr({text:t}),y.css(c.style),p=y.getBBox(),g=p.width+y.strokeWidth(),m.isHeader?(r=p.height,f=Math.max(0,Math.min(m.plotX+s.plotLeft-g/2,s.chartWidth-g))):f=m.plotX+s.plotLeft-h(c.distance,16)-g,0>f&&(u=!1),n=(m.series&&m.series.yAxis&&m.series.yAxis.pos)+(m.plotY||0),n-=s.plotTop,o.push({target:m.isHeader?s.plotHeight+r:n,rank:m.isHeader?1:0,size:v.tt.getBBox().height+1,point:m,x:f,tt:y})}),this.cleanSplit(),t.distribute(o,s.plotHeight+r),n(o,function(t){var e=t.point;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:u||e.isHeader?t.x:e.plotX+s.plotLeft+h(c.distance,16),y:t.pos+s.plotTop,anchorX:e.plotX+s.plotLeft,anchorY:e.isHeader?t.pos+s.plotTop-15:e.plotY+s.plotTop})})},updatePosition:function(t){var e=this.chart,n=this.getLabel(),i=(this.options.positioner||this.getPosition).call(this,n.width,n.height,t);this.move(Math.round(i.x||0),Math.round(i.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getXDateFormat:function(t,n,i){var r,a,o,s=n.dateTimeLabelFormats,h=i&&i.closestPointRange,l="01-01 00:00:00.000",u={millisecond:15,second:12,minute:9,hour:6,day:3},d="millisecond";if(h){o=e("%m-%d %H:%M:%S.%L",t.x);for(a in c){if(h===c.week&&+e("%w",t.x)===i.options.startOfWeek&&o.substr(6)===l.substr(6)){a="week";break}if(c[a]>h){a=d;break}if(u[a]&&o.substr(u[a])!==l.substr(u[a]))break;"week"!==a&&(d=a)}a&&(r=s[a])}else r=s.day;return r||s.year},tooltipFooterHeaderFormatter:function(t,e){var n=e?"footer":"header",i=t.series,o=i.tooltipOptions,s=o.xDateFormat,h=i.xAxis,l=h&&"datetime"===h.options.type&&a(t.key),u=o[n+"Format"];return l&&!s&&(s=this.getXDateFormat(t,o,h)),l&&s&&(u=u.replace("{point.key}","{point.key:"+s+"}")),r(u,{point:t,series:i})},bodyFormatter:function(t){return o(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}}}(t),function(t){var e=t.addEvent,n=t.attr,i=t.charts,r=t.color,a=t.css,o=t.defined,s=t.doc,h=t.each,l=t.extend,u=t.fireEvent,c=t.offset,d=t.pick,f=t.removeEvent,p=t.splat,g=t.Tooltip,m=t.win;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},g&&e.tooltip.enabled&&(t.tooltip=new g(t,e.tooltip),this.followTouchMove=d(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e,n,i=this.chart,r=i.options.chart,a=r.zoomType||"",o=i.inverted;/touch/.test(t.type)&&(a=d(r.pinchType,a)),this.zoomX=e=/x/.test(a),this.zoomY=n=/y/.test(a),this.zoomHor=e&&!o||n&&o,this.zoomVert=n&&!o||e&&o,this.hasZoom=e||n},normalize:function(t,e){var n,i,r;return t=t||m.event,t.target||(t.target=t.srcElement),r=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=c(this.chart.container)),void 0===r.pageX?(n=Math.max(t.x,t.clientX-e.left),i=t.y):(n=r.pageX-e.left,i=r.pageY-e.top),l(t,{chartX:Math.round(n),chartY:Math.round(i)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return h(this.chart.axes,function(n){e[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(t[n.horiz?"chartX":"chartY"])})}),e},runPointActions:function(n){var r,a,o,l,u,c,f,p=this,g=p.chart,m=g.series,v=g.tooltip,y=v?v.shared:!1,x=!0,b=g.hoverPoint,M=g.hoverSeries,w=[];if(!y&&!M)for(a=0;a<m.length;a++)(m[a].directTouch||!m[a].options.stickyTracking)&&(m=[]);if(u=M&&(y?M.noSharedTooltip:M.directTouch),u&&b?w=[b]:(y||!M||M.options.stickyTracking||(m=[M]),h(m,function(t){l=t.noSharedTooltip&&y,c=!y&&t.directTouch,t.visible&&!l&&!c&&d(t.options.enableMouseTracking,!0)&&(f=t.searchPoint(n,!l&&1===t.kdDimensions),f&&f.series&&w.push(f))}),w.sort(function(t,e){var n=t.distX-e.distX,i=t.dist-e.dist,r=e.series.group.zIndex-t.series.group.zIndex;return 0!==n&&y?n:0!==i?i:0!==r?r:t.series.index>e.series.index?-1:1})),y)for(a=w.length;a--;)(w[a].x!==w[0].x||w[a].series.noSharedTooltip)&&w.splice(a,1);if(w[0]&&(w[0]!==this.prevKDPoint||v&&v.isHidden)){if(y&&!w[0].series.noSharedTooltip){for(a=0;a<w.length;a++)w[a].onMouseOver(n,w[a]!==(M&&M.directTouch&&b||w[0]));w.length&&v&&v.refresh(w.sort(function(t,e){return t.series.index-e.series.index}),n)}else v&&v.refresh(w[0],n),M&&M.directTouch||w[0].onMouseOver(n);this.prevKDPoint=w[0],x=!1}x&&(r=M&&M.tooltipOptions.followPointer,v&&r&&!v.isHidden&&(o=v.getAnchor([{}],n),v.updatePosition({plotX:o[0],plotY:o[1]}))),p.unDocMouseMove||(p.unDocMouseMove=e(s,"mousemove",function(e){i[t.hoverChartIndex]&&i[t.hoverChartIndex].pointer.onDocumentMouseMove(e)})),h(y?w:[d(b,w[0])],function(t){h(g.axes,function(e){(!t||t.series&&t.series[e.coll]===e)&&e.drawCrosshair(n,t)})})},reset:function(t,e){var n=this,i=n.chart,r=i.hoverSeries,a=i.hoverPoint,o=i.hoverPoints,s=i.tooltip,l=s&&s.shared?o:a;t&&l&&h(p(l),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?s&&l&&(s.refresh(l),a&&(a.setState(a.state,!0),h(i.axes,function(t){t.crosshair&&t.drawCrosshair(null,a)}))):(a&&a.onMouseOut(),o&&h(o,function(t){t.setState()}),r&&r.onMouseOut(),s&&s.hide(e),n.unDocMouseMove&&(n.unDocMouseMove=n.unDocMouseMove()),h(i.axes,function(t){t.hideCrosshair()}),n.hoverX=n.prevKDPoint=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var n,i=this.chart;h(i.series,function(r){n=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&r.group&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(e?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))}),i.clipRect.attr(e||i.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,n,i=this.chart,a=i.options.chart,o=t.chartX,s=t.chartY,h=this.zoomHor,l=this.zoomVert,u=i.plotLeft,c=i.plotTop,d=i.plotWidth,f=i.plotHeight,p=this.selectionMarker,g=this.mouseDownX,m=this.mouseDownY,v=a.panKey&&t[a.panKey+"Key"];p&&p.touch||(u>o?o=u:o>u+d&&(o=u+d),c>s?s=c:s>c+f&&(s=c+f),this.hasDragged=Math.sqrt(Math.pow(g-o,2)+Math.pow(m-s,2)),this.hasDragged>10&&(e=i.isInsidePlot(g-u,m-c),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!v&&(p||(this.selectionMarker=p=i.renderer.rect(u,c,h?1:d,l?1:f,0).attr({fill:a.selectionMarkerFill||r("#335cad").setOpacity(.25).get(),"class":"highcharts-selection-marker",zIndex:7}).add())),p&&h&&(n=o-g,p.attr({width:Math.abs(n),x:(n>0?0:n)+g})),p&&l&&(n=s-m,p.attr({height:Math.abs(n),y:(n>0?0:n)+m})),e&&!p&&a.panning&&i.pan(t,a.panning)))},drop:function(t){var e=this,n=this.chart,i=this.hasPinched;if(this.selectionMarker){var r,s={originalEvent:t,xAxis:[],yAxis:[]},c=this.selectionMarker,d=c.attr?c.attr("x"):c.x,f=c.attr?c.attr("y"):c.y,p=c.attr?c.attr("width"):c.width,g=c.attr?c.attr("height"):c.height;(this.hasDragged||i)&&(h(n.axes,function(n){if(n.zoomEnabled&&o(n.min)&&(i||e[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var a=n.horiz,h="touchend"===t.type?n.minPixelPadding:0,l=n.toValue((a?d:f)+h),u=n.toValue((a?d+p:f+g)-h);s[n.coll].push({axis:n,min:Math.min(l,u),max:Math.max(l,u)}),r=!0}}),r&&u(n,"selection",s,function(t){n.zoom(l(t,i?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),i&&this.scaleGroups()}n&&(a(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(e){i[t.hoverChartIndex]&&i[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,n=this.chartPosition;t=this.normalize(t,n),!n||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var n=i[t.hoverChartIndex];n&&(e.relatedTarget||e.toElement)&&(n.pointer.reset(),n.pointer.chartPosition=null)},onContainerMouseMove:function(e){var n=this.chart;o(t.hoverChartIndex)&&i[t.hoverChartIndex]&&i[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=n.index),e=this.normalize(e),e.returnValue=!1,"mousedown"===n.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)||n.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var i;t;){if(i=n(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,n=t.relatedTarget||t.toElement;!e||!n||e.options.stickyTracking||this.inClass(n,"highcharts-tooltip")||this.inClass(n,"highcharts-series-"+e.index)&&this.inClass(n,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,n=e.hoverPoint,i=e.plotLeft,r=e.plotTop;t=this.normalize(t),e.cancelClick||(n&&this.inClass(t.target,"highcharts-tracker")?(u(n.series,"click",l(t,{point:n})),e.hoverPoint&&n.firePointEvent("click",t)):(l(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-i,t.chartY-r)&&u(e,"click",t)))},setDOMEvents:function(){var n=this,i=n.chart.container;i.onmousedown=function(t){n.onContainerMouseDown(t)},i.onmousemove=function(t){n.onContainerMouseMove(t)},i.onclick=function(t){n.onContainerClick(t)},e(i,"mouseleave",n.onContainerMouseLeave),1===t.chartCount&&e(s,"mouseup",n.onDocumentMouseUp),t.hasTouch&&(i.ontouchstart=function(t){n.onContainerTouchStart(t)},i.ontouchmove=function(t){n.onContainerTouchMove(t)},1===t.chartCount&&e(s,"touchend",n.onDocumentTouchEnd))},destroy:function(){var e;f(this.chart.container,"mouseleave",this.onContainerMouseLeave),t.chartCount||(f(s,"mouseup",this.onDocumentMouseUp),f(s,"touchend",this.onDocumentTouchEnd));var n=this;n._onDocumentMouseMove&&(f(s,"mousemove",n._onDocumentMouseMove),n._onDocumentMouseMove=null),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}}}(t),function(t){var e=t.charts,n=t.each,i=t.extend,r=t.map,a=t.noop,o=t.pick,s=t.Pointer;i(s.prototype,{pinchTranslate:function(t,e,n,i,r,a){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,n,i,r,a),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,n,i,r,a)},pinchTranslateDirection:function(t,e,n,i,r,a,o,s){var h,l,u,c,d,f,p=this.chart,g=t?"x":"y",m=t?"X":"Y",v="chart"+m,y=t?"width":"height",x=p["plot"+(t?"Left":"Top")],b=s||1,M=p.inverted,w=p.bounds[t?"h":"v"],k=1===e.length,S=e[0][v],C=n[0][v],A=!k&&e[1][v],P=!k&&n[1][v],T=function(){!k&&Math.abs(S-A)>20&&(b=s||Math.abs(C-P)/Math.abs(S-A)),u=(x-C)/b+S,h=p["plot"+(t?"Width":"Height")]/b};T(),l=u,l<w.min?(l=w.min,c=!0):l+h>w.max&&(l=w.max-h,c=!0),c?(C-=.8*(C-o[g][0]),k||(P-=.8*(P-o[g][1])),T()):o[g]=[C,P],M||(a[g]=u-x,a[y]=h),f=M?t?"scaleY":"scaleX":"scale"+m,d=M?1/b:b,r[y]=h,r[g]=l,i[f]=b,i["translate"+m]=d*x+(C-d*S)},pinch:function(t){var e=this,s=e.chart,h=e.pinchDown,l=t.touches,u=l.length,c=e.lastValidTouch,d=e.hasZoom,f=e.selectionMarker,p={},g=1===u&&(e.inClass(t.target,"highcharts-tracker")&&s.runTrackerClick||e.runChartClick),m={};u>1&&(e.initiated=!0),d&&e.initiated&&!g&&t.preventDefault(),r(l,function(t){return e.normalize(t)}),"touchstart"===t.type?(n(l,function(t,e){h[e]={chartX:t.chartX,chartY:t.chartY}}),c.x=[h[0].chartX,h[1]&&h[1].chartX],c.y=[h[0].chartY,h[1]&&h[1].chartY],n(s.axes,function(t){if(t.zoomEnabled){var e=s.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,i=t.toPixels(o(t.options.min,t.dataMin)),r=t.toPixels(o(t.options.max,t.dataMax)),a=Math.min(i,r),h=Math.max(i,r);e.min=Math.min(t.pos,a-n),e.max=Math.max(t.pos+t.len,h+n)}}),e.res=!0):e.followTouchMove&&1===u?this.runPointActions(e.normalize(t)):h.length&&(f||(e.selectionMarker=f=i({destroy:a,touch:!0},s.plotBox)),e.pinchTranslate(h,l,p,f,m,c),e.hasPinched=d,e.scaleGroups(p,m),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,n){var i,r,a,s=this.chart;s.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=s.index,1===e.touches.length?(e=this.normalize(e),a=s.isInsidePlot(e.chartX-s.plotLeft,e.chartY-s.plotTop),a&&!s.openMenu?(n&&this.runPointActions(e),"touchmove"===e.type&&(r=this.pinchDown,i=r[0]?Math.sqrt(Math.pow(r[0].chartX-e.chartX,2)+Math.pow(r[0].chartY-e.chartY,2))>=4:!1),o(i,!0)&&this.pinch(e)):n&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(n){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(n)}})}(t),function(t){var e=t.addEvent,n=t.charts,i=t.css,r=t.doc,a=t.extend,o=t.noop,s=t.Pointer,h=t.removeEvent,l=t.win,u=t.wrap;if(l.PointerEvent||l.MSPointerEvent){var c={},d=!!l.PointerEvent,f=function(){var t,e=[];e.item=function(t){return this[t]};for(t in c)c.hasOwnProperty(t)&&e.push({pageX:c[t].pageX,pageY:c[t].pageY,target:c[t].target});return e},p=function(e,i,r,a){var s;"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!n[t.hoverChartIndex]||(a(e),s=n[t.hoverChartIndex].pointer,s[i]({type:r,target:e.currentTarget,preventDefault:o,touches:f()}))};a(s.prototype,{onContainerPointerDown:function(t){p(t,"onContainerTouchStart","touchstart",function(t){c[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){p(t,"onContainerTouchMove","touchmove",function(t){c[t.pointerId]={pageX:t.pageX,pageY:t.pageY},c[t.pointerId].target||(c[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){p(t,"onDocumentTouchEnd","touchend",function(t){delete c[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,d?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,d?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(r,d?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),u(s.prototype,"init",function(t,e,n){t.call(this,e,n),this.hasZoom&&i(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),u(s.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),u(s.prototype,"destroy",function(t){this.batchMSEvents(h),t.call(this)})}}(t),function(t){var e,n=t.addEvent,i=t.css,r=t.discardElement,a=t.defined,o=t.each,s=t.extend,h=t.isFirefox,l=t.marginNames,u=t.merge,c=t.pick,d=t.setAnimation,f=t.stableSort,p=t.win,g=t.wrap;e=t.Legend=function(t,e){this.init(t,e)},e.prototype={init:function(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),n(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(t){var e=c(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=u(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemX=e,this.initialItemY=e-5,this.maxItemWidth=0,this.itemHeight=0,this.symbolWidth=c(t.symbolWidth,16),this.pages=[]},update:function(t,e){var n=this.chart;this.setOptions(u(!0,this.options,t)),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,c(e,!0)&&n.redraw()},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var n,i=this,r=i.options,a=t.legendItem,o=t.legendLine,s=t.legendSymbol,h=i.itemHiddenStyle.color,l=e?r.itemStyle.color:h,u=e?t.color||h:h,c=t.options&&t.options.marker,d={fill:u};if(a&&a.css({fill:l,color:l}),o&&o.attr({stroke:u}),s){if(c&&s.isMarker&&(d=t.pointAttribs(),!e))for(n in d)d[n]=h;s.attr(d)}},positionItem:function(t){var e=this,n=e.options,i=n.symbolPadding,r=!n.rtl,a=t._legendItemPos,o=a[0],s=a[1],h=t.checkbox,l=t.legendGroup;l&&l.element&&l.translate(r?o:e.legendWidth-o-2*i-4,s),h&&(h.x=o,h.y=s)},destroyItem:function(t){var e=t.checkbox;o(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&r(t.checkbox)},destroy:function(){var t=this,e=t.group,n=t.box;n&&(t.box=n.destroy()),o(this.getAllItems(),function(t){o(["legendItem","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())})}),e&&(t.group=e.destroy()),t.display=null},positionCheckboxes:function(t){var e,n=this.group&&this.group.alignAttr,r=this.clipHeight||this.legendHeight,a=this.titleHeight;n&&(e=n.translateY,o(this.allItems,function(o){var s,h=o.checkbox;h&&(s=e+a+h.y+(t||0)+3,i(h,{left:n.translateX+o.checkboxOffset+h.x-20+"px",top:s+"px",display:s>e-6&&e+r-6>s?"":"none"}))}))},renderTitle:function(){var t,e=this.options,n=this.padding,i=e.title,r=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,n-3,n-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(i.style).add(this.group)),t=this.title.getBBox(),r=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r},setText:function(e){var n=this.options;e.legendItem.attr({text:n.labelFormat?t.format(n.labelFormat,e):n.labelFormatter.call(e)})},renderItem:function(t){var e,n,i,r=this,a=r.chart,o=a.renderer,s=r.options,h="horizontal"===s.layout,l=r.symbolWidth,d=s.symbolPadding,f=r.itemStyle,p=r.itemHiddenStyle,g=r.padding,m=h?c(s.itemDistance,20):0,v=!s.rtl,y=s.width,x=s.itemMarginBottom||0,b=r.itemMarginTop,M=r.initialItemX,w=t.legendItem,k=!t.series,S=!k&&t.series.drawLegendSymbol?t.series:t,C=S.options,A=r.createCheckboxForItem&&C&&C.showCheckbox,P=s.useHTML,T=12;w||(t.legendGroup=o.g("legend-item").addClass("highcharts-"+S.type+"-series highcharts-color-"+t.colorIndex+(t.options.className?" "+t.options.className:"")+(k?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(r.scrollGroup),t.legendItem=w=o.text("",v?l+d:-d,r.baseline||0,P).css(u(t.visible?f:p)).attr({align:v?"left":"right",zIndex:2}).add(t.legendGroup),r.baseline||(T=f.fontSize,r.fontMetrics=o.fontMetrics(T,w),r.baseline=r.fontMetrics.f+3+b,w.attr("y",r.baseline)),S.drawLegendSymbol(r,t),r.setItemEvents&&r.setItemEvents(t,w,P),A&&r.createCheckboxForItem(t)),r.colorizeItem(t,t.visible),r.setText(t),n=w.getBBox(),i=t.checkboxOffset=s.itemWidth||t.legendItemWidth||l+d+n.width+m+(A?20:0),r.itemHeight=e=Math.round(t.legendItemHeight||n.height),h&&r.itemX-M+i>(y||a.chartWidth-2*g-M-s.x)&&(r.itemX=M,r.itemY+=b+r.lastLineHeight+x,r.lastLineHeight=0),r.maxItemWidth=Math.max(r.maxItemWidth,i),r.lastItemY=b+r.itemY+x,r.lastLineHeight=Math.max(e,r.lastLineHeight),t._legendItemPos=[r.itemX,r.itemY],h?r.itemX+=i:(r.itemY+=b+e+x,r.lastLineHeight=e),r.offsetWidth=y||Math.max((h?r.itemX-M-m:i)+g,r.offsetWidth)},getAllItems:function(){var t=[];return o(this.chart.series,function(e){var n=e&&e.options;e&&c(n.showInLegend,a(n.linkedTo)?!1:void 0,!0)&&(t=t.concat(e.legendItems||("point"===n.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var n=this.chart,i=this.options,r=i.align.charAt(0)+i.verticalAlign.charAt(0)+i.layout.charAt(0);i.floating||o([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,s){o.test(r)&&!a(t[s])&&(n[l[s]]=Math.max(n[l[s]],n.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*i[s%2?"x":"y"]+c(i.margin,12)+e[s]))})},render:function(){var t,e,n,i,r=this,a=r.chart,h=a.renderer,l=r.group,u=r.box,c=r.options,d=r.padding;r.itemX=r.initialItemX,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,l||(r.group=l=h.g("legend").attr({zIndex:7}).add(),r.contentGroup=h.g().attr({zIndex:1}).add(l),r.scrollGroup=h.g().add(r.contentGroup)),r.renderTitle(),t=r.getAllItems(),f(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),c.reversed&&t.reverse(),r.allItems=t,r.display=e=!!t.length,r.lastLineHeight=0,o(t,function(t){r.renderItem(t)}),n=(c.width||r.offsetWidth)+d,i=r.lastItemY+r.lastLineHeight+r.titleHeight,i=r.handleOverflow(i),i+=d,u||(r.box=u=h.rect().addClass("highcharts-legend-box").attr({r:c.borderRadius}).add(l),u.isNew=!0),u.attr({stroke:c.borderColor,"stroke-width":c.borderWidth||0,fill:c.backgroundColor||"none"}).shadow(c.shadow),n>0&&i>0&&(u[u.isNew?"attr":"animate"](u.crisp({x:0,y:0,width:n,height:i},u.strokeWidth())),u.isNew=!1),u[e?"show":"hide"](),r.legendWidth=n,r.legendHeight=i,o(t,function(t){r.positionItem(t)}),e&&l.align(s({width:n,height:i},c),!0,"spacingBox"),a.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,n,i=this,r=this.chart,a=r.renderer,s=this.options,h=s.y,l="top"===s.verticalAlign,u=r.spacingBox.height+(l?-h:h)-this.padding,d=s.maxHeight,f=this.clipRect,p=s.navigation,g=c(p.animation,!0),m=p.arrowSize||12,v=this.nav,y=this.pages,x=this.padding,b=this.allItems,M=function(t){t?f.attr({height:t}):f&&(i.clipRect=f.destroy(),i.contentGroup.clip()),i.contentGroup.div&&(i.contentGroup.div.style.clip=t?"rect("+x+"px,9999px,"+(x+t)+"px,0)":"auto")};return"horizontal"!==s.layout||"middle"===s.verticalAlign||s.floating||(u/=2),d&&(u=Math.min(u,d)),y.length=0,t>u&&p.enabled!==!1?(this.clipHeight=e=Math.max(u-20-this.titleHeight-x,0),this.currentPage=c(this.currentPage,1),this.fullHeight=t,o(b,function(t,i){var r=t._legendItemPos[1],a=Math.round(t.legendItem.getBBox().height),o=y.length;(!o||r-y[o-1]>e&&(n||r)!==y[o-1])&&(y.push(n||r),o++),i===b.length-1&&r+a-y[o-1]>e&&y.push(r),r!==n&&(n=r)}),f||(f=i.clipRect=a.clipRect(0,x,9999,0),i.contentGroup.clip(f)),M(e),v||(this.nav=v=a.g().attr({zIndex:1}).add(this.group),this.up=a.symbol("triangle",0,0,m,m).on("click",function(){i.scroll(-1,g)}).add(v),this.pager=a.text("",15,10).addClass("highcharts-legend-navigation").css(p.style).add(v),this.down=a.symbol("triangle-down",0,0,m,m).on("click",function(){i.scroll(1,g)}).add(v)),i.scroll(0),t=u):v&&(M(),v.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var n,i=this.pages,r=i.length,a=this.currentPage+t,o=this.clipHeight,s=this.options.navigation,h=this.pager,l=this.padding;a>r&&(a=r),a>0&&(void 0!==e&&d(e,this.chart),this.nav.attr({translateX:l,translateY:o+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({"class":1===a?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),h.attr({text:a+"/"+r}),this.down.attr({x:18+this.pager.getBBox().width,"class":a===r?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===a?s.inactiveColor:s.activeColor}).css({cursor:1===a?"default":"pointer"}),this.down.attr({fill:a===r?s.inactiveColor:s.activeColor}).css({cursor:a===r?"default":"pointer"}),n=-i[a-1]+this.initialItemY,this.scrollGroup.animate({translateY:n}),this.currentPage=a,this.positionCheckboxes(n))}},t.LegendSymbolMixin={drawRectangle:function(t,e){var n=t.options,i=n.symbolHeight||t.fontMetrics.f,r=n.squareSymbol,a=r?i:t.symbolWidth;e.legendSymbol=this.chart.renderer.rect(r?(t.symbolWidth-i)/2:0,t.baseline-i+1,a,i,c(t.options.symbolRadius,i/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,n,i=this.options,r=i.marker,a=t.symbolWidth,o=this.chart.renderer,s=this.legendGroup,h=t.baseline-Math.round(.3*t.fontMetrics.b),l={};l={"stroke-width":i.lineWidth||0},i.dashStyle&&(l.dashstyle=i.dashStyle),this.legendLine=o.path(["M",0,h,"L",a,h]).addClass("highcharts-graph").attr(l).add(s),r&&r.enabled!==!1&&(e=0===this.symbol.indexOf("url")?0:r.radius,this.legendSymbol=n=o.symbol(this.symbol,a/2-e,h-e,2*e,2*e,r).addClass("highcharts-point").add(s),n.isMarker=!0)}},(/Trident\/7\.0/.test(p.navigator.userAgent)||h)&&g(e.prototype,"positionItem",function(t,e){var n=this,i=function(){e._legendItemPos&&t.call(n,e)};i(),setTimeout(i)})}(t),function(t){var e=t.addEvent,n=t.animate,i=t.animObject,r=t.attr,a=t.doc,o=t.Axis,s=t.createElement,h=t.defaultOptions,l=t.discardElement,u=t.charts,c=t.css,d=t.defined,f=t.each,p=t.error,g=t.extend,m=t.fireEvent,v=t.getStyle,y=t.grep,x=t.isNumber,b=t.isObject,M=t.isString,w=t.Legend,k=t.marginNames,S=t.merge,C=t.Pointer,A=t.pick,P=t.pInt,T=t.removeEvent,_=t.seriesTypes,L=t.splat,D=t.svg,E=t.syncTimeout,z=t.win,I=t.Renderer,O=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,n){return new O(t,e,n)},O.prototype={callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(M(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(n,i){var r,a=n.series;n.series=null,r=S(h,n),r.series=n.series=a,this.userOptions=n,this.respRules=[];var o=r.chart,s=o.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.hasCartesianSeries=o.showAxes;var l,c=this;if(c.index=u.length,u.push(c),t.chartCount++,s)for(l in s)e(c,l,s[l]);c.xAxis=[],c.yAxis=[],c.pointCount=c.colorCounter=c.symbolCounter=0,c.firstRender()},initSeries:function(t){var e,n=this,i=n.options.chart,r=t.type||i.type||i.defaultSeriesType,a=_[r];return a||p(17,!0),e=new a,e.init(this,t),e},isInsidePlot:function(t,e,n){var i=n?e:t,r=n?t:e;return i>=0&&i<=this.plotWidth&&r>=0&&r<=this.plotHeight},redraw:function(e){var n,i,r,a=this,o=a.axes,s=a.series,h=a.pointer,l=a.legend,u=a.isDirtyLegend,c=a.hasCartesianSeries,d=a.isDirtyBox,p=s.length,v=p,y=a.renderer,x=y.isHidden(),b=[];for(t.setAnimation(e,a),x&&a.cloneRenderTo(),a.layOutTitles();v--;)if(r=s[v],r.options.stacking&&(n=!0,r.isDirty)){i=!0;break}if(i)for(v=p;v--;)r=s[v],r.options.stacking&&(r.isDirty=!0);f(s,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),u=!0),t.isDirtyData&&m(t,"updatedData")}),u&&l.options.enabled&&(l.render(),a.isDirtyLegend=!1),n&&a.getStacks(),c&&f(o,function(t){t.updateNames(),t.setScale()}),a.getMargins(),c&&(f(o,function(t){t.isDirty&&(d=!0)}),f(o,function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,b.push(function(){m(t,"afterSetExtremes",g(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(d||n)&&t.redraw()})),d&&a.drawChartBox(),f(s,function(t){(d||t.isDirty)&&t.visible&&t.redraw()}),h&&h.reset(!0),y.draw(),m(a,"redraw"),x&&a.cloneRenderTo(!0),f(b,function(t){t.call()})},get:function(t){var e,n,i,r=this,a=r.axes,o=r.series;for(e=0;e<a.length;e++)if(a[e].options.id===t)return a[e];for(e=0;e<o.length;e++)if(o[e].options.id===t)return o[e];for(e=0;e<o.length;e++)for(i=o[e].points||[],n=0;n<i.length;n++)if(i[n].id===t)return i[n];return null},getAxes:function(){var t,e=this,n=this.options,i=n.xAxis=L(n.xAxis||{}),r=n.yAxis=L(n.yAxis||{});f(i,function(t,e){t.index=e,t.isX=!0}),f(r,function(t,e){t.index=e}),t=i.concat(r),f(t,function(t){new o(e,t)})},getSelectedPoints:function(){var t=[];return f(this.series,function(e){t=t.concat(y(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return y(this.series,function(t){return t.selected})},setTitle:function(t,e,n){var i,r,a=this,o=a.options;i=o.title=S(o.title,t),r=o.subtitle=S(o.subtitle,e),f([["title",t,i],["subtitle",e,r]],function(t,e){var n=t[0],i=a[n],r=t[1],o=t[2];i&&r&&(a[n]=i=i.destroy()),o&&o.text&&!i&&(a[n]=a.renderer.text(o.text,0,0,o.useHTML).attr({align:o.align,"class":"highcharts-"+n,zIndex:o.zIndex||4}).add(),a[n].update=function(t){a.setTitle(!e&&t,e&&t)
},a[n].css(o.style))}),a.layOutTitles(n)},layOutTitles:function(t){var e,n=0,i=this.renderer,r=this.spacingBox;f(["title","subtitle"],function(t){var e,a=this[t],o=this.options[t];a&&(e=o.style.fontSize,e=i.fontMetrics(e,a).b,a.css({width:(o.width||r.width+o.widthAdjust)+"px"}).align(g({y:n+e+("title"===t?-3:2)},o),!1,"spacingBox"),o.floating||o.verticalAlign||(n=Math.ceil(n+a.getBBox().height)))},this),e=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&e&&(this.isDirtyBox=e,this.hasRendered&&A(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this,e=t.options.chart,n=e.width,i=e.height,r=t.renderToClone||t.renderTo;d(n)||(t.containerWidth=v(r,"width")),d(i)||(t.containerHeight=v(r,"height")),t.chartWidth=Math.max(0,n||t.containerWidth||600),t.chartHeight=Math.max(0,A(i,t.containerHeight>19?t.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,n=this.container;if(t){if(e){for(;e.childNodes.length;)this.renderTo.appendChild(e.firstChild);l(e),delete this.renderToClone}}else n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=e=this.renderTo.cloneNode(0),c(e,{position:"absolute",top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),a.body.appendChild(e),n&&e.appendChild(n)},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,n,i,o,h,l,c=this,d=c.options,f=d.chart,m=c.renderTo,v="data-highcharts-chart",y=t.uniqueKey();m||(c.renderTo=m=f.renderTo),M(m)&&(c.renderTo=m=a.getElementById(m)),m||p(13,!0),o=P(r(m,v)),x(o)&&u[o]&&u[o].hasRendered&&u[o].destroy(),r(m,v,c.index),m.innerHTML="",f.skipClone||m.offsetWidth||c.cloneRenderTo(),c.getChartSize(),n=c.chartWidth,i=c.chartHeight,l=g({position:"relative",overflow:"hidden",width:n+"px",height:i+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},f.style),c.container=e=s("div",{id:y},l,c.renderToClone||m),c._cursor=e.style.cursor,h=t[f.renderer]||I,c.renderer=new h(e,n,i,null,f.forExport,d.exporting&&d.exporting.allowHTML),c.setClassName(f.className),c.renderer.setStyle(f.style),c.renderer.chartIndex=c.index},getMargins:function(t){var e=this,n=e.spacing,i=e.margin,r=e.titleOffset;e.resetMargins(),r&&!d(i[0])&&(e.plotTop=Math.max(e.plotTop,r+e.options.title.margin+n[0])),e.legend.display&&e.legend.adjustMargins(i,n),e.extraBottomMargin&&(e.marginBottom+=e.extraBottomMargin),e.extraTopMargin&&(e.plotTop+=e.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],n=t.margin;t.hasCartesianSeries&&f(t.axes,function(t){t.visible&&t.getOffset()}),f(k,function(i,r){d(n[r])||(t[i]+=e[r])}),t.setChartSize()},reflow:function(t){var e=this,n=e.options.chart,i=e.renderTo,r=d(n.width),o=n.width||v(i,"width"),s=n.height||v(i,"height"),h=t?t.target:z;r||e.isPrinting||!o||!s||h!==z&&h!==a||((o!==e.containerWidth||s!==e.containerHeight)&&(clearTimeout(e.reflowTimeout),e.reflowTimeout=E(function(){e.container&&e.setSize(void 0,void 0,!1)},t?100:0)),e.containerWidth=o,e.containerHeight=s)},initReflow:function(){var t,n=this;t=e(z,"resize",function(t){n.reflow(t)}),e(n,"destroy",t)},setSize:function(e,r,a){var o,s=this,h=s.renderer;s.isResizing+=1,t.setAnimation(a,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,void 0!==e&&(s.options.chart.width=e),void 0!==r&&(s.options.chart.height=r),s.getChartSize(),o=h.globalAnimation,(o?n:c)(s.container,{width:s.chartWidth+"px",height:s.chartHeight+"px"},o),s.setChartSize(!0),h.setSize(s.chartWidth,s.chartHeight,a),f(s.axes,function(t){t.isDirty=!0,t.setScale()}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.setResponsive&&s.setResponsive(!1),s.redraw(a),s.oldChartHeight=null,m(s,"resize"),E(function(){s&&m(s,"endResize",null,function(){s.isResizing-=1})},i(o).duration)},setChartSize:function(t){var e,n,i,r,a,o,s,h=this,l=h.inverted,u=h.renderer,c=h.chartWidth,d=h.chartHeight,p=h.options.chart,g=h.spacing,m=h.clipOffset;h.plotLeft=i=Math.round(h.plotLeft),h.plotTop=r=Math.round(h.plotTop),h.plotWidth=a=Math.max(0,Math.round(c-i-h.marginRight)),h.plotHeight=o=Math.max(0,Math.round(d-r-h.marginBottom)),h.plotSizeX=l?o:a,h.plotSizeY=l?a:o,h.plotBorderWidth=p.plotBorderWidth||0,h.spacingBox=u.spacingBox={x:g[3],y:g[0],width:c-g[3]-g[1],height:d-g[0]-g[2]},h.plotBox=u.plotBox={x:i,y:r,width:a,height:o},s=2*Math.floor(h.plotBorderWidth/2),e=Math.ceil(Math.max(s,m[3])/2),n=Math.ceil(Math.max(s,m[0])/2),h.clipBox={x:e,y:n,width:Math.floor(h.plotSizeX-Math.max(s,m[1])/2-e),height:Math.max(0,Math.floor(h.plotSizeY-Math.max(s,m[2])/2-n))},t||f(h.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this,e=t.options.chart;f(["margin","spacing"],function(n){var i=e[n],r=b(i)?i:[i,i,i,i];f(["Top","Right","Bottom","Left"],function(i,a){t[n][a]=A(e[n+i],r[a])})}),f(k,function(e,n){t[e]=A(t.margin[n],t.spacing[n])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,n,i=this,r=i.options.chart,a=i.renderer,o=i.chartWidth,s=i.chartHeight,h=i.chartBackground,l=i.plotBackground,u=i.plotBorder,c=i.plotBGImage,d=r.backgroundColor,f=r.plotBackgroundColor,p=r.plotBackgroundImage,g=i.plotLeft,m=i.plotTop,v=i.plotWidth,y=i.plotHeight,x=i.plotBox,b=i.clipRect,M=i.clipBox,w="animate";h||(i.chartBackground=h=a.rect().addClass("highcharts-background").add(),w="attr"),t=r.borderWidth||0,e=t+(r.shadow?8:0),n={fill:d||"none"},(t||h["stroke-width"])&&(n.stroke=r.borderColor,n["stroke-width"]=t),h.attr(n).shadow(r.shadow),h[w]({x:e/2,y:e/2,width:o-e-t%2,height:s-e-t%2,r:r.borderRadius}),w="animate",l||(w="attr",i.plotBackground=l=a.rect().addClass("highcharts-plot-background").add()),l[w](x),l.attr({fill:f||"none"}).shadow(r.plotShadow),p&&(c?c.animate(x):i.plotBGImage=a.image(p,g,m,v,y).add()),b?b.animate({width:M.width,height:M.height}):i.clipRect=a.clipRect(M),w="animate",u||(w="attr",i.plotBorder=u=a.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),u.attr({stroke:r.plotBorderColor,"stroke-width":r.plotBorderWidth||0,fill:"none"}),u[w](u.crisp({x:g,y:m,width:v,height:y},-u.strokeWidth())),i.isDirtyBox=!1},propFromSeries:function(){var t,e,n,i=this,r=i.options.chart,a=i.options.series;f(["inverted","angular","polar"],function(o){for(t=_[r.type||r.defaultSeriesType],n=r[o]||t&&t.prototype[o],e=a&&a.length;!n&&e--;)t=_[a[e].type],t&&t.prototype[o]&&(n=!0);i[o]=n})},linkSeries:function(){var t=this,e=t.series;f(e,function(t){t.linkedSeries.length=0}),f(e,function(e){var n=e.options.linkedTo;M(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n),n&&n.linkedParent!==e&&(n.linkedSeries.push(e),e.linkedParent=n,e.visible=A(e.options.visible,n.options.visible,e.visible)))})},renderSeries:function(){f(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&f(e.items,function(n){var i=g(e.style,n.style),r=P(i.left)+t.plotLeft,a=P(i.top)+t.plotTop+12;delete i.left,delete i.top,t.renderer.text(n.html,r,a).attr({zIndex:2}).css(i).add()})},render:function(){var t,e,n,i,r=this,a=r.axes,o=r.renderer,s=r.options;r.setTitle(),r.legend=new w(r,s.legend),r.getStacks&&r.getStacks(),r.getMargins(!0),r.setChartSize(),t=r.plotWidth,e=r.plotHeight=r.plotHeight-21,f(a,function(t){t.setScale()}),r.getAxisMargins(),n=t/r.plotWidth>1.1,i=e/r.plotHeight>1.05,(n||i)&&(f(a,function(t){(t.horiz&&n||!t.horiz&&i)&&t.setTickInterval(!0)}),r.getMargins()),r.drawChartBox(),r.hasCartesianSeries&&f(a,function(t){t.visible&&t.render()}),r.seriesGroup||(r.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),r.renderSeries(),r.renderLabels(),r.addCredits(),r.setResponsive&&r.setResponsive(),r.hasRendered=!0},addCredits:function(t){var e=this;t=S(!0,this.options.credits,t),t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(z.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,n=this,i=n.axes,r=n.series,a=n.container,o=a&&a.parentNode;for(m(n,"destroy"),u[n.index]=void 0,t.chartCount--,n.renderTo.removeAttribute("data-highcharts-chart"),T(n),e=i.length;e--;)i[e]=i[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=r.length;e--;)r[e]=r[e].destroy();f(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var e=n[t];e&&e.destroy&&(n[t]=e.destroy())}),a&&(a.innerHTML="",T(a),o&&l(a));for(e in n)delete n[e]},isReadyToRender:function(){var t=this;return D||z!=z.top||"complete"===a.readyState?!0:(a.attachEvent("onreadystatechange",function(){a.detachEvent("onreadystatechange",t.firstRender),"complete"===a.readyState&&t.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options;t.isReadyToRender()&&(t.getContainer(),m(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),f(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),m(t,"beforeRender"),C&&(t.pointer=new C(t,e)),t.render(),t.renderer.draw(),!t.renderer.imgCount&&t.onload&&t.onload(),t.cloneRenderTo(!0))},onload:function(){f([this.callback].concat(this.callbacks),function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),m(this,"load"),this.options.chart.reflow!==!1&&this.initReflow(),this.onload=null}}}(t),function(t){var e,n=t.each,i=t.extend,r=t.erase,a=t.fireEvent,o=t.format,s=t.isArray,h=t.isNumber,l=t.pick,u=t.removeEvent;e=t.Point=function(){},e.prototype={init:function(t,e,n){var i,r,a=this,o=t.chart.options.chart.colorCount;return a.series=t,a.color=t.color,a.applyOptions(e,n),t.options.colorByPoint?(i=t.options.colors||t.chart.options.colors,a.color=a.color||i[t.colorCounter],o=i.length,r=t.colorCounter,t.colorCounter++,t.colorCounter===o&&(t.colorCounter=0)):r=t.colorIndex,a.colorIndex=l(a.colorIndex,r),t.chart.pointCount++,a},applyOptions:function(t,n){var r=this,a=r.series,o=a.options.pointValKey||a.pointValKey;return t=e.prototype.optionsToObject.call(this,t),i(r,t),r.options=r.options?i(r.options,t):t,t.group&&delete r.group,o&&(r.y=r[o]),r.isNull=l(r.isValid&&!r.isValid(),null===r.x||!h(r.y,!0)),r.selected&&(r.state="select"),"name"in r&&void 0===n&&a.xAxis&&a.xAxis.hasNames&&(r.x=a.xAxis.nameToX(r)),void 0===r.x&&a&&(r.x=void 0===n?a.autoIncrement(r):n),r},optionsToObject:function(t){var e,n={},i=this.series,r=i.options.keys,a=r||i.pointArrayMap||["y"],o=a.length,l=0,u=0;if(h(t)||null===t)n[a[0]]=t;else if(s(t))for(!r&&t.length>o&&(e=typeof t[0],"string"===e?n.name=t[0]:"number"===e&&(n.x=t[0]),l++);o>u;)r&&void 0===t[l]||(n[a[u]]=t[l]),l++,u++;else"object"==typeof t&&(n=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return n},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")},getZone:function(){var t,e=this.series,n=e.zones,i=e.zoneAxis||"y",r=0;for(t=n[r];this[i]>=t.value;)t=n[++r];return t&&t.color&&!this.options.color&&(this.color=t.color),t},destroy:function(){var t,e=this,n=e.series,i=n.chart,a=i.hoverPoints;i.pointCount--,a&&(e.setState(),r(a,e),a.length||(i.hoverPoints=null)),e===i.hoverPoint&&e.onMouseOut(),(e.graphic||e.dataLabel||e.dataLabel2)&&(u(e),e.destroyElements()),e.legendItem&&i.legend.destroyItem(e);for(t in e)e[t]=null},destroyElements:function(){for(var t,e=this,n=["graphic","dataLabel","dataLabel2","dataLabelUpper","connector","shadowGroup"],i=6;i--;)t=n[i],e[t]&&(e[t]=e[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,r=l(i.valueDecimals,""),a=i.valuePrefix||"",s=i.valueSuffix||"";return n(e.pointArrayMap||["y"],function(e){e="{point."+e,(a||s)&&(t=t.replace(e+"}",a+e+"}"+s)),t=t.replace(e+"}",e+":,."+r+"f}")}),o(t,{point:this,series:this.series})},firePointEvent:function(t,e,n){var i=this,r=this.series,o=r.options;(o.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&this.importEvents(),"click"===t&&o.allowPointSelect&&(n=function(t){i.select&&i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),a(this,t,e,n)},visible:!0}}(t),function(t){var e=t.addEvent,n=t.animObject,i=t.arrayMax,r=t.arrayMin,a=t.correctFloat,o=t.Date,s=t.defaultOptions,h=t.defaultPlotOptions,l=t.defined,u=t.each,c=t.erase,d=t.error,f=t.extend,p=t.fireEvent,g=t.grep,m=t.isArray,v=t.isNumber,y=t.isString,x=t.LegendSymbolMixin,b=t.merge,M=t.pick,w=t.Point,k=t.removeEvent,S=t.splat,C=t.stableSort,A=t.SVGElement,P=t.syncTimeout,T=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3},{isCartesian:!0,pointClass:w,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,n){var i,r,a,o=this,s=t.series,h=function(t,e){return M(t.options.index,t._i)-M(e.options.index,e._i)};o.chart=t,o.options=n=o.setOptions(n),o.linkedSeries=[],o.bindAxes(),f(o,{name:n.name,state:"",visible:n.visible!==!1,selected:n.selected===!0}),r=n.events;for(i in r)e(o,i,r[i]);(r&&r.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),u(o.parallelArrays,function(t){o[t+"Data"]=[]}),o.setData(n.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),s.length&&(a=s[s.length-1]),o._i=M(a&&a._i,-1)+1,s.push(o),C(s,h),this.yAxis&&C(this.yAxis.series,h),u(s,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,n=e.options,i=e.chart;u(e.axisTypes||[],function(r){u(i[r],function(i){t=i.options,(n[r]===t.index||void 0!==n[r]&&n[r]===t.id||void 0===n[r]&&0===t.index)&&(i.series.push(e),e[r]=i,i.isDirty=!0)}),e[r]||e.optionalAxis===r||d(18,!0)})},updateParallelArrays:function(t,e){var n=t.series,i=arguments,r=v(e)?function(i){var r="y"===i&&n.toYData?n.toYData(t):t[i];n[i+"Data"][e]=r}:function(t){Array.prototype[e].apply(n[t+"Data"],Array.prototype.slice.call(i,2))};u(n.parallelArrays,r)},autoIncrement:function(){var t,e,n=this.options,i=this.xIncrement,r=n.pointIntervalUnit;return i=M(i,n.pointStart,0),this.pointInterval=e=M(this.pointInterval,n.pointInterval,1),r&&(t=new o(i),"day"===r?t=+t[o.hcSetDate](t[o.hcGetDate]()+e):"month"===r?t=+t[o.hcSetMonth](t[o.hcGetMonth]()+e):"year"===r&&(t=+t[o.hcSetFullYear](t[o.hcGetFullYear]()+e)),e=t-i),this.xIncrement=i+e,i},setOptions:function(t){var e,n,i=this.chart,r=i.options,a=r.plotOptions,o=i.userOptions||{},h=o.plotOptions||{},u=a[this.type];return this.userOptions=t,e=b(u,a.series,t),this.tooltipOptions=b(s.tooltip,s.plotOptions[this.type].tooltip,o.tooltip,h.series&&h.series.tooltip,h[this.type]&&h[this.type].tooltip,t.tooltip),null===u.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,n=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||n.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,className:"highcharts-negative",color:e.negativeColor,fillColor:e.negativeFillColor}),n.length&&l(n[n.length-1].value)&&n.push({color:this.color,fillColor:this.fillColor}),e},getCyclic:function(t,e,n){var i,r,a=this.userOptions,o=t+"Index",s=t+"Counter",h=n?n.length:M(this.chart.options.chart[t+"Count"],this.chart[t+"Count"]);e||(r=M(a[o],a["_"+o]),l(r)?i=r:(a["_"+o]=i=this.chart[s]%h,this.chart[s]+=1),n&&(e=n[i])),void 0!==i&&(this[o]=i),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||h[this.type].color,this.chart.options.colors)},getSymbol:function(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols)},drawLegendSymbol:x.drawLineMarker,setData:function(t,e,n,i){var r,a,o,s=this,h=s.points,l=h&&h.length||0,c=s.options,f=s.chart,p=null,g=s.xAxis,x=c.turboThreshold,b=this.xData,w=this.yData,k=s.pointArrayMap,S=k&&k.length;if(t=t||[],r=t.length,e=M(e,!0),i!==!1&&r&&l===r&&!s.cropped&&!s.hasGroupedData&&s.visible)u(t,function(t,e){h[e].update&&t!==c.data[e]&&h[e].update(t,!1,null,!1)});else{s.xIncrement=null,s.colorCounter=0,u(this.parallelArrays,function(t){s[t+"Data"].length=0});var C="treemap"===this.userOptions.type;if(x&&r>x&&!C){for(a=0;null===p&&r>a;)p=t[a],a++;if(v(p))for(a=0;r>a;a++)b[a]=this.autoIncrement(),w[a]=t[a];else if(m(p))if(S)for(a=0;r>a;a++)o=t[a],b[a]=o[0],w[a]=o.slice(1,S+1);else for(a=0;r>a;a++)o=t[a],b[a]=o[0],w[a]=o[1];else d(12)}else for(a=0;r>a;a++)void 0!==t[a]&&(o={series:s},s.pointClass.prototype.applyOptions.apply(o,[t[a]]),s.updateParallelArrays(o,a));for(y(w[0])&&d(14,!0),s.data=[],s.options.data=s.userOptions.data=t,a=l;a--;)h[a]&&h[a].destroy&&h[a].destroy();g&&(g.minRange=g.userMinRange),s.isDirty=f.isDirtyBox=!0,s.isDirtyData=!!h,n=!1}"point"===c.legendType&&(this.processData(),this.generatePoints()),e&&f.redraw(n)},processData:function(t){var e,n,i,r,a,o,s,h,l=this,u=l.xData,c=l.yData,f=u.length,p=0,g=l.xAxis,m=l.options,v=m.cropThreshold,y=l.getExtremesFromAll||m.getExtremesFromAll,x=l.isCartesian,b=g&&g.val2lin,M=g&&g.isLog;if(x&&!l.isDirty&&!g.isDirty&&!l.yAxis.isDirty&&!t)return!1;for(g&&(o=g.getExtremes(),s=o.min,h=o.max),null===s&&null===h&&(x=!1),x&&l.sorted&&!y&&(!v||f>v||l.forceCrop)&&(u[f-1]<s||u[0]>h?(u=[],c=[]):(u[0]<s||u[f-1]>h)&&(e=this.cropData(l.xData,l.yData,s,h),u=e.xData,c=e.yData,p=e.start,n=!0)),a=u.length||1;--a;)i=M?b(u[a])-b(u[a-1]):u[a]-u[a-1],i>0&&(void 0===r||r>i)?r=i:0>i&&l.requireSorting&&d(15);l.cropped=n,l.cropStart=p,l.processedXData=u,l.processedYData=c,l.closestPointRange=r},cropData:function(t,e,n,i){var r,a,o=t.length,s=0,h=o,l=M(this.cropShoulder,1);for(r=0;o>r;r++)if(t[r]>=n){s=Math.max(0,r-l);break}for(a=r;o>a;a++)if(t[a]>i){h=a+l;break}return{xData:t.slice(s,h),yData:e.slice(s,h),start:s,end:h}},generatePoints:function(){var t,e,n,i,r=this,a=r.options,o=a.data,s=r.data,h=r.processedXData,l=r.processedYData,u=r.pointClass,c=h.length,d=r.cropStart||0,f=r.hasGroupedData,p=[];if(!s&&!f){var g=[];g.length=o.length,s=r.data=g}for(i=0;c>i;i++)e=d+i,f?(n=(new u).init(r,[h[i]].concat(S(l[i]))),n.dataGroup=r.groupMap[i]):(n=s[e],n||void 0===o[e]||(s[e]=n=(new u).init(r,o[e],h[i]))),n.index=e,p[i]=n;if(s&&(c!==(t=s.length)||f))for(i=0;t>i;i++)i!==d||f||(i+=c),s[i]&&(s[i].destroyElements(),s[i].plotX=void 0);r.data=s,r.points=p},getExtremes:function(t){var e,n,a,o,s,h,l,u=this.xAxis,c=this.yAxis,d=this.processedXData,f=[],p=0,g=u.getExtremes(),y=g.min,x=g.max;for(t=t||this.stackedYData||this.processedYData||[],e=t.length,h=0;e>h;h++)if(o=d[h],s=t[h],n=(v(s,!0)||m(s))&&(!c.isLog||s.length||s>0),a=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(d[h+1]||o)>=y&&(d[h-1]||o)<=x,n&&a)if(l=s.length)for(;l--;)null!==s[l]&&(f[p++]=s[l]);else f[p++]=s;this.dataMin=r(f),this.dataMax=i(f)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,n,i,r,o=this,s=o.options,h=s.stacking,u=o.xAxis,c=u.categories,d=o.yAxis,f=o.points,p=f.length,g=!!o.modifyValue,m=s.pointPlacement,y="between"===m||v(m),x=s.threshold,b=s.startFromThreshold?x:0,w=Number.MAX_VALUE;for("between"===m&&(m=.5),v(m)&&(m*=M(s.pointRange||u.pointRange)),t=0;p>t;t++){var k,S,C=f[t],A=C.x,P=C.y,T=C.low,_=h&&d.stacks[(o.negStacks&&(b?0:x)>P?"-":"")+o.stackKey];d.isLog&&null!==P&&0>=P&&(C.isNull=!0),C.plotX=e=a(Math.min(Math.max(-1e5,u.translate(A,0,0,0,1,m,"flags"===this.type)),1e5)),h&&o.visible&&!C.isNull&&_&&_[A]&&(r=o.getStackIndicator(r,A,o.index),k=_[A],S=k.points[r.key],T=S[0],P=S[1],T===b&&r.key===_[A].base&&(T=M(x,d.min)),d.isLog&&0>=T&&(T=null),C.total=C.stackTotal=k.total,C.percentage=k.total&&C.y/k.total*100,C.stackY=P,k.setOffset(o.pointXOffset||0,o.barW||0)),C.yBottom=l(T)?d.translate(T,0,1,0,1):null,g&&(P=o.modifyValue(P,C)),C.plotY=n="number"==typeof P&&1/0!==P?Math.min(Math.max(-1e5,d.translate(P,0,1,0,1)),1e5):void 0,C.isInside=void 0!==n&&n>=0&&n<=d.len&&e>=0&&e<=u.len,C.clientX=y?a(u.translate(A,0,0,0,1,m)):e,C.negative=C.y<(x||0),C.category=c&&void 0!==c[C.x]?c[C.x]:C.x,C.isNull||(void 0!==i&&(w=Math.min(w,Math.abs(e-i))),i=e)}o.closestPointRangePx=w},getValidPoints:function(t,e){var n=this.chart;return g(t||this.points||[],function(t){return e&&!n.isInsidePlot(t.plotX,t.plotY,n.inverted)?!1:!t.isNull})},setClip:function(t){var e=this.chart,n=this.options,i=e.renderer,r=e.inverted,a=this.clipBox,o=a||e.clipBox,s=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,o.height,n.xAxis,n.yAxis].join(","),h=e[s],l=e[s+"m"];h||(t&&(o.width=0,e[s+"m"]=l=i.clipRect(-99,r?-e.plotLeft:-e.plotTop,99,r?e.chartWidth:e.chartHeight)),e[s]=h=i.clipRect(o),h.count={length:0}),t&&(h.count[this.index]||(h.count[this.index]=!0,h.count.length+=1)),n.clip!==!1&&(this.group.clip(t||a?h:e.clipRect),this.markerGroup.clip(l),this.sharedClipKey=s),t||(h.count[this.index]&&(delete h.count[this.index],h.count.length-=1),0===h.count.length&&s&&e[s]&&(a||(e[s]=e[s].destroy()),e[s+"m"]&&(e[s+"m"]=e[s+"m"].destroy())))},animate:function(t){var e,i,r=this,a=r.chart,o=n(r.options.animation);t?r.setClip(o):(i=this.sharedClipKey,e=a[i],e&&e.animate({width:a.plotSizeX},o),a[i+"m"]&&a[i+"m"].animate({width:a.plotSizeX+99},o),r.animate=null)},afterAnimate:function(){this.setClip(),p(this,"afterAnimate")},drawPoints:function(){var t,e,n,i,r,a,o,s,h,l,u=this,c=u.points,d=u.chart,f=u.options,p=f.marker,g=u.markerGroup,m=u.xAxis,y=M(p.enabled,m.isRadial?!0:null,u.closestPointRangePx>2*p.radius);if(p.enabled!==!1||u._hasPointMarkers)for(e=c.length;e--;)n=c[e],t=n.plotY,r=n.graphic,a=n.marker||{},o=!!n.marker,s=y&&void 0===a.enabled||a.enabled,h=n.isInside,s&&v(t)&&null!==n.y?(i=M(a.symbol,u.symbol),n.hasImage=0===i.indexOf("url"),l=u.markerAttribs(n,n.selected&&"select"),r?r[h?"show":"hide"](!0).animate(l):h&&(l.width>0||n.hasImage)&&(n.graphic=r=d.renderer.symbol(i,l.x,l.y,l.width,l.height,o?a:p).add(g)),r&&r.attr(u.pointAttribs(n,n.selected&&"select")),r&&r.addClass(n.getClassName(),!0)):r&&(n.graphic=r.destroy())},markerAttribs:function(t,e){var n,i,r,a=this.options.marker,o=t&&t.options,s=o&&o.marker||{},h=M(s.radius,a.radius);return e&&(n=a.states[e],i=s.states&&s.states[e],h=M(i&&i.radius,n&&n.radius,h+(n&&n.radiusPlus||0))),t.hasImage&&(h=0),r={x:Math.floor(t.plotX)-h,y:t.plotY-h},h&&(r.width=r.height=2*h),r},pointAttribs:function(t,e){var n,i,r,a,o,s,h=this.options.marker,l=t&&t.options,u=l&&l.marker||{},c=this.color,d=l&&l.color,f=t&&t.color,p=M(u.lineWidth,h.lineWidth);return t&&this.zones.length&&(s=t.getZone(),s&&s.color&&(r=s.color)),c=d||r||f||c,a=u.fillColor||h.fillColor||c,o=u.lineColor||h.lineColor||c,e&&(n=h.states[e],i=u.states&&u.states[e]||{},p=M(i.lineWidth,n.lineWidth,p+M(i.lineWidthPlus,n.lineWidthPlus,0)),a=i.fillColor||n.fillColor||a,o=i.lineColor||n.lineColor||o),{stroke:o,"stroke-width":p,fill:a}},destroy:function(){var t,e,n,i,r,a=this,o=a.chart,s=/AppleWebKit\/533/.test(T.navigator.userAgent),h=a.data||[];for(p(a,"destroy"),k(a),u(a.axisTypes||[],function(t){r=a[t],r&&r.series&&(c(r.series,a),r.isDirty=r.forceRedraw=!0)}),a.legendItem&&a.chart.legend.destroyItem(a),e=h.length;e--;)n=h[e],n&&n.destroy&&n.destroy();a.points=null,clearTimeout(a.animationTimeout);for(i in a)a[i]instanceof A&&!a[i].survive&&(t=s&&"group"===i?"hide":"destroy",a[i][t]());o.hoverSeries===a&&(o.hoverSeries=null),c(o.series,a);for(i in a)delete a[i]},getGraphPath:function(t,e,n){var i,r,a=this,o=a.options,s=o.step,h=[],c=[];return t=t||a.points,i=t.reversed,i&&t.reverse(),s={right:1,center:2}[s]||s&&3,s&&i&&(s=4-s),!o.connectNulls||e||n||(t=this.getValidPoints(t)),u(t,function(i,u){var d,f=i.plotX,p=i.plotY,g=t[u-1];(i.leftCliff||g&&g.rightCliff)&&!n&&(r=!0),i.isNull&&!l(e)&&u>0?r=!o.connectNulls:i.isNull&&!e?r=!0:(0===u||r?d=["M",i.plotX,i.plotY]:a.getPointSpline?d=a.getPointSpline(t,i,u):s?(d=1===s?["L",g.plotX,p]:2===s?["L",(g.plotX+f)/2,g.plotY,"L",(g.plotX+f)/2,p]:["L",f,g.plotY],d.push("L",f,p)):d=["L",f,p],c.push(i.x),s&&c.push(i.x),h.push.apply(h,d),r=!1)}),h.xMap=c,a.graphPath=h,h},drawGraph:function(){var t=this,e=this.options,n=(this.gappedPath||this.getGraphPath).call(this),i=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]];u(this.zones,function(n,r){i.push(["zone-graph-"+r,"highcharts-graph highcharts-zone-graph-"+r+" "+(n.className||""),n.color||t.color,n.dashStyle||e.dashStyle])}),u(i,function(i,r){var a,o=i[0],s=t[o];s?(s.endX=n.xMap,s.animate({d:n})):n.length&&(t[o]=t.chart.renderer.path(n).addClass(i[1]).attr({zIndex:1}).add(t.group),a={stroke:i[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},i[3]?a.dashstyle=i[3]:"square"!==e.linecap&&(a["stroke-linecap"]=a["stroke-linejoin"]="round"),s=t[o].attr(a).shadow(2>r&&e.shadow)),s&&(s.startX=n.xMap,s.isArea=n.isArea)})},applyZones:function(){var t,e,n,i,r,a,o,s,h,l=this,c=this.chart,d=c.renderer,f=this.zones,p=this.clips||[],g=this.graph,m=this.area,v=Math.max(c.chartWidth,c.chartHeight),y=this[(this.zoneAxis||"y")+"Axis"],x=c.inverted,b=!1;f.length&&(g||m)&&y&&void 0!==y.min&&(r=y.reversed,a=y.horiz,g&&g.hide(),m&&m.hide(),i=y.getExtremes(),u(f,function(u,f){t=r?a?c.plotWidth:0:a?0:y.toPixels(i.min),t=Math.min(Math.max(M(e,t),0),v),e=Math.min(Math.max(Math.round(y.toPixels(M(u.value,i.max),!0)),0),v),b&&(t=e=y.toPixels(i.max)),o=Math.abs(t-e),s=Math.min(t,e),h=Math.max(t,e),y.isXAxis?(n={x:x?h:s,y:0,width:o,height:v},a||(n.x=c.plotHeight-n.x)):(n={x:0,y:x?h:s,width:v,height:o},a&&(n.y=c.plotWidth-n.y)),x&&d.isVML&&(n=y.isXAxis?{x:0,y:r?s:h,height:n.width,width:c.chartWidth}:{x:n.y-c.plotLeft-c.spacingBox.x,y:0,width:n.height,height:c.chartHeight}),p[f]?p[f].animate(n):(p[f]=d.clipRect(n),g&&l["zone-graph-"+f].clip(p[f]),m&&l["zone-area-"+f].clip(p[f])),b=u.value>i.max}),this.clips=p)},invertGroups:function(t){function n(){var e={width:r.yAxis.len,height:r.xAxis.len};u(["group","markerGroup"],function(n){r[n]&&r[n].attr(e).invert(t)})}var i,r=this,a=r.chart;r.xAxis&&(i=e(a,"resize",n),e(r,"destroy",i),n(t),r.invertGroups=n)},plotGroup:function(t,e,n,i,r){var a=this[t],o=!a;return o&&(this[t]=a=this.chart.renderer.g(e).attr({zIndex:i||.1}).add(r),a.addClass("highcharts-series-"+this.index+" highcharts-"+this.type+"-series highcharts-color-"+this.colorIndex+" "+(this.options.className||""))),a.attr({visibility:n})[o?"attr":"animate"](this.getPlotBox()),a},getPlotBox:function(){var t=this.chart,e=this.xAxis,n=this.yAxis;return t.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,r=e.options,a=!!e.animate&&i.renderer.isSVG&&n(r.animation).duration,o=e.visible?"inherit":"hidden",s=r.zIndex,h=e.hasRendered,l=i.seriesGroup,u=i.inverted;t=e.plotGroup("group","series",o,s,l),e.markerGroup=e.plotGroup("markerGroup","markers",o,s,l),a&&e.animate(!0),t.inverted=e.isCartesian?u:!1,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),e.invertGroups(u),r.clip===!1||e.sharedClipKey||h||t.clip(i.clipRect),a&&e.animate(),h||(e.animationTimeout=P(function(){e.afterAnimate()},a)),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this,e=t.chart,n=t.isDirty||t.isDirtyData,i=t.group,r=t.xAxis,a=t.yAxis;i&&(e.inverted&&i.attr({width:e.plotWidth,height:e.plotHeight}),i.animate({translateX:M(r&&r.left,e.plotLeft),translateY:M(a&&a.top,e.plotTop)})),t.translate(),t.render(),n&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var n=this,i=n.xAxis,r=n.yAxis,a=n.chart.inverted;return this.searchKDTree({clientX:a?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:a?r.len-t.chartX+r.pos:t.chartY-r.pos},e)},buildKDTree:function(){function t(e,i,r){var a,o,s=e&&e.length;return s?(a=n.kdAxisArray[i%r],e.sort(function(t,e){return t[a]-e[a]}),o=Math.floor(s/2),{point:e[o],left:t(e.slice(0,o),i+1,r),right:t(e.slice(o+1),i+1,r)}):void 0}function e(){n.kdTree=t(n.getValidPoints(null,!n.directTouch),i,i)}var n=this,i=n.kdDimensions;delete n.kdTree,P(e,n.options.kdNow?0:1)},searchKDTree:function(t,e){function n(t,e){var n=l(t[a])&&l(e[a])?Math.pow(t[a]-e[a],2):null,i=l(t[o])&&l(e[o])?Math.pow(t[o]-e[o],2):null,r=(n||0)+(i||0);e.dist=l(r)?Math.sqrt(r):Number.MAX_VALUE,e.distX=l(n)?Math.sqrt(n):Number.MAX_VALUE}function i(t,e,a,o){var h,l,u,c,d,f=e.point,p=r.kdAxisArray[a%o],g=f;return n(t,f),h=t[p]-f[p],l=0>h?"left":"right",u=0>h?"right":"left",e[l]&&(c=i(t,e[l],a+1,o),g=c[s]<g[s]?c:f),e[u]&&Math.sqrt(h*h)<g[s]&&(d=i(t,e[u],a+1,o),g=d[s]<g[s]?d:g),g}var r=this,a=this.kdAxisArray[0],o=this.kdAxisArray[1],s=e?"distX":"dist";return this.kdTree||this.buildKDTree(),this.kdTree?i(t,this.kdTree,this.kdDimensions,this.kdDimensions):void 0}})}(t),function(t){function e(t,e,n,i,r){var a=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e,this.x=i,this.total=null,this.points={},this.stack=r,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:e.align||(a?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(a?"middle":n?"bottom":"top"),y:l(e.y,a?4:n?14:-6),x:l(e.x,a?n?-6:6:0)},this.textAlign=e.textAlign||(a?n?"right":"left":"center")}var n=t.Axis,i=t.Chart,r=t.correctFloat,a=t.defined,o=t.destroyObjectProperties,s=t.each,h=t.format,l=t.pick,u=t.Series;e.prototype={destroy:function(){o(this,this.axis)},render:function(t){var e=this.options,n=e.format,i=n?h(n,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var n,i=this,r=i.axis,a=r.chart,o=a.inverted,s=r.reversed,h=this.isNegative&&!s||!this.isNegative&&s,l=r.translate(r.usePercentage?100:this.total,0,0,0,1),u=r.translate(0),c=Math.abs(l-u),d=a.xAxis[0].translate(this.x)+t,f=a.plotHeight,p={x:o?h?l:l-c:d,y:o?f-d-e:h?f-l-c:f-l,width:o?c:e,height:o?e:c},g=this.label;g&&(g.align(this.alignOptions,null,p),n=g.alignAttr,g[this.options.crop===!1||a.isInsidePlot(n.x,n.y)?"show":"hide"](!0))}},i.prototype.getStacks=function(){var t=this;s(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),s(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+l(e.options.stack,""))})},n.prototype.buildStacks=function(){var t,e,n=this.series,i=l(this.options.reversedStacks,!0),r=n.length;if(!this.isXAxis){for(this.usePercentage=!1,e=r;e--;)n[i?e:r-e-1].setStackedPoints();for(e=r;e--;)t=n[i?e:r-e-1],t.setStackCliffs&&t.setStackCliffs();if(this.usePercentage)for(e=0;r>e;e++)n[e].setPercentStacks()}},n.prototype.renderStackTotals=function(){var t,e,n,i=this,r=i.chart,a=r.renderer,o=i.stacks,s=i.stackTotalGroup;
s||(i.stackTotalGroup=s=a.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),s.translate(r.plotLeft,r.plotTop);for(t in o){e=o[t];for(n in e)e[n].render(s)}},n.prototype.resetStacks=function(){var t,e,n=this.stacks;if(!this.isXAxis)for(t in n)for(e in n[t])n[t][e].touched<this.stacksTouched?(n[t][e].destroy(),delete n[t][e]):(n[t][e].total=null,n[t][e].cum=0)},n.prototype.cleanStacks=function(){var t,e,n;if(!this.isXAxis){this.oldStacks&&(t=this.stacks=this.oldStacks);for(e in t)for(n in t[e])t[e][n].cum=t[e][n].total}},u.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var t,n,i,o,s,h,u,c,d,f=this,p=f.processedXData,g=f.processedYData,m=[],v=g.length,y=f.options,x=y.threshold,b=y.startFromThreshold?x:0,M=y.stack,w=y.stacking,k=f.stackKey,S="-"+k,C=f.negStacks,A=f.yAxis,P=A.stacks,T=A.oldStacks;for(A.stacksTouched+=1,u=0;v>u;u++)c=p[u],d=g[u],t=f.getStackIndicator(t,c,f.index),h=t.key,n=C&&(b?0:x)>d,s=n?S:k,P[s]||(P[s]={}),P[s][c]||(T[s]&&T[s][c]?(P[s][c]=T[s][c],P[s][c].total=null):P[s][c]=new e(A,A.options.stackLabels,n,c,M)),i=P[s][c],null!==d&&(i.points[h]=i.points[f.index]=[l(i.cum,b)],a(i.cum)||(i.base=h),i.touched=A.stacksTouched,t.index>0&&f.singleStacks===!1&&(i.points[h][0]=i.points[f.index+","+c+",0"][0])),"percent"===w?(o=n?k:S,C&&P[o]&&P[o][c]?(o=P[o][c],i.total=o.total=Math.max(o.total,i.total)+Math.abs(d)||0):i.total=r(i.total+(Math.abs(d)||0))):i.total=r(i.total+(d||0)),i.cum=l(i.cum,b)+(d||0),null!==d&&(i.points[h].push(i.cum),m[u]=i.cum);"percent"===w&&(A.usePercentage=!0),this.stackedYData=m,A.oldStacks={}}},u.prototype.setPercentStacks=function(){var t,e=this,n=e.stackKey,i=e.yAxis.stacks,a=e.processedXData;s([n,"-"+n],function(n){for(var o,s,h,l,u=a.length;u--;)o=a[u],t=e.getStackIndicator(t,o,e.index,n),s=i[n]&&i[n][o],h=s&&s.points[t.key],h&&(l=s.total?100/s.total:0,h[0]=r(h[0]*l),h[1]=r(h[1]*l),e.stackedYData[u]=h[1])})},u.prototype.getStackIndicator=function(t,e,n,i){return!a(t)||t.x!==e||i&&t.key!==i?t={x:e,index:0,key:i}:t.index++,t.key=[n,e,t.index].join(","),t}}(t),function(t){var e=t.addEvent,n=t.animate,i=t.Axis,r=t.Chart,a=t.createElement,o=t.css,s=t.defined,h=t.each,l=t.erase,u=t.extend,c=t.fireEvent,d=t.inArray,f=t.isNumber,p=t.isObject,g=t.merge,m=t.pick,v=t.Point,y=t.Series,x=t.seriesTypes,b=t.setAnimation,M=t.splat;u(r.prototype,{addSeries:function(t,e,n){var i,r=this;return t&&(e=m(e,!0),c(r,"addSeries",{options:t},function(){i=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),e&&r.redraw(n)})),i},addAxis:function(t,e,n,r){var a=e?"xAxis":"yAxis",o=this.options,s=g(t,{index:this[a].length,isX:e});new i(this,s),o[a]=M(o[a]||{}),o[a].push(s),m(n,!0)&&this.redraw(r)},showLoading:function(t){var i=this,r=i.options,s=i.loadingDiv,h=r.loading,l=function(){s&&o(s,{left:i.plotLeft+"px",top:i.plotTop+"px",width:i.plotWidth+"px",height:i.plotHeight+"px"})};s||(i.loadingDiv=s=a("div",{className:"highcharts-loading highcharts-loading-hidden"},null,i.container),i.loadingSpan=a("span",{className:"highcharts-loading-inner"},null,s),e(i,"redraw",l)),s.className="highcharts-loading",i.loadingSpan.innerHTML=t||r.lang.loading,o(s,u(h.style,{zIndex:10})),o(i.loadingSpan,h.labelStyle),i.loadingShown||(o(s,{opacity:0,display:""}),n(s,{opacity:h.style.opacity||.5},{duration:h.showDuration||0})),i.loadingShown=!0,l()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",n(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){o(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions"],update:function(t,e){var n,i,r,a,o,l={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},u=t.chart;if(u){g(!0,this.options.chart,u),"className"in u&&this.setClassName(u.className),("inverted"in u||"polar"in u)&&(this.propFromSeries(),i=!0);for(n in u)u.hasOwnProperty(n)&&(-1!==d("chart."+n,this.propsRequireUpdateSeries)&&(r=!0),-1!==d(n,this.propsRequireDirtyBox)&&(this.isDirtyBox=!0));"style"in u&&this.renderer.setStyle(u.style)}for(n in t)this[n]&&"function"==typeof this[n].update?this[n].update(t[n],!1):"function"==typeof this[l[n]]&&this[l[n]](t[n]),"chart"!==n&&-1!==d(n,this.propsRequireUpdateSeries)&&(r=!0);t.colors&&(this.options.colors=t.colors),t.plotOptions&&g(!0,this.options.plotOptions,t.plotOptions),h(["xAxis","yAxis","series"],function(e){t[e]&&h(M(t[e]),function(t){var n=s(t.id)&&this.get(t.id)||this[e][0];n&&n.coll===e&&n.update(t,!1)},this)},this),i&&h(this.axes,function(t){t.update({},!1)}),r&&h(this.series,function(t){t.update({},!1)}),t.loading&&g(!0,this.options.loading,t.loading),a=u&&u.width,o=u&&u.height,f(a)&&a!==this.chartWidth||f(o)&&o!==this.chartHeight?this.setSize(a,o):m(e,!0)&&this.redraw()},setSubtitle:function(t){this.setTitle(void 0,t)}}),u(v.prototype,{update:function(t,e,n,i){function r(){o.applyOptions(t),null===o.y&&h&&(o.graphic=h.destroy()),p(t,!0)&&(h&&h.element&&t&&t.marker&&t.marker.symbol&&(o.graphic=h.destroy()),t&&t.dataLabels&&o.dataLabel&&(o.dataLabel=o.dataLabel.destroy()),t&&t.dataLabels&&o.dataLabel2&&(o.dataLabel2=o.dataLabel2.destroy())),a=o.index,s.updateParallelArrays(o,a),u.data[a]=p(u.data[a],!0)?o.options:t,s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(l.isDirtyBox=!0),"point"===u.legendType&&(l.isDirtyLegend=!0),e&&l.redraw(n)}var a,o=this,s=o.series,h=o.graphic,l=s.chart,u=s.options;e=m(e,!0),i===!1?r():o.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(d(this,this.series.data),t,e)}}),u(y.prototype,{addPoint:function(t,e,n,i){var r,a,o,s,h=this,l=h.options,u=h.data,c=h.chart,d=h.xAxis&&h.xAxis.names,f=l.data,p=h.xData;if(e=m(e,!0),r={series:h},h.pointClass.prototype.applyOptions.apply(r,[t]),s=r.x,o=p.length,h.requireSorting&&s<p[o-1])for(a=!0;o&&p[o-1]>s;)o--;h.updateParallelArrays(r,"splice",o,0,0),h.updateParallelArrays(r,o),d&&r.name&&(d[s]=r.name),f.splice(o,0,t),a&&(h.data.splice(o,0,null),h.processData()),"point"===l.legendType&&h.generatePoints(),n&&(u[0]&&u[0].remove?u[0].remove(!1):(u.shift(),h.updateParallelArrays(r,"shift"),f.shift())),h.isDirty=!0,h.isDirtyData=!0,e&&c.redraw(i)},removePoint:function(t,e,n){var i=this,r=i.data,a=r[t],o=i.points,s=i.chart,h=function(){o&&o.length===r.length&&o.splice(t,1),r.splice(t,1),i.options.data.splice(t,1),i.updateParallelArrays(a||{series:i},"splice",t,1),a&&a.destroy(),i.isDirty=!0,i.isDirtyData=!0,e&&s.redraw()};b(n,s),e=m(e,!0),a?a.firePointEvent("remove",null,h):h()},remove:function(t,e,n){function i(){r.destroy(),a.isDirtyLegend=a.isDirtyBox=!0,a.linkSeries(),m(t,!0)&&a.redraw(e)}var r=this,a=r.chart;n!==!1?c(r,"remove",null,i):i()},update:function(t,e){var n,i=this,r=this.chart,a=this.userOptions,o=this.type,s=t.type||a.type||r.options.chart.type,l=x[o].prototype,c=["group","markerGroup","dataLabelsGroup"];(s&&s!==o||void 0!==t.zIndex)&&(c.length=0),h(c,function(t){c[t]=i[t],delete i[t]}),t=g(a,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1,null,!1);for(n in l)this[n]=void 0;u(this,x[s||o].prototype),h(c,function(t){i[t]=c[t]}),this.init(r,t),r.linkSeries(),m(e,!0)&&r.redraw(!1)}}),u(i.prototype,{update:function(t,e){var n=this.chart;t=n.options[this.coll][this.options.index]=g(this.userOptions,t),this.destroy(!0),this.init(n,u(t,{events:void 0})),n.isDirtyBox=!0,m(e,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,i=this.series,r=i.length;r--;)i[r]&&i[r].remove(!1);l(e.axes,this),l(e[n],this),e.options[n].splice(this.options.index,1),h(e[n],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,m(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(t),function(t){var e=t.color,n=t.each,i=t.LegendSymbolMixin,r=t.map,a=t.pick,o=t.Series,s=t.seriesType;s("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(){var t,e,i,o=this,s=[],h=[],l=this.xAxis,u=this.yAxis,c=u.stacks[this.stackKey],d={},f=this.points,p=o.index,g=u.series,m=g.length,v=a(u.options.reversedStacks,!0)?1:-1;if(this.options.stacking){for(e=0;e<f.length;e++)d[f[e].x]=f[e];for(i in c)null!==c[i].total&&h.push(i);h.sort(function(t,e){return t-e}),t=r(g,function(){return this.visible}),n(h,function(i,r){var a,o,f=0;if(d[i]&&!d[i].isNull)s.push(d[i]),n([-1,1],function(n){var s=1===n?"rightNull":"leftNull",l=1===n?"rightCliff":"leftCliff",u=0,f=c[h[r+n]];if(f)for(e=p;e>=0&&m>e;)a=f.points[e],a||(e===p?d[i][s]=!0:t[e]&&(o=c[i].points[e],o&&(u-=o[1]-o[0]))),e+=v;d[i][l]=u});else{for(e=p;e>=0&&m>e;){if(a=c[i].points[e]){f=a[1];break}e+=v}f=u.toPixels(f,!0),s.push({isNull:!0,plotX:l.toPixels(i,!0),plotY:f,yBottom:f})}})}return s},getGraphPath:function(t){var e,n,i,r,s,h,l,u,c=o.prototype.getGraphPath,d=this.options,f=d.stacking,p=this.yAxis,g=[],m=[],v=this.index,y=p.stacks[this.stackKey],x=d.threshold,b=p.getThreshold(d.threshold),M=d.connectNulls||"percent"===f,w=function(e,n,i){var r,a,o=t[e],s=f&&y[o.x].points[v],l=o[i+"Null"]||0,u=o[i+"Cliff"]||0,c=!0;u||l?(r=(l?s[0]:s[1])+u,a=s[0]+u,c=!!l):!f&&t[n]&&t[n].isNull&&(r=a=x),void 0!==r&&(m.push({plotX:h,plotY:null===r?b:p.getThreshold(r),isNull:c}),g.push({plotX:h,plotY:null===a?b:p.getThreshold(a),doCurve:!1}))};for(t=t||this.points,f&&(t=this.getStackPoints()),r=0;r<t.length;r++)l=t[r].isNull,h=a(t[r].rectPlotX,t[r].plotX),u=a(t[r].yBottom,b),(!l||M)&&(M||w(r,r-1,"left"),l&&!f&&M||(m.push(t[r]),g.push({x:r,plotX:h,plotY:u})),M||w(r,r+1,"right"));return n=c.call(this,m,!0,!0),g.reversed=!0,i=c.call(this,g,!0,!0),i.length&&(i[0]="L"),s=n.concat(i),e=c.call(this,m,!1,M),s.xMap=n.xMap,this.areaPath=s,e},drawGraph:function(){this.areaPath=[],o.prototype.drawGraph.apply(this);var t=this,i=this.areaPath,r=this.options,s=this.zones,h=[["area","highcharts-area",this.color,r.fillColor]];n(s,function(e,n){h.push(["zone-area-"+n,"highcharts-area highcharts-zone-area-"+n+" "+e.className,e.color||t.color,e.fillColor||r.fillColor])}),n(h,function(n){var o=n[0],s=t[o];s?(s.endX=i.xMap,s.animate({d:i})):(s=t[o]=t.chart.renderer.path(i).addClass(n[1]).attr({fill:a(n[3],e(n[2]).setOpacity(a(r.fillOpacity,.75)).get()),zIndex:0}).add(t.group),s.isArea=!0),s.startX=i.xMap,s.shiftUnit=r.step?2:1})},drawLegendSymbol:i.drawRectangle})}(t),function(t){var e=t.pick,n=t.seriesType;n("spline","line",{},{getPointSpline:function(t,n,i){function r(t){return t&&!t.isNull&&t.doCurve!==!1}var a,o,s,h,l,u=1.5,c=u+1,d=n.plotX,f=n.plotY,p=t[i-1],g=t[i+1];if(r(p)&&r(g)){var m=p.plotX,v=p.plotY,y=g.plotX,x=g.plotY,b=0;a=(u*d+m)/c,o=(u*f+v)/c,s=(u*d+y)/c,h=(u*f+x)/c,s!==a&&(b=(h-o)*(s-d)/(s-a)+f-h),o+=b,h+=b,o>v&&o>f?(o=Math.max(v,f),h=2*f-o):v>o&&f>o&&(o=Math.min(v,f),h=2*f-o),h>x&&h>f?(h=Math.max(x,f),o=2*f-h):x>h&&f>h&&(h=Math.min(x,f),o=2*f-h),n.rightContX=s,n.rightContY=h}return l=["C",e(p.rightContX,p.plotX),e(p.rightContY,p.plotY),e(a,d),e(o,f),d,f],p.rightContX=p.rightContY=null,l}})}(t),function(t){var e=t.seriesTypes.area.prototype,n=t.defaultPlotOptions,i=t.LegendSymbolMixin,r=t.seriesType;r("areaspline","spline",n.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,setStackCliffs:e.setStackCliffs,drawGraph:e.drawGraph,drawLegendSymbol:i.drawRectangle})}(t),function(t){var e=t.animObject,n=t.color,i=t.each,r=t.extend,a=t.isNumber,o=t.LegendSymbolMixin,s=t.merge,h=t.noop,l=t.pick,u=t.Series,c=t.seriesType,d=t.svg;c("column","line",{borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1,shadow:!1},select:{color:"#cccccc",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){u.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&i(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,n=e.options,r=e.xAxis,a=e.yAxis,o=r.reversed,s={},h=0;n.grouping===!1?h=1:i(e.chart.series,function(n){var i,r=n.options,o=n.yAxis;n.type===e.type&&n.visible&&a.len===o.len&&a.pos===o.pos&&(r.stacking?(t=n.stackKey,void 0===s[t]&&(s[t]=h++),i=s[t]):r.grouping!==!1&&(i=h++),n.columnIndex=i)});var u=Math.min(Math.abs(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||r.tickInterval||1),r.len),c=u*n.groupPadding,d=u-2*c,f=d/h,p=Math.min(n.maxPointWidth||r.len,l(n.pointWidth,f*(1-2*n.pointPadding))),g=(f-p)/2,m=(e.columnIndex||0)+(o?1:0),v=g+(c+m*f-u/2)*(o?-1:1);return e.columnMetrics={width:p,offset:v},e.columnMetrics},crispCol:function(t,e,n,i){var r,a,o,s=this.chart,h=this.borderWidth,l=-(h%2?.5:0),u=h%2?.5:1;return s.inverted&&s.renderer.isVML&&(u+=1),r=Math.round(t+n)+l,t=Math.round(t)+l,n=r-t,a=Math.round(e+i)+u,o=Math.abs(e)<=.5&&a>.5,e=Math.round(e)+u,i=a-e,o&&i&&(e-=1,i+=1),{x:t,y:e,width:n,height:i}},translate:function(){var t=this,e=t.chart,n=t.options,r=t.dense=t.closestPointRange*t.xAxis.transA<2,a=t.borderWidth=l(n.borderWidth,r?0:1),o=t.yAxis,s=n.threshold,h=t.translatedThreshold=o.getThreshold(s),c=l(n.minPointLength,5),d=t.getColumnMetrics(),f=d.width,p=t.barW=Math.max(f,1+2*a),g=t.pointXOffset=d.offset;e.inverted&&(h-=.5),n.pointPadding&&(p=Math.ceil(p)),u.prototype.translate.apply(t),i(t.points,function(n){var i,r=l(n.yBottom,h),a=999+Math.abs(r),s=Math.min(Math.max(-a,n.plotY),o.len+a),u=n.plotX+g,d=p,m=Math.min(s,r),v=Math.max(s,r)-m;Math.abs(v)<c&&c&&(v=c,i=!o.reversed&&!n.negative||o.reversed&&n.negative,m=Math.abs(m-h)>c?r-c:h-(i?c:0)),n.barX=u,n.pointWidth=f,n.tooltipPos=e.inverted?[o.len+o.pos-e.plotLeft-s,t.xAxis.len-u-d/2,v]:[u+d/2,s+o.pos-e.plotTop,v],n.shapeType="rect",n.shapeArgs=t.crispCol.apply(t,n.isNull?[n.plotX,o.len/2,0,0]:[u,m,d,v])})},getSymbol:h,drawLegendSymbol:o.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var i,r,a,o,s=this.options,h=this.pointAttrToOptions||{},l=h.stroke||"borderColor",u=h["stroke-width"]||"borderWidth",c=t&&t.color||this.color,d=t[l]||s[l]||this.color||c,f=s.dashStyle;return t&&this.zones.length&&(a=t.getZone(),c=a&&a.color||t.options.color||this.color),e&&(i=s.states[e],o=i.brightness,c=i.color||void 0!==o&&n(c).brighten(i.brightness).get()||c,d=i[l]||d,f=i.dashStyle||f),r={fill:c,stroke:d,"stroke-width":t[u]||s[u]||this[u]||0},s.borderRadius&&(r.r=s.borderRadius),f&&(r.dashstyle=f),r},drawPoints:function(){var t,e=this,n=this.chart,r=e.options,o=n.renderer,h=r.animationLimit||250;i(e.points,function(i){var l=i.plotY,u=i.graphic;a(l)&&null!==i.y?(t=i.shapeArgs,u?u[n.pointCount<h?"animate":"attr"](s(t)):i.graphic=u=o[i.shapeType](t).attr({"class":i.getClassName()}).add(i.group||e.group),u.attr(e.pointAttribs(i,i.selected&&"select")).shadow(r.shadow,null,r.stacking&&!r.borderRadius)):u&&(i.graphic=u.destroy())})},animate:function(t){var n,i=this,a=this.yAxis,o=i.options,s=this.chart.inverted,h={};d&&(t?(h.scaleY=.001,n=Math.min(a.pos+a.len,Math.max(a.pos,a.toPixels(o.threshold))),s?h.translateX=n-a.len:h.translateY=n,i.group.attr(h)):(h[s?"translateX":"translateY"]=a.pos,i.group.animate(h,r(e(i.options.animation),{step:function(t,e){i.group.attr({scaleY:Math.max(.001,e.pos)})}})),i.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&i(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),u.prototype.remove.apply(t,arguments)}})}(t),function(t){var e=t.seriesType;e("bar","column",null,{inverted:!0})}(t),function(t){var e=t.Series,n=t.seriesType;n("scatter","line",{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(t),function(t){var e=t.pick,n=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,i,r,a=this.options,o=this.chart,s=2*(a.slicedOffset||0),h=o.plotWidth-2*s,l=o.plotHeight-2*s,u=a.center,c=[e(u[0],"50%"),e(u[1],"50%"),a.size||"100%",a.innerSize||0],d=Math.min(h,l);for(i=0;4>i;++i)r=c[i],t=2>i||2===i&&/%$/.test(r),c[i]=n(r,[h,l,d,c[2]][i])+(t?s:0);return c[3]>c[2]&&(c[3]=c[2]),c}}}(t),function(t){var e=t.addEvent,n=t.CenteredSeriesMixin,i=t.defined,r=t.each,a=t.extend,o=t.inArray,s=t.LegendSymbolMixin,h=t.noop,l=t.pick,u=t.Point,c=t.Series,d=t.seriesType,f=t.seriesTypes,p=t.setAnimation;d("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:f.column.prototype.pointAttribs,animate:function(t){var e=this,n=e.points,i=e.startAngleRad;t||(r(n,function(t){var n=t.graphic,r=t.shapeArgs;n&&(n.attr({r:t.startR||e.center[3]/2,start:i,end:i}),n.animate({r:r.r,start:r.start,end:r.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,n=0,i=this.points,r=i.length,a=this.options.ignoreHiddenPoint;for(t=0;r>t;t++)e=i[t],e.y<0&&(e.y=null),n+=a&&!e.visible?0:e.y;for(this.total=n,t=0;r>t;t++)e=i[t],e.percentage=n>0&&(e.visible||!a)?e.y/n*100:0,e.total=n},generatePoints:function(){c.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,n,i,r,a,o,s,h,u=this,c=0,d=1e3,f=u.options,p=f.slicedOffset,g=p+(f.borderWidth||0),m=f.startAngle||0,v=u.startAngleRad=Math.PI/180*(m-90),y=u.endAngleRad=Math.PI/180*(l(f.endAngle,m+360)-90),x=y-v,b=u.points,M=f.dataLabels.distance,w=f.ignoreHiddenPoint,k=b.length;for(t||(u.center=t=u.getCenter()),u.adjustDistance=function(t){var e;return t&&0==t.shapeArgs.innerR?e=-t.shapeArgs.r/4:t&&0!=t.shapeArgs.innerR&&(e=t?-(t.shapeArgs.r-t.shapeArgs.innerR)/2:e),e},u.getX=function(e,n,r){var a=u.adjustDistance(r)||a;return i=Math.asin(Math.min((e-t[1])/(t[2]/2+a),1)),t[0]+(n?-1:1)*Math.cos(i)*(t[2]/2+a)},s=0;k>s;s++)h=b[s],e=v+c*x,(!w||h.visible)&&(c+=h.percentage/100),n=v+c*x,h.shapeType="arc",h.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(e*d)/d,end:Math.round(n*d)/d},i=(n+e)/2,i>1.5*Math.PI?i-=2*Math.PI:i<-Math.PI/2&&(i+=2*Math.PI),h.slicedTranslation={translateX:Math.round(Math.cos(i)*p),translateY:Math.round(Math.sin(i)*p)},r=Math.cos(i)*t[2]/2,a=Math.sin(i)*t[2]/2,h.tooltipPos=[t[0]+.7*r,t[1]+.7*a],h.half=i<-Math.PI/2||i>Math.PI/2?1:0,h.angle=i,M=u.adjustDistance(h)||M,g=Math.min(g,M/5),o=h.shapeArgs.r<200?Math.abs(-Math.PI/2-i)<.25||Math.abs(Math.PI/2-i)<.25||3*Math.PI/2-i<.25?10:Math.abs(-Math.PI/2-i)<.35||Math.abs(Math.PI/2-i)<.35||3*Math.PI/2-i<.35?7:4:Math.abs(-Math.PI/2-i)<.15||Math.abs(Math.PI/2-i)<.15||3*Math.PI/2-i<.15?6:4,h.labelPos=[t[0]+r+Math.cos(i)*M,t[1]+a+Math.sin(i)*M,t[0]+r+Math.cos(i)*g,t[1]+a+Math.sin(i)*g,t[0]+r,t[1]+a,0>M?"center":h.half?"right":"left",i,t[1]+a+4*Math.sin(i)],h.label2Pos=[t[0]+r+0*Math.cos(i),t[1]+a+0*Math.sin(i),t[0]+r+Math.cos(i)*o,t[1]+a+Math.sin(i)*o]},drawGraph:null,drawPoints:function(){var t,e,n,i,o=this,s=o.chart,h=s.renderer,l=o.options.shadow;l&&!o.shadowGroup&&(o.shadowGroup=h.g("shadow").add(o.group)),r(o.points,function(r){if(null!==r.y){e=r.graphic,i=r.shapeArgs,t=r.sliced?r.slicedTranslation:{};var s=r.shadowGroup;l&&!s&&(s=r.shadowGroup=h.g("shadow").add(o.shadowGroup)),s&&s.attr(t),n=o.pointAttribs(r,r.selected&&"select"),e?e.setRadialReference(o.center).attr(n).animate(a(i,t)):(r.graphic=e=h[r.shapeType](i).addClass(r.getClassName()).setRadialReference(o.center).attr(t).add(o.group),r.visible||e.attr({visibility:"hidden"}),e.attr(n).attr({"stroke-linejoin":"round"}).shadow(l,s))}})},searchPoint:h,sortByAngle:function(t,e){t.sort(function(t,n){return void 0!==t.angle&&(n.angle-t.angle)*e})},drawLegendSymbol:s.drawRectangle,getCenter:n.getCenter,getSymbol:h},{init:function(){u.prototype.init.apply(this,arguments);var t,n=this;return n.name=l(n.name,"Slice"),t=function(t){n.slice("select"===t.type)},e(n,"select",t),e(n,"unselect",t),n},setVisible:function(t,e){var n=this,i=n.series,a=i.chart,s=i.options.ignoreHiddenPoint;e=l(e,s),t!==n.visible&&(n.visible=n.options.visible=t=void 0===t?!n.visible:t,i.options.data[o(n,i.data)]=n.options,r(["graphic","dataLabel","dataLabel2","connector","shadowGroup"],function(e){n[e]&&n[e][t?"show":"hide"](!0)}),n.legendItem&&a.legend.colorizeItem(n,t),t||"hover"!==n.state||n.setState(""),s&&(i.isDirty=!0),e&&a.redraw())},slice:function(t,e,n){var r,a=this,s=a.series,h=s.chart;p(n,h),e=l(e,!0),a.sliced=a.options.sliced=t=i(t)?t:!a.sliced,s.options.data[o(a,s.data)]=a.options,r=t?a.slicedTranslation:{translateX:0,translateY:0},a.graphic.animate(r),a.shadowGroup&&a.shadowGroup.animate(r)},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}})}(t),function(t){var e=t.addEvent,n=t.arrayMax,i=t.defined,r=t.each,a=t.extend,o=t.format,s=t.map,h=t.merge,l=t.noop,u=t.pick,c=t.relativeLength,d=t.Series,f=t.seriesTypes,p=t.stableSort;t.distribute=function(t,e){function n(t,e){return t.target-e.target}var i,a,o,h=!0,l=t,u=[],c=0;for(i=t.length;i--;)c+=t[i].size;if(c>e){for(p(t,function(t,e){return(e.rank||0)-(t.rank||0)}),i=0,c=0;e>=c;)c+=t[i].size,i++;u=t.splice(i-1,t.length)}for(p(t,n),t=s(t,function(t){return{size:t.size,targets:[t.target]}});h;){for(i=t.length;i--;)a=t[i],o=(Math.min.apply(0,a.targets)+Math.max.apply(0,a.targets))/2,a.pos=Math.min(Math.max(0,o-a.size/2),e-a.size);for(i=t.length,h=!1;i--;)i>0&&t[i-1].pos+t[i-1].size>t[i].pos&&(t[i-1].size+=t[i].size,t[i-1].targets=t[i-1].targets.concat(t[i].targets),t[i-1].pos+t[i-1].size>e&&(t[i-1].pos=e-t[i-1].size),t.splice(i,1),h=!0)}i=0,r(t,function(t){var e=0;r(t.targets,function(){l[i].pos=t.pos+e,e+=l[i].size,i++})}),l.push.apply(l,u),p(l,n)},d.prototype.drawDataLabels=function(){var t,n,s,l,c=this,d=c.options,f=d.dataLabels,p=c.points,g=c.hasRendered||0,m=u(f.defer,!0),v=c.chart.renderer;(f.enabled||c._hasPointLabels)&&(c.dlProcessOptions&&c.dlProcessOptions(f),l=c.plotGroup("dataLabelsGroup","data-labels",m&&!g?"hidden":"visible",f.zIndex||6),m&&(l.attr({opacity:+g}),g||e(c,"afterAnimate",function(){c.visible&&l.show(!0),l[d.animation?"animate":"attr"]({opacity:1},{duration:200})})),n=f,r(p,function(e){var r,p,g,m,y,x,b=e.dataLabel,M=e.connector,w=!0,k={};if(t=e.dlOptions||e.options&&e.options.dataLabels,r=u(t&&t.enabled,n.enabled)&&null!==e.y,b&&!r)e.dataLabel=b.destroy();else if(r){if(f=h(n,t),x=f.style,y=f.rotation,p=e.getLabelConfig(),s=f.format?o(f.format,p):f.formatter.call(p,f),x.color=u(f.color,x.color,c.color,"#000000"),b)i(s)?(b.attr({text:s}),w=!1):(e.dataLabel=b=b.destroy(),M&&(e.connector=M.destroy()));else if(i(s)){g={fill:f.backgroundColor,stroke:f.borderColor,"stroke-width":f.borderWidth,r:f.borderRadius||0,rotation:y,padding:f.padding,zIndex:1},"contrast"===x.color&&(k.color=f.inside||f.distance<0||d.stacking?v.getContrast(e.color||c.color):"#000000"),d.cursor&&(k.cursor=d.cursor);for(m in g)void 0===g[m]&&delete g[m];b=e.dataLabel=v[y?"text":"label"](s,0,-9999,f.shape,null,null,f.useHTML,null,"data-label").attr(g),b.addClass("highcharts-data-label-color-"+e.colorIndex+" "+(f.className||"")),"treemap"===d.type&&(b.addClass("treemap-labels"),b.attr({"text-align":f.align})),b.css(a(x,k)),b.add(l),b.shadow(f.shadow)}b&&c.alignDataLabel(e,b,f,null,w)}}))},d.prototype.alignDataLabel=function(t,e,n,i,r){var o,s,h,l,c,d,f=this.chart,p=f.inverted,g=u(t.plotX,-9999),m=u(t.plotY,-9999),v=e.getBBox(),y=n.rotation,x=n.align,b=this.visible&&(t.series.forceDL||f.isInsidePlot(g,Math.round(m),p)||i&&f.isInsidePlot(g,p?i.x+1:i.y+i.height-1,p)),M="justify"===u(n.overflow,"justify");b&&(o=n.style.fontSize,s=f.renderer.fontMetrics(o,e).b,i=a({x:p?f.plotWidth-m:g,y:Math.round(p?f.plotHeight-g:m),width:0,height:0},i),a(n,{width:v.width,height:v.height}),y?(M=!1,c=f.renderer.rotCorr(s,y),d={x:i.x+n.x+i.width/2+c.x,y:i.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*i.height},e[r?"attr":"animate"](d).attr({align:x}),h=(y+720)%360,l=h>180&&360>h,"left"===x?d.y-=l?v.height:0:"center"===x?(d.x-=v.width/2,d.y-=v.height/2):"right"===x&&(d.x-=v.width,d.y-=l?0:v.height)):(e.align(n,null,i),d=e.alignAttr),M?this.justifyDataLabel(e,n,d,v,i,r):u(n.crop,!0)&&(b=f.isInsidePlot(d.x,d.y)&&f.isInsidePlot(d.x+v.width,d.y+v.height)),n.shape&&!y&&e.attr({anchorX:t.plotX,anchorY:t.plotY})),b||(e.attr({y:-9999}),e.placed=!1)},d.prototype.justifyDataLabel=function(t,e,n,i,r,a){var o,s,h=this.chart,l=e.align,u=e.verticalAlign,c=t.box?0:t.padding||0;o=n.x+c,0>o&&("right"===l?e.align="left":e.x=-o,s=!0),o=n.x+i.width-c,o>h.plotWidth&&("left"===l?e.align="right":e.x=h.plotWidth-o,s=!0),o=n.y+c,0>o&&("bottom"===u?e.verticalAlign="top":e.y=-o,s=!0),o=n.y+i.height-c,o>h.plotHeight&&("top"===u?e.verticalAlign="bottom":e.y=h.plotHeight-o,s=!0),s&&(t.placed=!a,t.align(e,null,r))},f.pie&&(f.pie.prototype.drawDataLabels=function(){var e,i,a,o,h,l,c,f,p,g,m=this,v=m.data,y=m.chart,x=m.options.dataLabels,b=u(x.connectorPadding,10),M=u(x.connectorWidth,1),w=y.plotWidth,k=y.plotHeight,S=x.distance,C=m.center,A=C[2]/2,P=C[1],T=S>0,_=[[],[]],L=[0,0,0,0];m.visible&&(x.enabled||m._hasPointLabels)&&(d.prototype.drawDataLabels.apply(m),r(v,function(t){t.dataLabel&&t.visible&&(_[t.half].push(t),t.dataLabel._pos=null)}),r(_,function(n,i){var r,u,d,v,M,T=n.length;if(T)for(m.sortByAngle(n,i-.5),S>0&&(r=Math.max(0,P-A-S),u=Math.min(P+A+S,y.plotHeight),d=s(n,function(t){return t.dataLabel?(M=t.dataLabel.getBBox().height||21,{target:t.labelPos[1]-r+M/2,size:M,rank:t.y}):void 0}),t.distribute(d,u+M-r)),g=0;T>g;g++)e=n[g],h=e.labelPos,a=e.dataLabel,p=e.visible===!1?"hidden":"inherit",v=h[1],d?void 0===d[g].pos?p="hidden":(l=d[g].size,f=r+d[g].pos):f=v,c=x.justify?C[0]+(i?-1:1)*(A+S):m.getX(r+2>f||f>u-2?v:f,i,e),a._attr={visibility:p,align:h[6]},a._pos={x:c+x.x+({left:b,right:-b}[h[6]]||0),y:f+x.y-10},h.x=c,h.y=f,null===m.options.size&&(o=a.width,b>c-o?L[3]=Math.max(Math.round(o-c+b),L[3]):c+o>w-b&&(L[1]=Math.max(Math.round(c+o-w+b),L[1])),0>f-l/2?L[0]=Math.max(Math.round(-f+l/2),L[0]):f+l/2>k&&(L[2]=Math.max(Math.round(f+l/2-k),L[2])))}),(0===n(L)||this.verifyDataLabelOverflow(L))&&(this.placeDataLabels(),T&&M&&r(this.points,function(t){var e;i=t.connector,a=t.dataLabel,a&&a._pos&&t.visible?(p=a._attr.visibility,e=!i,e&&(t.connector=i=y.renderer.path().addClass("highcharts-data-label-connector highcharts-color-"+t.colorIndex).add(m.dataLabelsGroup),i.attr({"stroke-width":M,stroke:x.connectorColor||t.color||"#666666"})),i[e?"attr":"animate"]({d:m.connectorPath(t.labelPos)}),i.attr("visibility",p)):i&&(t.connector=i.destroy())})))},f.pie.prototype.connectorPath=function(t){var e=t.x,n=t.y;return u(this.options.dataLabels.softConnector,!0)?["M",e+("left"===t[6]?5:-5),n,"C",e,n,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),n,"L",t[2],t[3],"L",t[4],t[5]]},f.pie.prototype.placeDataLabels=function(){r(this.points,function(t){var e,n=t.dataLabel;n&&t.visible&&(e=n._pos,e?(n.attr(n._attr),n[n.moved?"animate":"attr"](e),n.moved=!0):n&&n.attr({y:-9999}))})},f.pie.prototype.alignDataLabel=l,f.pie.prototype.verifyDataLabelOverflow=function(t){var e,n=this.center,i=this.options,r=i.center,a=i.minSize||80,o=a;return null!==r[0]?o=Math.max(n[2]-Math.max(t[1],t[3]),a):(o=Math.max(n[2]-t[1]-t[3],a),n[0]+=(t[3]-t[1])/2),null!==r[1]?o=Math.max(Math.min(o,n[2]-Math.max(t[0],t[2])),a):(o=Math.max(Math.min(o,n[2]-t[0]-t[2]),a),n[1]+=(t[0]-t[2])/2),o<n[2]?(n[2]=o,n[3]=Math.min(c(i.innerSize||0,o),o),this.translate(n),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),f.column&&(f.column.prototype.alignDataLabel=function(t,e,n,i,r){var a,o=this.chart.inverted,s=t.series,l=t.dlBox||t.shapeArgs,c=u(t.below,t.plotY>u(this.translatedThreshold,s.yAxis.len)),f=u(n.inside,!!this.options.stacking);l&&(i=h(l),i.y<0&&(i.height+=i.y,i.y=0),a=i.y+i.height-s.yAxis.len,a>0&&(i.height-=a),o&&(i={x:s.yAxis.len-i.y-i.height,y:s.xAxis.len-i.x-i.width,width:i.height,height:i.width}),f||(o?(i.x+=c?0:i.width,i.width=0):(i.y+=c?i.height:0,i.height=0))),n.align=u(n.align,!o||f?"center":c?"right":"left"),n.verticalAlign=u(n.verticalAlign,o||f?"middle":c?"top":"bottom"),d.prototype.alignDataLabel.call(this,t,e,n,i,r)})}(t),function(t){var e=t.Chart,n=t.each,i=t.pick,r=t.addEvent;e.prototype.callbacks.push(function(t){function e(){var e=[];n(t.series,function(t){var r=t.options.dataLabels,a=t.dataLabelCollections||["dataLabel"];(r.enabled||t._hasPointLabels)&&!r.allowOverlap&&t.visible&&n(a,function(r){n(t.points,function(t){t[r]&&(t[r].labelrank=i(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t[r]))})})}),t.hideOverlappingLabels(e)}e(),r(t,"redraw",e)}),e.prototype.hideOverlappingLabels=function(t){var e,i,r,a,o,s,h,l,u,c,d,f=this.options.chart.polar,t=f?t.slice(0,-1):t,p=t.length,g=function(t,e,n,i,r,a,o,s){return!(r>t+n||t>r+o||a>e+i||e>a+s)};for(i=0;p>i;i++)e=t[i],e&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),i=0;p>i;i++)for(a=t[i],r=i+1;p>r;++r)o=t[r],a&&o&&a.placed&&o.placed&&0!==a.newOpacity&&0!==o.newOpacity&&(h=a.alignAttr,l=o.alignAttr,u=a.parentGroup,c=o.parentGroup,d=2*(a.box?0:a.padding),s=g(h.x+u.translateX,h.y+u.translateY,a.width-d,a.height-d,l.x+c.translateX,l.y+c.translateY,o.width-d,o.height-d),s&&((a.labelrank<o.labelrank?a:o).newOpacity=0));n(t,function(t){var e,n;t&&(n=t.newOpacity,t.oldOpacity!==n&&t.placed&&(n?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=n,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})}}(t),function(t){var e,n=t.addEvent,i=t.Chart,r=t.createElement,a=t.css,o=t.defaultOptions,s=t.defaultPlotOptions,h=t.each,l=t.extend,u=t.fireEvent,c=t.hasTouch,d=t.inArray,f=t.isObject,p=t.Legend,g=t.merge,m=t.pick,v=t.Point,y=t.Series,x=t.seriesTypes,b=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,n=e.pointer,i=function(t){for(var n,i=t.target;i&&!n;)n=i.point,i=i.parentNode;void 0!==n&&n!==e.hoverPoint&&n.onMouseOver(t)};h(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(h(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",i).on("mouseout",function(t){n.onTrackerMouseOut(t)}),c&&t[e].on("touchstart",i),t.options.cursor&&t[e].css(a).css({cursor:t.options.cursor}))}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,n=e.options,i=n.trackByArea,r=[].concat(i?e.areaPath:e.graphPath),a=r.length,o=e.chart,s=o.pointer,l=o.renderer,u=o.options.tooltip.snap,d=e.tracker,f=function(){o.hoverSeries!==e&&e.onMouseOver()},p="rgba(192,192,192,"+(b?1e-4:.002)+")";if(a&&!i)for(t=a+1;t--;)"M"===r[t]&&r.splice(t+1,0,r[t+1]-u,r[t+2],"L"),(t&&"M"===r[t]||t===a)&&r.splice(t,0,"L",r[t-2]+u,r[t-1]);d?d.attr({d:r}):e.graph&&(e.tracker=l.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:p,fill:i?p:"none","stroke-width":e.graph.strokeWidth()+(i?0:2*u),zIndex:2}).add(e.group),h([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(t){s.onTrackerMouseOut(t)
}),n.cursor&&t.css({cursor:n.cursor}),c&&t.on("touchstart",f)}))}},x.column&&(x.column.prototype.drawTracker=e.drawTrackerPoint),x.pie&&(x.pie.prototype.drawTracker=e.drawTrackerPoint),x.scatter&&(x.scatter.prototype.drawTracker=e.drawTrackerPoint),l(p.prototype,{setItemEvents:function(t,e,n){var i=this,r=i.chart,a="highcharts-legend-"+(t.series?"point":"series")+"-active";(n?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),r.seriesGroup.addClass(a),e.css(i.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?i.itemStyle:i.itemHiddenStyle),r.seriesGroup.removeClass(a),t.setState()}).on("click",function(e){var n="legendItemClick",i=function(){t.setVisible&&t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent(n,e,i):u(t,n,e,i)})},createCheckboxForItem:function(t){var e=this;t.checkbox=r("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},e.options.itemCheckboxStyle,e.chart.container),n(t.checkbox,"click",function(e){var n=e.target;u(t.series||t,"checkboxClick",{checked:n.checked,item:t},function(){t.select()})})}}),o.legend.itemStyle.cursor="pointer",l(i.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,n=o.lang,i=e.options.chart.resetZoomButton,r=i.theme,a=r.states,s="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(n.resetZoom,null,null,t,r,a&&a.hover).attr({align:i.position.align,title:n.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(i.position,!1,s)},zoomOut:function(){var t=this;u(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,n,i=this,r=i.pointer,a=!1;!t||t.resetSelection?h(i.axes,function(t){e=t.zoom()}):h(t.xAxis.concat(t.yAxis),function(t){var n=t.axis,i=n.isXAxis;r[i?"zoomX":"zoomY"]&&(e=n.zoom(t.min,t.max),n.displayBtn&&(a=!0))}),n=i.resetZoomButton,a&&!n?i.showResetZoom():!a&&f(n)&&(i.resetZoomButton=n.destroy()),e&&i.redraw(m(i.options.chart.animation,t&&t.animation,i.pointCount<100))},pan:function(t,e){var n,i=this,r=i.hoverPoints;r&&h(r,function(t){t.setState()}),h("xy"===e?[1,0]:[1],function(e){var r=i[e?"xAxis":"yAxis"][0],a=r.horiz,o=t[a?"chartX":"chartY"],s=a?"mouseDownX":"mouseDownY",h=i[s],l=(r.pointRange||0)/2,u=r.getExtremes(),c=r.toValue(h-o,!0)+l,d=r.toValue(h+r.len-o,!0)-l,f=h>o;r.series.length&&(f||c>Math.min(u.dataMin,u.min))&&(!f||d<Math.max(u.dataMax,u.max))&&(r.setExtremes(c,d,!1,!1,{trigger:"pan"}),n=!0),i[s]=o}),n&&i.redraw(!1),a(i.container,{cursor:"move"})}}),l(v.prototype,{select:function(t,e){var n=this,i=n.series,r=i.chart;t=m(t,!n.selected),n.firePointEvent(t?"select":"unselect",{accumulate:e},function(){n.selected=n.options.selected=t,i.options.data[d(n,i.data)]=n.options,n.setState(t&&"select"),e||h(r.getSelectedPoints(),function(t){t.selected&&t!==n&&(t.selected=t.options.selected=!1,i.options.data[d(t,i.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t,e){var n=this,i=n.series,r=i.chart,a=r.tooltip,o=r.hoverPoint;n.series&&(e||(o&&o!==n&&o.onMouseOut(),r.hoverSeries!==i&&i.onMouseOver(),r.hoverPoint=n),!a||a.shared&&!i.noSharedTooltip?a||n.setState("hover"):(n.setState("hover"),a.refresh(n,t)),n.firePointEvent("mouseOver"))},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut"),e&&-1!==d(this,e)||(this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var t,e=this,i=g(e.series.options.point,e.options),r=i.events;e.events=r;for(t in r)n(e,t,r[t]);this.hasImportedEvents=!0}},setState:function(t,e){var n,i,r,a=this,o=Math.floor(a.plotX),h=a.plotY,u=a.series,c=u.options.states[t]||{},d=s[u.type].marker&&u.options.marker,f=d&&d.enabled===!1,p=d&&d.states&&d.states[t]||{},g=p.enabled===!1,v=u.stateMarkerGraphic,y=a.marker||{},x=u.chart,b=u.halo,M=d&&u.markerAttribs;t=t||"",t===a.state&&!e||a.selected&&"select"!==t||c.enabled===!1||t&&(g||f&&p.enabled===!1)||t&&y.states&&y.states[t]&&y.states[t].enabled===!1||(M&&(i=u.markerAttribs(a,t)),a.graphic?(a.state&&a.graphic.removeClass("highcharts-point-"+a.state),t&&a.graphic.addClass("highcharts-point-"+t),a.graphic.attr(u.pointAttribs(a,t)),i&&a.graphic.animate(i,m(x.options.chart.animation,p.animation,d.animation)),v&&v.hide()):(t&&p&&(r=y.symbol||u.symbol,v&&v.currentSymbol!==r&&(v=v.destroy()),v?v[e?"animate":"attr"]({x:i.x,y:i.y}):r&&(u.stateMarkerGraphic=v=x.renderer.symbol(r,i.x,i.y,i.width,i.height).add(u.markerGroup),v.currentSymbol=r),v&&v.attr(u.pointAttribs(a,t))),v&&(v[t&&x.isInsidePlot(o,h,x.inverted)?"show":"hide"](),v.element.point=a)),n=c.halo,n&&n.size?(b||(u.halo=b=x.renderer.path().add(M?u.markerGroup:u.group)),b[e?"animate":"attr"]({d:a.haloPath(n.size)}),b.attr({"class":"highcharts-halo highcharts-color-"+m(a.colorIndex,u.colorIndex)}),b.attr(l({fill:a.color||u.color,"fill-opacity":n.opacity,zIndex:-1},n.attributes))):b&&b.animate({d:a.haloPath(0)}),a.state=t)},haloPath:function(t){var e=this.series,n=e.chart;return n.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),l(y.prototype,{onMouseOver:function(){var t=this,e=t.chart,n=e.hoverSeries;n&&n!==t&&n.onMouseOut(),t.options.events.mouseOver&&u(t,"mouseOver"),t.setState("hover"),e.hoverSeries=t},onMouseOut:function(){var t=this,e=t.options,n=t.chart,i=n.tooltip,r=n.hoverPoint;n.hoverSeries=null,r&&r.onMouseOut(),t&&e.events.mouseOut&&u(t,"mouseOut"),!i||e.stickyTracking||i.shared&&!t.noSharedTooltip||i.hide(),t.setState()},setState:function(t){var e,n=this,i=n.options,r=n.graph,a=i.states,o=i.lineWidth,s=0;if(t=t||"",n.state!==t){if(h([n.group,n.markerGroup],function(e){e&&(n.state&&e.removeClass("highcharts-series-"+n.state),t&&e.addClass("highcharts-series-"+t))}),n.state=t,a[t]&&a[t].enabled===!1)return;if(t&&(o=a[t].lineWidth||o+(a[t].lineWidthPlus||0)),r&&!r.dashstyle)for(e={"stroke-width":o},r.attr(e);n["zone-graph-"+s];)n["zone-graph-"+s].attr(e),s+=1}},setVisible:function(t,e){var n,i=this,r=i.chart,a=i.legendItem,o=r.options.chart.ignoreHiddenSeries,s=i.visible;i.visible=t=i.options.visible=i.userOptions.visible=void 0===t?!s:t,n=t?"show":"hide",h(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(t){i[t]&&i[t][n]()}),(r.hoverSeries===i||(r.hoverPoint&&r.hoverPoint.series)===i)&&i.onMouseOut(),a&&r.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&h(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),h(i.linkedSeries,function(e){e.setVisible(t,!1)}),o&&(r.isDirtyBox=!0),e!==!1&&r.redraw(),u(i,n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var e=this;e.selected=t=void 0===t?!e.selected:t,e.checkbox&&(e.checkbox.checked=t),u(e,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(t),function(t){var e=t.Chart,n=t.each,i=t.inArray,r=t.isObject,a=t.pick,o=t.splat;e.prototype.setResponsive=function(t){var e=this.options.responsive;e&&e.rules&&n(e.rules,function(e){this.matchResponsiveRule(e,t)},this)},e.prototype.matchResponsiveRule=function(e,n){var i,r=this.respRules,o=e.condition,s=o.callback||function(){return this.chartWidth<=a(o.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=a(o.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=a(o.minWidth,0)&&this.chartHeight>=a(o.minHeight,0)};void 0===e._id&&(e._id=t.uniqueKey()),i=s.call(this),!r[e._id]&&i?e.chartOptions&&(r[e._id]=this.currentOptions(e.chartOptions),this.update(e.chartOptions,n)):r[e._id]&&!i&&(this.update(r[e._id],n),delete r[e._id])},e.prototype.currentOptions=function(t){function e(t,n,a){var s,h;for(s in t)if(i(s,["series","xAxis","yAxis"])>-1)for(t[s]=o(t[s]),a[s]=[],h=0;h<t[s].length;h++)a[s][h]={},e(t[s][h],n[s][h],a[s][h]);else r(t[s])?(a[s]={},e(t[s],n[s]||{},a[s])):a[s]=n[s]||null}var n={};return e(t,this.options,n),n}}(t),t}),!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){!function(t){"use strict";function e(t,e,n){this.init(t,e,n)}var n=t.each,i=t.extend,r=t.merge,a=t.splat;i(e.prototype,{init:function(t,e,i){var o,s=this,h=s.defaultOptions;s.chart=e,s.options=t=r(h,e.angular?{background:{}}:void 0,t),o=t.background,o&&n([].concat(a(o)).reverse(),function(t){var e,n=i.userOptions;e=r(s.defaultBackgroundOptions,t),t.backgroundColor&&(e.backgroundColor=t.backgroundColor),e.color=e.backgroundColor,i.options.plotBands.unshift(e),n.plotBands=n.plotBands||[],n.plotBands!==i.options.plotBands&&n.plotBands.unshift(e)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{className:"highcharts-pane",shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}}),t.Pane=e}(t),function(t){"use strict";var e,n,i=t.Axis,r=t.CenteredSeriesMixin,a=t.each,o=t.extend,s=t.map,h=t.merge,l=t.noop,u=t.Pane,c=t.pick,d=t.pInt,f=t.Tick,p=t.splat,g=t.wrap,m=i.prototype,v=f.prototype;e={getOffset:l,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:l,setCategories:l,setTitle:l},n={defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(t){var e=this.options=h(this.defaultOptions,this.defaultRadialOptions,t);e.plotBands||(e.plotBands=[])},getOffset:function(){m.getOffset.call(this),this.chart.axisOffset[this.side]=0,this.center=this.pane.center=r.getCenter.call(this.pane)},getLinePath:function(t,e){var n,i,r=this.center,a=this.chart,o=c(e,r[2]/2-this.offset);return this.isCircular||void 0!==e?i=this.chart.renderer.symbols.arc(this.left+r[0],this.top+r[1],o,o,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}):(n=this.postTranslate(this.angleRad,o),i=["M",r[0]+a.plotLeft,r[1]+a.plotTop,"L",n.x,n.y]),i},setAxisTranslation:function(){m.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},beforeSetTickPositions:function(){this.autoConnect=this.isCircular&&void 0===c(this.userMax,this.options.max)&&this.endAngleRad-this.startAngleRad===2*Math.PI,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){m.setAxisSize.call(this),this.isRadial&&(this.center=this.pane.center=r.getCenter.call(this.pane),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*c(this.sector,1)/2)},getPosition:function(t,e){return this.postTranslate(this.isCircular?this.translate(t):this.angleRad,c(this.isCircular?e:this.translate(t),this.center[2]/2)-this.offset)},postTranslate:function(t,e){var n=this.chart,i=this.center;return t=this.startAngleRad+t,{x:n.plotLeft+i[0]+Math.cos(t)*e,y:n.plotTop+i[1]+Math.sin(t)*e}},getPlotBandPath:function(t,e,n){var i,r,a,o,h=this.center,l=this.startAngleRad,u=h[2]/2,f=[c(n.outerRadius,"100%"),n.innerRadius,c(n.thickness,10)],p=Math.min(this.offset,0),g=/%$/,m=this.isCircular;return"polygon"===this.options.gridLineInterpolation?o=this.getPlotLinePath(t).concat(this.getPlotLinePath(e,!0)):(t=Math.max(t,this.min),e=Math.min(e,this.max),m||(f[0]=this.translate(t),f[1]=this.translate(e)),f=s(f,function(t){return g.test(t)&&(t=d(t,10)*u/100),t}),"circle"!==n.shape&&m?(i=l+this.translate(t),r=l+this.translate(e)):(i=-Math.PI/2,r=1.5*Math.PI,a=!0),f[0]-=p,f[2]-=p,o=this.chart.renderer.symbols.arc(this.left+h[0],this.top+h[1],f[0],f[0],{start:Math.min(i,r),end:Math.max(i,r),innerR:c(f[1],f[0]-f[2]),open:a})),o},getPlotLinePath:function(t,e){var n,i,r,o,s=this,h=s.center,l=s.chart,u=s.getPosition(t);return s.isCircular?o=["M",h[0]+l.plotLeft,h[1]+l.plotTop,"L",u.x,u.y]:"circle"===s.options.gridLineInterpolation?(t=s.translate(t),t&&(o=s.getLinePath(0,t))):(a(l.xAxis,function(t){t.pane===s.pane&&(n=t)}),o=[],t=s.translate(t),r=n.tickPositions,n.autoConnect&&(r=r.concat([r[0]])),e&&(r=[].concat(r).reverse()),a(r,function(e,r){i=n.getPosition(e,t),o.push(r?"L":"M",i.x,i.y)})),o},getTitlePosition:function(){var t=this.center,e=this.chart,n=this.options.title;return{x:e.plotLeft+t[0]+(n.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[n.align]*t[2]+(n.y||0)}}},g(m,"init",function(t,i,r){var a,s,l,d,f=this,g=i.angular,m=i.polar,v=r.isX,y=g&&v,x=i.options,b=r.pane||0;g?(o(this,y?e:n),a=!v,a&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):m&&(o(this,n),a=v,this.defaultRadialOptions=v?this.defaultRadialXOptions:h(this.defaultYAxisOptions,this.defaultRadialYOptions)),g||m?(this.isRadial=!0,i.inverted=!1,x.chart.zoomType=null):this.isRadial=!1,t.call(this,i,r),y||!g&&!m||(s=this.options,i.panes||(i.panes=[]),this.pane=l=i.panes[b]=i.panes[b]||new u(p(x.pane)[b],i,f),d=l.options,this.angleRad=(s.angle||0)*Math.PI/180,this.startAngleRad=(d.startAngle-90)*Math.PI/180,this.endAngleRad=(c(d.endAngle,d.startAngle+360)-90)*Math.PI/180,this.offset=s.offset||0,this.isCircular=a)}),g(m,"autoLabelAlign",function(t){return this.isRadial?void 0:t.apply(this,[].slice.call(arguments,1))}),g(v,"getPosition",function(t,e,n,i,r){var a=this.axis;return a.getPosition?a.getPosition(n):t.call(this,e,n,i,r)}),g(v,"getLabelPosition",function(t,e,n,i,r,a,o,s,h){var l,u=this.axis,d=a.y,f=20,p=a.align,g=(u.translate(this.pos)+u.startAngleRad+Math.PI/2)/Math.PI*180%360;return u.isRadial?(l=u.getPosition(this.pos,u.center[2]/2+c(a.distance,-25)),"auto"===a.rotation?i.attr({rotation:g}):null===d&&(d=u.chart.renderer.fontMetrics(i.styles.fontSize).b-i.getBBox().height/2),null===p&&(u.isCircular?(this.label.getBBox().width>u.len*u.tickInterval/(u.max-u.min)&&(f=0),p=g>f&&180-f>g?"left":g>180+f&&360-f>g?"right":"center"):p="center",i.attr({align:p})),l.x+=a.x,l.y+=d):l=t.call(this,e,n,i,r,a,o,s,h),l}),g(v,"getMarkPath",function(t,e,n,i,r,a,o){var s,h,l=this.axis;return l.isRadial?(s=l.getPosition(this.pos,l.center[2]/2+i),h=["M",e,n,"L",s.x,s.y]):h=t.call(this,e,n,i,r,a,o),h})}(t),function(t){"use strict";var e=t.each,n=t.noop,i=t.pick,r=t.Series,a=t.seriesType,o=t.seriesTypes;a("arearange","area",{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}"></span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}},{pointArrayMap:["low","high"],dataLabelCollections:["dataLabel","dataLabelUpper"],toYData:function(t){return[t.low,t.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(t){var e=this.chart,n=this.xAxis.postTranslate(t.rectPlotX,this.yAxis.len-t.plotHigh);t.plotHighX=n.x-e.plotLeft,t.plotHigh=n.y-e.plotTop},translate:function(){var t=this,n=t.yAxis,i=!!t.modifyValue;o.area.prototype.translate.apply(t),e(t.points,function(e){var r=e.low,a=e.high,o=e.plotY;null===a||null===r?e.isNull=!0:(e.plotLow=o,e.plotHigh=n.translate(i?t.modifyValue(a,e):a,0,1,0,1),i&&(e.yBottom=e.plotHigh))}),this.chart.polar&&e(this.points,function(e){t.highToXY(e)})},getGraphPath:function(t){var e,n,r,a,s,h,l,u=[],c=[],d=o.area.prototype.getGraphPath,f=this.options,p=f.step;for(t=t||this.points,e=t.length,e=t.length;e--;)n=t[e],n.isNull||f.connectEnds||t[e+1]&&!t[e+1].isNull||c.push({plotX:n.plotX,plotY:n.plotY,doCurve:!1}),r={polarPlotY:n.polarPlotY,rectPlotX:n.rectPlotX,yBottom:n.yBottom,plotX:i(n.plotHighX,n.plotX),plotY:n.plotHigh,isNull:n.isNull},c.push(r),u.push(r),n.isNull||f.connectEnds||t[e-1]&&!t[e-1].isNull||c.push({plotX:n.plotX,plotY:n.plotY,doCurve:!1});return s=d.call(this,t),p&&(p===!0&&(p="left"),f.step={left:"right",center:"center",right:"left"}[p]),h=d.call(this,u),l=d.call(this,c),f.step=p,a=[].concat(s,h),this.chart.polar||"M"!==l[0]||(l[0]="L"),this.graphPath=a,this.areaPath=this.areaPath.concat(s,l),a.isArea=!0,a.xMap=s.xMap,this.areaPath.xMap=s.xMap,a},drawDataLabels:function(){var t,e,n,i=this.data,a=i.length,o=[],s=r.prototype,h=this.options.dataLabels,l=h.align,u=h.verticalAlign,c=h.inside,d=this.chart.inverted;if(h.enabled||this._hasPointLabels){for(t=a;t--;)e=i[t],e&&(n=c?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow,e.y=e.high,e._plotY=e.plotY,e.plotY=e.plotHigh,o[t]=e.dataLabel,e.dataLabel=e.dataLabelUpper,e.below=n,d?l||(h.align=n?"right":"left"):u||(h.verticalAlign=n?"top":"bottom"),h.x=h.xHigh,h.y=h.yHigh);for(s.drawDataLabels&&s.drawDataLabels.apply(this,arguments),t=a;t--;)e=i[t],e&&(n=c?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow,e.dataLabelUpper=e.dataLabel,e.dataLabel=o[t],e.y=e.low,e.plotY=e._plotY,e.below=!n,d?l||(h.align=n?"left":"right"):u||(h.verticalAlign=n?"bottom":"top"),h.x=h.xLow,h.y=h.yLow);s.drawDataLabels&&s.drawDataLabels.apply(this,arguments)}h.align=l,h.verticalAlign=u},alignDataLabel:function(){o.column.prototype.alignDataLabel.apply(this,arguments)},setStackedPoints:n,getSymbol:n,drawPoints:n})}(t),function(t){"use strict";var e=t.seriesType,n=t.seriesTypes;e("areasplinerange","arearange",null,{getPointSpline:n.spline.prototype.getPointSpline})}(t),function(t){"use strict";var e=t.defaultPlotOptions,n=t.each,i=t.merge,r=t.noop,a=t.pick,o=t.seriesType,s=t.seriesTypes,h=s.column.prototype;o("columnrange","arearange",i(e.column,e.arearange,{lineWidth:1,pointRange:null}),{translate:function(){var t,e,i=this,r=i.yAxis,o=i.xAxis,s=o.startAngleRad,l=i.chart,u=i.xAxis.isRadial;h.translate.apply(i),n(i.points,function(n){var h,c,d,f=n.shapeArgs,p=i.options.minPointLength;n.plotHigh=e=r.translate(n.high,0,1,0,1),n.plotLow=n.plotY,d=e,c=a(n.rectPlotY,n.plotY)-e,Math.abs(c)<p?(h=p-c,c+=h,d-=h/2):0>c&&(c*=-1,d-=c),u?(t=n.barX+s,n.shapeType="path",n.shapeArgs={d:i.polarArc(d+c,d,t,t+n.pointWidth)}):(f.height=c,f.y=d,n.tooltipPos=l.inverted?[r.len+r.pos-l.plotLeft-d-c/2,o.len+o.pos-l.plotTop-f.x-f.width/2,c]:[o.left-l.plotLeft+f.x+f.width/2,r.pos-l.plotTop+d+c/2,c])})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:r,crispCol:h.crispCol,drawPoints:h.drawPoints,drawTracker:h.drawTracker,getColumnMetrics:h.getColumnMetrics,animate:function(){return h.animate.apply(this,arguments)},polarArc:function(){return h.polarArc.apply(this,arguments)},pointAttribs:h.pointAttribs})}(t),function(t){"use strict";var e=t.each,n=t.isNumber,i=t.merge,r=t.noop,a=t.pick,o=t.pInt,s=t.Series,h=t.seriesType,l=t.TrackerMixin;h("gauge","line",{dataLabels:{enabled:!0,defer:!1,y:15,borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2,borderWidth:1,borderColor:"#cccccc"},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1},{angular:!0,directTouch:!0,drawGraph:r,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var t=this,r=t.yAxis,s=t.options,h=r.center;t.generatePoints(),e(t.points,function(t){var e=i(s.dial,t.dial),l=o(a(e.radius,80))*h[2]/200,u=o(a(e.baseLength,70))*l/100,c=o(a(e.rearLength,10))*l/100,d=e.baseWidth||3,f=e.topWidth||1,p=s.overshoot,g=r.startAngleRad+r.translate(t.y,null,null,null,!0);n(p)?(p=p/180*Math.PI,g=Math.max(r.startAngleRad-p,Math.min(r.endAngleRad+p,g))):s.wrap===!1&&(g=Math.max(r.startAngleRad,Math.min(r.endAngleRad,g))),g=180*g/Math.PI,t.shapeType="path",t.shapeArgs={d:e.path||["M",-c,-d/2,"L",u,-d/2,l,-f/2,l,f/2,u,d/2,-c,d/2,"z"],translateX:h[0],translateY:h[1],rotation:g},t.plotX=h[0],t.plotY=h[1]})},drawPoints:function(){var t=this,n=t.yAxis.center,r=t.pivot,o=t.options,s=o.pivot,h=t.chart.renderer;e(t.points,function(e){var n=e.graphic,r=e.shapeArgs,a=r.d,s=i(o.dial,e.dial);n?(n.animate(r),r.d=a):(e.graphic=h[e.shapeType](r).attr({rotation:r.rotation,zIndex:1}).addClass("highcharts-dial").add(t.group),e.graphic.attr({stroke:s.borderColor||"none","stroke-width":s.borderWidth||0,fill:s.backgroundColor||"#000000"}))}),r?r.animate({translateX:n[0],translateY:n[1]}):(t.pivot=h.circle(0,0,a(s.radius,5)).attr({zIndex:2}).addClass("highcharts-pivot").translate(n[0],n[1]).add(t.group),t.pivot.attr({"stroke-width":s.borderWidth||0,stroke:s.borderColor||"#cccccc",fill:s.backgroundColor||"#000000"}))},animate:function(t){var n=this;t||(e(n.points,function(t){var e=t.graphic;e&&(e.attr({rotation:180*n.yAxis.startAngleRad/Math.PI}),e.animate({rotation:t.shapeArgs.rotation},n.options.animation))}),n.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),s.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(t,e){s.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),a(e,!0)&&this.chart.redraw()},drawTracker:l&&l.drawTrackerPoint},{setState:function(t){this.state=t}})}(t),function(t){"use strict";var e=t.each,n=t.noop,i=t.pick,r=t.seriesType,a=t.seriesTypes;r("boxplot","column",{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,states:{hover:{brightness:-.3}},whiskerWidth:2},{pointArrayMap:["low","q1","median","q3","high"],toYData:function(t){return[t.low,t.q1,t.median,t.q3,t.high]},pointValKey:"high",pointAttribs:function(t){var e=this.options,n=t&&t.color||this.color;return{fill:t.fillColor||e.fillColor||n,stroke:e.lineColor||n,"stroke-width":e.lineWidth||0}},drawDataLabels:n,translate:function(){var t=this,n=t.yAxis,i=t.pointArrayMap;a.column.prototype.translate.apply(t),e(t.points,function(t){e(i,function(e){null!==t[e]&&(t[e+"Plot"]=n.translate(t[e],0,1,0,1))})})},drawPoints:function(){var t,n,r,a,o,s,h,l,u,c,d,f,p,g=this,m=g.points,v=g.options,y=g.chart,x=y.renderer,b=0,M=g.doQuartiles!==!1,w=g.options.whiskerLength;e(m,function(e){var m,y=e.graphic,k=y?"animate":"attr",S=e.shapeArgs,C={},A={},P={},T=e.color||g.color;void 0!==e.plotY&&(u=S.width,c=Math.floor(S.x),d=c+u,f=Math.round(u/2),t=Math.floor(M?e.q1Plot:e.lowPlot),n=Math.floor(M?e.q3Plot:e.lowPlot),r=Math.floor(e.highPlot),a=Math.floor(e.lowPlot),y||(e.graphic=y=x.g("point").add(g.group),e.stem=x.path().addClass("highcharts-boxplot-stem").add(y),w&&(e.whiskers=x.path().addClass("highcharts-boxplot-whisker").add(y)),M&&(e.box=x.path(l).addClass("highcharts-boxplot-box").add(y)),e.medianShape=x.path(s).addClass("highcharts-boxplot-median").add(y),C.stroke=e.stemColor||v.stemColor||T,C["stroke-width"]=i(e.stemWidth,v.stemWidth,v.lineWidth),C.dashstyle=e.stemDashStyle||v.stemDashStyle,e.stem.attr(C),w&&(A.stroke=e.whiskerColor||v.whiskerColor||T,A["stroke-width"]=i(e.whiskerWidth,v.whiskerWidth,v.lineWidth),e.whiskers.attr(A)),M&&(m=g.pointAttribs(e),e.box.attr(m)),P.stroke=e.medianColor||v.medianColor||T,P["stroke-width"]=i(e.medianWidth,v.medianWidth,v.lineWidth),e.medianShape.attr(P)),h=e.stem.strokeWidth()%2/2,b=c+f+h,e.stem[k]({d:["M",b,n,"L",b,r,"M",b,t,"L",b,a]}),M&&(h=e.box.strokeWidth()%2/2,t=Math.floor(t)+h,n=Math.floor(n)+h,c+=h,d+=h,e.box[k]({d:["M",c,n,"L",c,t,"L",d,t,"L",d,n,"L",c,n,"z"]})),w&&(h=e.whiskers.strokeWidth()%2/2,r+=h,a+=h,p=/%$/.test(w)?f*parseFloat(w)/100:w/2,e.whiskers[k]({d:["M",b-p,r,"L",b+p,r,"M",b-p,a,"L",b+p,a]})),o=Math.round(e.medianPlot),h=e.medianShape.strokeWidth()%2/2,o+=h,e.medianShape[k]({d:["M",c,o,"L",d,o]}))})},setStackedPoints:n})}(t),function(t){"use strict";var e=t.each,n=t.noop,i=t.seriesType,r=t.seriesTypes;i("errorbar","boxplot",{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null},{type:"errorbar",pointArrayMap:["low","high"],toYData:function(t){return[t.low,t.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:r.arearange?function(){var t=this.pointValKey;r.arearange.prototype.drawDataLabels.call(this),e(this.data,function(e){e.y=e[t]})}:n,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||r.column.prototype.getColumnMetrics.call(this)}})}(t),function(t){"use strict";var e=t.correctFloat,n=t.isNumber,i=t.noop,r=t.pick,a=t.Point,o=t.Series,s=t.seriesType,h=t.seriesTypes;s("waterfall","column",{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}},{pointValKey:"y",translate:function(){var t,n,i,a,o,s,l,u,c,d,f,p,g=this,m=g.options,v=g.yAxis,y=r(m.minPointLength,5),x=m.threshold,b=m.stacking;for(h.column.prototype.translate.apply(this),g.minPointLengthOffset=0,c=d=x,i=g.points,n=0,t=i.length;t>n;n++)a=i[n],u=this.processedYData[n],o=a.shapeArgs,s=b&&v.stacks[(g.negStacks&&x>u?"-":"")+g.stackKey],f=s?s[a.x].points[g.index+","+n]:[0,u],a.isSum?a.y=e(u):a.isIntermediateSum&&(a.y=e(u-d)),l=Math.max(c,c+a.y)+f[0],o.y=v.toPixels(l,!0),a.isSum?(o.y=v.toPixels(f[1],!0),o.height=Math.min(v.toPixels(f[0],!0),v.len)-o.y+g.minPointLengthOffset):a.isIntermediateSum?(o.y=v.toPixels(f[1],!0),o.height=Math.min(v.toPixels(d,!0),v.len)-o.y+g.minPointLengthOffset,d=f[1]):(o.height=u>0?v.toPixels(c,!0)-o.y:v.toPixels(c,!0)-v.toPixels(c-u,!0),c+=u),o.height<0?(o.y+=o.height,o.height*=-1):o.height>0&&o.height<1&&(o.height=1),a.plotY=o.y=Math.round(o.y)-g.borderWidth%2/2,o.height=Math.max(Math.round(o.height),.001),a.yBottom=o.y+o.height,o.height<=y&&(o.height=y,g.minPointLengthOffset+=y),o.y-=g.minPointLengthOffset,p=a.plotY+(a.negative?o.height:0)-g.minPointLengthOffset,g.chart.inverted?a.tooltipPos[0]=v.len-p:a.tooltipPos[1]=p},processData:function(t){var n,i,r,a,s,h,l,u=this,c=u.options,d=u.yData,f=u.options.data,p=d.length,g=c.threshold||0;for(r=i=a=s=g,l=0;p>l;l++)h=d[l],n=f&&f[l]?f[l]:{},"sum"===h||n.isSum?d[l]=e(r):"intermediateSum"===h||n.isIntermediateSum?d[l]=e(i):(r+=h,i+=h),a=Math.min(r,a),s=Math.max(r,s);o.prototype.processData.call(this,t),u.dataMin=a,u.dataMax=s},toYData:function(t){return t.isSum?0===t.x?null:"sum":t.isIntermediateSum?0===t.x?null:"intermediateSum":t.y},pointAttribs:function(t,e){var n,i=this.options.upColor;return i&&!t.options.color&&(t.color=t.y>0?i:null),n=h.column.prototype.pointAttribs.call(this,t,e),delete n.dashstyle,n},getGraphPath:function(){return["M",0,0]},getCrispPath:function(){var t,e,n,i,r=this.data,a=r.length,o=this.graph.strokeWidth()+this.borderWidth,s=Math.round(o)%2/2,h=[];for(n=1;a>n;n++)e=r[n].shapeArgs,t=r[n-1].shapeArgs,i=["M",t.x+t.width,t.y+s,"L",e.x,t.y+s],r[n-1].y<0&&(i[2]+=t.height,i[5]+=t.height),h=h.concat(i);return h},drawGraph:function(){o.prototype.drawGraph.call(this),this.graph.attr({d:this.getCrispPath()})},getExtremes:i},{getClassName:function(){var t=a.prototype.getClassName.call(this);return this.isSum?t+=" highcharts-sum":this.isIntermediateSum&&(t+=" highcharts-intermediate-sum"),t},isValid:function(){return n(this.y,!0)||this.isSum||this.isIntermediateSum}})}(t),function(t){"use strict";var e=t.LegendSymbolMixin,n=t.noop,i=t.Series,r=t.seriesType,a=t.seriesTypes;r("polygon","scatter",{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0},{type:"polygon",getGraphPath:function(){for(var t=i.prototype.getGraphPath.call(this),e=t.length+1;e--;)(e===t.length||"M"===t[e])&&e>0&&t.splice(e,0,"z");return this.areaPath=t,t},drawGraph:function(){this.options.fillColor=this.color,a.area.prototype.drawGraph.call(this)},drawLegendSymbol:e.drawRectangle,drawTracker:i.prototype.drawTracker,setStackedPoints:n})}(t),function(t){"use strict";var e=t.arrayMax,n=t.arrayMin,i=t.Axis,r=t.color,a=t.each,o=t.isNumber,s=t.noop,h=t.pick,l=t.pInt,u=t.Point,c=t.Series,d=t.seriesType,f=t.seriesTypes;d("bubble","scatter",{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1,radius:null,states:{hover:{radiusPlus:0}}},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,zoneAxis:"z",markerAttribs:null,pointAttribs:function(t,e){var n=this.options.marker,i=h(n.fillOpacity,.5),a=c.prototype.pointAttribs.call(this,t,e);return 1!==i&&(a.fill=r(a.fill).setOpacity(i).get("rgba")),a},getRadii:function(t,e,n,i){var r,a,o,s,h,l=this.zData,u=[],c=this.options,d="width"!==c.sizeBy,f=c.zThreshold,p=e-t;for(a=0,r=l.length;r>a;a++)s=l[a],c.sizeByAbsoluteValue&&null!==s&&(s=Math.abs(s-f),e=Math.max(e-f,Math.abs(t-f)),t=0),null===s?h=null:t>s?h=n/2-1:(o=p>0?(s-t)/p:.5,d&&o>=0&&(o=Math.sqrt(o)),h=Math.ceil(n+o*(i-n))/2),u.push(h);this.radii=u},animate:function(t){var e=this.options.animation;t||(a(this.points,function(t){var n=t.graphic,i=t.shapeArgs;n&&i&&(n.attr("r",1),n.animate({r:i.r},e))}),this.animate=null)},translate:function(){var t,e,n,i=this.data,r=this.radii;for(f.scatter.prototype.translate.call(this),t=i.length;t--;)e=i[t],n=r?r[t]:0,o(n)&&n>=this.minPxSize/2?(e.shapeType="circle",e.shapeArgs={x:e.plotX,y:e.plotY,r:n},e.dlBox={x:e.plotX-n,y:e.plotY-n,width:2*n,height:2*n}):e.shapeArgs=e.plotY=e.dlBox=void 0},drawLegendSymbol:function(t,e){var n=this.chart.renderer,i=n.fontMetrics(t.itemStyle.fontSize).f/2;e.legendSymbol=n.circle(i,t.baseline-i,i).attr({zIndex:3}).add(e.legendGroup),e.legendSymbol.isMarker=!0},drawPoints:f.column.prototype.drawPoints,alignDataLabel:f.column.prototype.alignDataLabel,buildKDTree:s,applyZones:s},{haloPath:function(t){return u.prototype.haloPath.call(this,this.shapeArgs.r+t)},ttBelow:!1}),i.prototype.beforePadding=function(){var t=this,i=this.len,r=this.chart,s=0,u=i,c=this.isXAxis,d=c?"xData":"yData",f=this.min,p={},g=Math.min(r.plotWidth,r.plotHeight),m=Number.MAX_VALUE,v=-Number.MAX_VALUE,y=this.max-f,x=i/y,b=[];a(this.series,function(i){var o,s=i.options;!i.bubblePadding||!i.visible&&r.options.chart.ignoreHiddenSeries||(t.allowZoomOutside=!0,b.push(i),c&&(a(["minSize","maxSize"],function(t){var e=s[t],n=/%$/.test(e);e=l(e),p[t]=n?g*e/100:e}),i.minPxSize=p.minSize,i.maxPxSize=Math.max(p.maxSize,p.minSize),o=i.zData,o.length&&(m=h(s.zMin,Math.min(m,Math.max(n(o),s.displayNegative===!1?s.zThreshold:-Number.MAX_VALUE))),v=h(s.zMax,Math.max(v,e(o))))))}),a(b,function(e){var n,i=e[d],r=i.length;if(c&&e.getRadii(m,v,e.minPxSize,e.maxPxSize),y>0)for(;r--;)o(i[r])&&t.dataMin<=i[r]&&i[r]<=t.dataMax&&(n=e.radii[r],s=Math.min((i[r]-f)*x-n,s),u=Math.max((i[r]-f)*x+n,u))}),b.length&&y>0&&!this.isLog&&(u-=i,x*=(i+s-u)/i,a([["min","userMin",s],["max","userMax",u]],function(e){void 0===h(t.options[e[0]],t[e[1]])&&(t[e[0]]+=e[2]/x)}))}}(t),function(t){"use strict";function e(t,e){var n,i=this.chart,r=this.options.animation,a=this.group,o=this.markerGroup,s=this.xAxis.center,h=i.plotLeft,l=i.plotTop;i.polar?i.renderer.isSVG&&(r===!0&&(r={}),e?(n={translateX:s[0]+h,translateY:s[1]+l,scaleX:.001,scaleY:.001},a.attr(n),o&&o.attr(n)):(n={translateX:h,translateY:l,scaleX:1,scaleY:1},a.animate(n,r),o&&o.animate(n,r),this.animate=null)):t.call(this,e)}var n,i=t.each,r=t.pick,a=t.Pointer,o=t.Series,s=t.seriesTypes,h=t.wrap,l=o.prototype,u=a.prototype;l.searchPointByAngle=function(t){var e=this,n=e.chart,i=e.xAxis,r=i.pane.center,a=t.chartX-r[0]-n.plotLeft,o=t.chartY-r[1]-n.plotTop;return this.searchKDTree({clientX:180+Math.atan2(a,o)*(-180/Math.PI)})},h(l,"buildKDTree",function(t){this.chart.polar&&(this.kdByAngle?this.searchPoint=this.searchPointByAngle:this.kdDimensions=2),t.apply(this)}),l.toXY=function(t){var e,n,i=this.chart,r=t.plotX,a=t.plotY;
t.rectPlotX=r,t.rectPlotY=a,e=this.xAxis.postTranslate(t.plotX,this.yAxis.len-a),t.plotX=t.polarPlotX=e.x-i.plotLeft,t.plotY=t.polarPlotY=e.y-i.plotTop,this.kdByAngle?(n=(r/Math.PI*180+this.xAxis.pane.options.startAngle)%360,0>n&&(n+=360),t.clientX=n):t.clientX=t.plotX},s.spline&&h(s.spline.prototype,"getPointSpline",function(t,e,n,i){var r,a,o,s,h,l,u,c,d,f,p,g,m,v,y,x,b,M,w=1.5,k=w+1;return this.chart.polar?(a=n.plotX,o=n.plotY,s=e[i-1],h=e[i+1],this.connectEnds&&(s||(s=e[e.length-2]),h||(h=e[1])),s&&h&&(l=s.plotX,u=s.plotY,c=h.plotX,d=h.plotY,f=(w*a+l)/k,p=(w*o+u)/k,g=(w*a+c)/k,m=(w*o+d)/k,v=Math.sqrt(Math.pow(f-a,2)+Math.pow(p-o,2)),y=Math.sqrt(Math.pow(g-a,2)+Math.pow(m-o,2)),x=Math.atan2(p-o,f-a),b=Math.atan2(m-o,g-a),M=Math.PI/2+(x+b)/2,Math.abs(x-M)>Math.PI/2&&(M-=Math.PI),f=a+Math.cos(M)*v,p=o+Math.sin(M)*v,g=a+Math.cos(Math.PI+M)*y,m=o+Math.sin(Math.PI+M)*y,n.rightContX=g,n.rightContY=m),i?(r=["C",s.rightContX||s.plotX,s.rightContY||s.plotY,f||a,p||o,a,o],s.rightContX=s.rightContY=null):r=["M",a,o]):r=t.call(this,e,n,i),r}),h(l,"translate",function(t){var e,n,i=this.chart;if(t.call(this),i.polar&&(this.kdByAngle=i.tooltip&&i.tooltip.shared,!this.preventPostTranslate))for(e=this.points,n=e.length;n--;)this.toXY(e[n])}),h(l,"getGraphPath",function(t,e){var n,r,a=this;if(this.chart.polar){for(e=e||this.points,n=0;n<e.length;n++)if(!e[n].isNull){r=n;break}this.options.connectEnds!==!1&&void 0!==r&&(this.connectEnds=!0,e.splice(e.length,0,e[r])),i(e,function(t){void 0===t.polarPlotY&&a.toXY(t)})}return t.apply(this,[].slice.call(arguments,1))}),h(l,"animate",e),s.column&&(n=s.column.prototype,n.polarArc=function(t,e,n,i){var a=this.xAxis.center,o=this.yAxis.len;return this.chart.renderer.symbols.arc(a[0],a[1],o-e,null,{start:n,end:i,innerR:o-r(t,o)})},h(n,"animate",e),h(n,"translate",function(t){var e,n,i,r,a=this.xAxis,o=a.startAngleRad;if(this.preventPostTranslate=!0,t.call(this),a.isRadial)for(n=this.points,r=n.length;r--;)i=n[r],e=i.barX+o,i.shapeType="path",i.shapeArgs={d:this.polarArc(i.yBottom,i.plotY,e,e+i.pointWidth)},this.toXY(i),i.tooltipPos=[i.plotX,i.plotY],i.ttBelow=i.plotY>a.center[1]}),h(n,"alignDataLabel",function(t,e,n,i,r,a){if(this.chart.polar){var o,s,h=e.rectPlotX/Math.PI*180;null===i.align&&(o=h>20&&160>h?"left":h>200&&340>h?"right":"center",i.align=o),null===i.verticalAlign&&(s=45>h||h>315?"bottom":h>135&&225>h?"top":"middle",i.verticalAlign=s),l.alignDataLabel.call(this,e,n,i,r,a)}else t.call(this,e,n,i,r,a)})),h(u,"getCoordinates",function(t,e){var n=this.chart,r={xAxis:[],yAxis:[]};return n.polar?i(n.axes,function(t){var i=t.isXAxis,a=t.center,o=e.chartX-a[0]-n.plotLeft,s=e.chartY-a[1]-n.plotTop;r[i?"xAxis":"yAxis"].push({axis:t,value:t.translate(i?Math.PI-Math.atan2(o,s):Math.sqrt(Math.pow(o,2)+Math.pow(s,2)),!0)})}):r=t.call(this,e),r})}(t)}),!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){!function(t){"use strict";var e=t.Axis,n=t.each,i=t.pick,r=t.wrap;r(e.prototype,"getSeriesExtremes",function(t){var e,r,a,o=this.isXAxis,s=[];o&&n(this.series,function(t,e){t.useMapGeometry&&(s[e]=t.xData,t.xData=[])}),t.call(this),o&&(e=i(this.dataMin,Number.MAX_VALUE),r=i(this.dataMax,-Number.MAX_VALUE),n(this.series,function(t,n){t.useMapGeometry&&(e=Math.min(e,i(t.minX,e)),r=Math.max(r,i(t.maxX,e)),t.xData=s[n],a=!0)}),a&&(this.dataMin=e,this.dataMax=r))}),r(e.prototype,"setAxisTranslation",function(t){var e,i,r,a,o,s,h=this.chart,l=h.plotWidth/h.plotHeight,u=h.xAxis[0];t.call(this),"yAxis"===this.coll&&void 0!==u.transA&&n(this.series,function(t){t.preserveAspectRatio&&(s=!0)}),s&&(this.transA=u.transA=Math.min(this.transA,u.transA),e=l/((u.max-u.min)/(this.max-this.min)),r=1>e?this:u,i=(r.max-r.min)*r.transA,r.pixelPadding=r.len-i,r.minPixelPadding=r.pixelPadding/2,a=r.fixTo,a&&(o=a[1]-r.toValue(a[0],!0),o*=r.transA,(Math.abs(o)>r.minPixelPadding||r.min===r.dataMin&&r.max===r.dataMax)&&(o=0),r.minPixelPadding-=o))}),r(e.prototype,"render",function(t){t.call(this),this.fixTo=null})}(t),function(t){"use strict";var e,n=t.Axis,i=t.Chart,r=t.color,a=t.each,o=t.extend,s=t.isNumber,h=t.Legend,l=t.LegendSymbolMixin,u=t.noop,c=t.merge,d=t.pick,f=t.wrap;e=t.ColorAxis=function(){this.init.apply(this,arguments)},o(e.prototype,n.prototype),o(e.prototype,{defaultColorAxisOptions:{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify"},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0},keepProps:["legendGroup","legendItem","legendSymbol"].concat(n.prototype.keepProps),init:function(t,e){var i,r="vertical"!==t.options.legend.layout;this.coll="colorAxis",i=c(this.defaultColorAxisOptions,{side:r?2:1,reversed:!r},e,{opposite:!r,showEmpty:!1,title:null}),n.prototype.init.call(this,t,i),e.dataClasses&&this.initDataClasses(e),this.initStops(e),this.horiz=r,this.zoomEnabled=!1,this.defaultLegendLength=200},tweenColors:function(t,e,n){var i,r;return e.rgba.length&&t.rgba.length?(t=t.rgba,e=e.rgba,i=1!==e[3]||1!==t[3],r=(i?"rgba(":"rgb(")+Math.round(e[0]+(t[0]-e[0])*(1-n))+","+Math.round(e[1]+(t[1]-e[1])*(1-n))+","+Math.round(e[2]+(t[2]-e[2])*(1-n))+(i?","+(e[3]+(t[3]-e[3])*(1-n)):"")+")"):r=e.input||"none",r},initDataClasses:function(t){var e,n=this,i=this.chart,o=0,s=i.options.chart.colorCount,h=this.options,l=t.dataClasses.length;this.dataClasses=e=[],this.legendItems=[],a(t.dataClasses,function(t,a){var u;t=c(t),e.push(t),t.color||("category"===h.dataClassColor?(u=i.options.colors,s=u.length,t.color=u[o],t.colorIndex=o,o++,o===s&&(o=0)):t.color=n.tweenColors(r(h.minColor),r(h.maxColor),2>l?.5:a/(l-1)))})},initStops:function(t){this.stops=t.stops||[[0,this.options.minColor],[1,this.options.maxColor]],a(this.stops,function(t){t.color=r(t[1])})},setOptions:function(t){n.prototype.setOptions.call(this,t),this.options.crosshair=this.options.marker},setAxisSize:function(){var t,e,n,i,r=this.legendSymbol,a=this.chart,o=a.options.legend||{};r?(this.left=t=r.attr("x"),this.top=e=r.attr("y"),this.width=n=r.attr("width"),this.height=i=r.attr("height"),this.right=a.chartWidth-t-n,this.bottom=a.chartHeight-e-i,this.len=this.horiz?n:i,this.pos=this.horiz?t:e):this.len=(this.horiz?o.symbolWidth:o.symbolHeight)||this.defaultLegendLength},toColor:function(t,e){var n,i,r,a,o,s,h=this.stops,l=this.dataClasses;if(l){for(s=l.length;s--;)if(o=l[s],i=o.from,r=o.to,(void 0===i||t>=i)&&(void 0===r||r>=t)){a=o.color,e&&(e.dataClass=s,e.colorIndex=o.colorIndex);break}}else{for(this.isLog&&(t=this.val2lin(t)),n=1-(this.max-t)/(this.max-this.min||1),s=h.length;s--&&!(n>h[s][0]););i=h[s]||h[s+1],r=h[s+1]||i,n=1-(r[0]-n)/(r[0]-i[0]||1),a=this.tweenColors(i.color,r.color,n)}return a},getOffset:function(){var t=this.legendGroup,e=this.chart.axisOffset[this.side];t&&(this.axisParent=t,n.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=e)},setLegendColor:function(){var t,e=this.horiz,n=this.options,i=this.reversed,r=i?1:0,a=i?0:1;t=e?[r,0,a,0]:[0,a,0,r],this.legendColor={linearGradient:{x1:t[0],y1:t[1],x2:t[2],y2:t[3]},stops:n.stops||[[0,n.minColor],[1,n.maxColor]]}},drawLegendSymbol:function(t,e){var n=t.padding,i=t.options,r=this.horiz,a=d(i.symbolWidth,r?this.defaultLegendLength:12),o=d(i.symbolHeight,r?12:this.defaultLegendLength),s=d(i.labelPadding,r?16:30),h=d(i.itemDistance,10);this.setLegendColor(),e.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,a,o).attr({zIndex:1}).add(e.legendGroup),this.legendItemWidth=a+n+(r?h:s),this.legendItemHeight=o+n+(r?s:0)},setState:u,visible:!0,setVisible:u,getSeriesExtremes:function(){var t;this.series.length&&(t=this.series[0],this.dataMin=t.valueMin,this.dataMax=t.valueMax)},drawCrosshair:function(t,e){var i,r=e&&e.plotX,a=e&&e.plotY,o=this.pos,s=this.len;e&&(i=this.toPixels(e[e.series.colorKey]),o>i?i=o-2:i>o+s&&(i=o+s+2),e.plotX=i,e.plotY=this.len-i,n.prototype.drawCrosshair.call(this,t,e),e.plotX=r,e.plotY=a,this.cross&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.attr({fill:this.crosshair.color})))},getPlotLinePath:function(t,e,i,r,a){return s(a)?this.horiz?["M",a-4,this.top-6,"L",a+4,this.top-6,a,this.top,"Z"]:["M",this.left,a,"L",this.left-6,a+6,this.left-6,a-6,"Z"]:n.prototype.getPlotLinePath.call(this,t,e,i,r)},update:function(t,e){var i=this.chart,r=i.legend;a(this.series,function(t){t.isDirtyData=!0}),t.dataClasses&&r.allItems&&(a(r.allItems,function(t){t.isDataClass&&t.legendGroup.destroy()}),i.isDirtyLegend=!0),i.options[this.coll]=c(this.userOptions,t),n.prototype.update.call(this,t,e),this.legendItem&&(this.setLegendColor(),r.colorizeItem(this,!0))},getDataClassLegendSymbols:function(){var e,n=this,i=this.chart,r=this.legendItems,s=i.options.legend,h=s.valueDecimals,c=s.valueSuffix||"";return r.length||a(this.dataClasses,function(s,d){var f=!0,p=s.from,g=s.to;e="",void 0===p?e="< ":void 0===g&&(e="> "),void 0!==p&&(e+=t.numberFormat(p,h)+c),void 0!==p&&void 0!==g&&(e+=" - "),void 0!==g&&(e+=t.numberFormat(g,h)+c),r.push(o({chart:i,name:e,options:{},drawLegendSymbol:l.drawRectangle,visible:!0,setState:u,isDataClass:!0,setVisible:function(){f=this.visible=!f,a(n.series,function(t){a(t.points,function(t){t.dataClass===d&&t.setVisible(f)})}),i.legend.colorizeItem(this,f)}},s))}),r},name:""}),a(["fill","stroke"],function(n){t.Fx.prototype[n+"Setter"]=function(){this.elem.attr(n,e.prototype.tweenColors(r(this.start),r(this.end),this.pos))}}),f(i.prototype,"getAxes",function(t){var n=this.options,i=n.colorAxis;t.call(this),this.colorAxis=[],i&&new e(this,i)}),f(h.prototype,"getAllItems",function(t){var e=[],n=this.chart.colorAxis[0];return n&&n.options&&(n.options.showInLegend&&(n.options.dataClasses?e=e.concat(n.getDataClassLegendSymbols()):e.push(n)),a(n.series,function(t){t.options.showInLegend=!1})),e.concat(t.call(this))}),f(h.prototype,"colorizeItem",function(t,e,n){t.call(this,e,n),n&&e.legendColor&&e.legendSymbol.attr({fill:e.legendColor})})}(t),function(t){"use strict";var e=t.defined,n=t.each,i=t.noop,r=t.seriesTypes;t.colorPointMixin={isValid:function(){return null!==this.value},setVisible:function(t){var e=this,i=t?"show":"hide";n(["graphic","dataLabel"],function(t){e[t]&&e[t][i]()})}},t.colorSeriesMixin={pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:i,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:r.column.prototype.pointAttribs,translateColors:function(){var t=this,e=this.options.nullColor,i=this.colorAxis,r=this.colorKey;n(this.data,function(n){var a,o=n[r];a=n.options.color||(n.isNull?e:i&&void 0!==o?i.toColor(o,n):n.color||t.color),a&&(n.color=a)})},colorAttribs:function(t){var n={};return e(t.color)&&(n[this.colorProp||"fill"]=t.color),n}}}(t),function(t){"use strict";function e(t){t&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)}var n=t.addEvent,i=t.Chart,r=t.doc,a=t.each,o=t.extend,s=t.merge,h=t.pick,l=t.wrap;o(i.prototype,{renderMapNavigation:function(){var t,i,r,a,l,u,c,d=this,f=this.options.mapNavigation,p=f.buttons,g=function(t){this.handler.call(d,t),e(t)};if(h(f.enableButtons,f.enabled)&&!d.renderer.forExport){d.mapNavButtons=[];for(t in p)p.hasOwnProperty(t)&&(r=s(f.buttonOptions,p[t]),a=r.theme,a.style=s(r.theme.style,r.style),l=a.states,u=l&&l.hover,c=l&&l.select,i=d.renderer.button(r.text,0,0,g,a,u,c,0,"zoomIn"===t?"topbutton":"bottombutton").addClass("highcharts-map-navigation").attr({width:r.width,height:r.height,title:d.options.lang[t],padding:r.padding,zIndex:5}).add(),i.handler=r.onclick,i.align(o(r,{width:i.width,height:2*i.height}),null,r.alignTo),n(i.element,"dblclick",e),d.mapNavButtons.push(i))}},fitToBox:function(t,e){return a([["x","width"],["y","height"]],function(n){var i=n[0],r=n[1];t[i]+t[r]>e[i]+e[r]&&(t[r]>e[r]?(t[r]=e[r],t[i]=e[i]):t[i]=e[i]+e[r]-t[r]),t[r]>e[r]&&(t[r]=e[r]),t[i]<e[i]&&(t[i]=e[i])}),t},mapZoom:function(t,e,n,i,r){var a=this,o=a.xAxis[0],s=o.max-o.min,l=h(e,o.min+s/2),u=s*t,c=a.yAxis[0],d=c.max-c.min,f=h(n,c.min+d/2),p=d*t,g=i?(i-o.pos)/o.len:.5,m=r?(r-c.pos)/c.len:.5,v=l-u*g,y=f-p*m,x=a.fitToBox({x:v,y:y,width:u,height:p},{x:o.dataMin,y:c.dataMin,width:o.dataMax-o.dataMin,height:c.dataMax-c.dataMin}),b=x.x<=o.dataMin&&x.width>=o.dataMax-o.dataMin&&x.y<=c.dataMin&&x.height>=c.dataMax-c.dataMin;i&&(o.fixTo=[i-o.pos,e]),r&&(c.fixTo=[r-c.pos,n]),void 0===t||b?(o.setExtremes(void 0,void 0,!1),c.setExtremes(void 0,void 0,!1)):(o.setExtremes(x.x,x.x+x.width,!1),c.setExtremes(x.y,x.y+x.height,!1)),a.redraw()}}),l(i.prototype,"render",function(t){var i=this,a=i.options.mapNavigation;i.renderMapNavigation(),t.call(i),(h(a.enableDoubleClickZoom,a.enabled)||a.enableDoubleClickZoomTo)&&n(i.container,"dblclick",function(t){i.pointer.onContainerDblClick(t)}),h(a.enableMouseWheelZoom,a.enabled)&&n(i.container,void 0===r.onmousewheel?"DOMMouseScroll":"mousewheel",function(t){return i.pointer.onContainerMouseWheel(t),e(t),!1})})}(t),function(t){"use strict";var e=t.extend,n=t.pick,i=t.Pointer,r=t.wrap;e(i.prototype,{onContainerDblClick:function(t){var e=this.chart;t=this.normalize(t),e.options.mapNavigation.enableDoubleClickZoomTo?e.pointer.inClass(t.target,"highcharts-tracker")&&e.hoverPoint&&e.hoverPoint.zoomTo():e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapZoom(.5,e.xAxis[0].toValue(t.chartX),e.yAxis[0].toValue(t.chartY),t.chartX,t.chartY)},onContainerMouseWheel:function(t){var e,n=this.chart;t=this.normalize(t),e=t.detail||-(t.wheelDelta/120),n.isInsidePlot(t.chartX-n.plotLeft,t.chartY-n.plotTop)&&n.mapZoom(Math.pow(n.options.mapNavigation.mouseWheelSensitivity,e),n.xAxis[0].toValue(t.chartX),n.yAxis[0].toValue(t.chartY),t.chartX,t.chartY)}}),r(i.prototype,"zoomOption",function(t){var e=this.chart.options.mapNavigation;n(e.enableTouchZoom,e.enabled)&&(this.chart.options.chart.pinchType="xy"),t.apply(this,[].slice.call(arguments,1))}),r(i.prototype,"pinchTranslate",function(t,e,n,i,r,a,o){var s;t.call(this,e,n,i,r,a,o),"map"===this.chart.options.chart.type&&this.hasZoom&&(s=i.scaleX>i.scaleY,this.pinchTranslateDirection(!s,e,n,i,r,a,o,s?i.scaleX:i.scaleY))})}(t),function(t){"use strict";var e=t.color,n=t.ColorAxis,i=t.colorPointMixin,r=t.colorSeriesMixin,a=t.doc,o=t.each,s=t.extend,h=t.isNumber,l=t.LegendSymbolMixin,u=t.map,c=t.merge,d=t.noop,f=t.pick,p=t.isArray,g=t.Point,m=t.Series,v=t.seriesType,y=t.seriesTypes,x=t.splat,b=void 0!==a.documentElement.style.vectorEffect;v("map","scatter",{allAreas:!0,animation:!1,nullColor:"#f7f7f7",borderColor:"#cccccc",borderWidth:1,marker:null,stickyTracking:!1,joinBy:"hc-key",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},turboThreshold:0,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{brightness:.2,halo:null},select:{color:"#cccccc"}}},c(r,{type:"map",supportsDrilldown:!0,getExtremesFromAll:!0,useMapGeometry:!0,forceDL:!0,searchPoint:d,directTouch:!0,preserveAspectRatio:!0,pointArrayMap:["value"],getBox:function(e){var n,i=Number.MAX_VALUE,r=-i,a=i,s=-i,l=i,u=i,c=this.xAxis,d=this.yAxis;o(e||[],function(e){if(e.path){"string"==typeof e.path&&(e.path=t.splitPath(e.path));var o=e.path||[],c=o.length,d=!1,p=-i,g=i,m=-i,v=i,y=e.properties;if(!e._foundBox){for(;c--;)h(o[c])&&(d?(p=Math.max(p,o[c]),g=Math.min(g,o[c])):(m=Math.max(m,o[c]),v=Math.min(v,o[c])),d=!d);e._midX=g+(p-g)*(e.middleX||y&&y["hc-middle-x"]||.5),e._midY=v+(m-v)*(e.middleY||y&&y["hc-middle-y"]||.5),e._maxX=p,e._minX=g,e._maxY=m,e._minY=v,e.labelrank=f(e.labelrank,(p-g)*(m-v)),e._foundBox=!0}r=Math.max(r,e._maxX),a=Math.min(a,e._minX),s=Math.max(s,e._maxY),l=Math.min(l,e._minY),u=Math.min(e._maxX-e._minX,e._maxY-e._minY,u),n=!0}}),n&&(this.minY=Math.min(l,f(this.minY,i)),this.maxY=Math.max(s,f(this.maxY,-i)),this.minX=Math.min(a,f(this.minX,i)),this.maxX=Math.max(r,f(this.maxX,-i)),c&&void 0===c.options.minRange&&(c.minRange=Math.min(5*u,(this.maxX-this.minX)/5,c.minRange||i)),d&&void 0===d.options.minRange&&(d.minRange=Math.min(5*u,(this.maxY-this.minY)/5,d.minRange||i)))},getExtremes:function(){m.prototype.getExtremes.call(this,this.valueData),this.chart.hasRendered&&this.isDirtyData&&this.getBox(this.options.data),this.valueMin=this.dataMin,this.valueMax=this.dataMax,this.dataMin=this.minY,this.dataMax=this.maxY},translatePath:function(t){var e,n=this,i=!1,r=n.xAxis,a=n.yAxis,o=r.min,s=r.transA,l=r.minPixelPadding,u=a.min,c=a.transA,d=a.minPixelPadding,f=[];if(t)for(e=t.length;e--;)h(t[e])?(f[e]=i?(t[e]-o)*s+l:(t[e]-u)*c+d,i=!i):f[e]=t[e];return f},setData:function(e,n,i,r){var a,s,l,d,f=this.options,g=this.chart.options.chart,v=g&&g.map,y=f.mapData,b=f.joinBy,M=null===b,w=f.keys||this.pointArrayMap,k=[],S={},C=this.chart.mapTransforms;if(!y&&v&&(y="string"==typeof v?t.maps[v]:v),M&&(b="_i"),b=this.joinBy=x(b),b[1]||(b[1]=b[0]),e&&o(e,function(t,n){var i=0;if(h(t))e[n]={value:t};else if(p(t)){e[n]={},!f.keys&&t.length>w.length&&"string"==typeof t[0]&&(e[n]["hc-key"]=t[0],++i);for(var r=0;r<w.length;++r,++i)w[r]&&(e[n][w[r]]=t[i])}M&&(e[n]._i=n)}),this.getBox(e),this.chart.mapTransforms=C=g&&g.mapTransforms||y&&y["hc-transform"]||C,C)for(s in C)C.hasOwnProperty(s)&&s.rotation&&(s.cosAngle=Math.cos(s.rotation),s.sinAngle=Math.sin(s.rotation));if(y){for("FeatureCollection"===y.type&&(this.mapTitle=y.title,y=t.geojson(y,this.type,this)),this.mapData=y,this.mapMap={},d=0;d<y.length;d++)a=y[d],l=a.properties,a._i=d,b[0]&&l&&l[b[0]]&&(a[b[0]]=l[b[0]]),S[a[b[0]]]=a;this.mapMap=S,e&&b[1]&&o(e,function(t){S[t[b[1]]]&&k.push(S[t[b[1]]])}),f.allAreas?(this.getBox(y),e=e||[],b[1]&&o(e,function(t){k.push(t[b[1]])}),k="|"+u(k,function(t){return t&&t[b[0]]}).join("|")+"|",o(y,function(t){b[0]&&-1!==k.indexOf("|"+t[b[0]]+"|")||(e.push(c(t,{value:null})),r=!1)})):this.getBox(k)}m.prototype.setData.call(this,e,n,i,r)},drawGraph:d,drawDataLabels:d,doFullTranslate:function(){return this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML||!this.baseTrans},translate:function(){var t=this,e=t.xAxis,n=t.yAxis,i=t.doFullTranslate();t.generatePoints(),o(t.data,function(r){r.plotX=e.toPixels(r._midX,!0),r.plotY=n.toPixels(r._midY,!0),i&&(r.shapeType="path",r.shapeArgs={d:t.translatePath(r.path)})}),t.translateColors()},pointAttribs:function(t,e){var n=y.column.prototype.pointAttribs.call(this,t,e);return t.isFading&&delete n.fill,b?n["vector-effect"]="non-scaling-stroke":n["stroke-width"]="inherit",n},drawPoints:function(){var t,e,n,i,r,a,s,h,l,u=this,c=u.xAxis,d=u.yAxis,f=u.group,p=u.chart,g=p.renderer,m=this.baseTrans;u.transformGroup||(u.transformGroup=g.g().attr({scaleX:1,scaleY:1}).add(f),u.transformGroup.survive=!0),u.doFullTranslate()?(p.hasRendered&&o(u.points,function(t){t.shapeArgs&&(t.shapeArgs.fill=u.pointAttribs(t,t.state).fill)}),u.group=u.transformGroup,y.column.prototype.drawPoints.apply(u),u.group=f,o(u.points,function(t){t.graphic&&(t.name&&t.graphic.addClass("highcharts-name-"+t.name.replace(/ /g,"-").toLowerCase()),t.properties&&t.properties["hc-key"]&&t.graphic.addClass("highcharts-key-"+t.properties["hc-key"].toLowerCase()))}),this.baseTrans={originX:c.min-c.minPixelPadding/c.transA,originY:d.min-d.minPixelPadding/d.transA+(d.reversed?0:d.len/d.transA),transAX:c.transA,transAY:d.transA},this.transformGroup.animate({translateX:0,translateY:0,scaleX:1,scaleY:1})):(t=c.transA/m.transAX,e=d.transA/m.transAY,n=c.toPixels(m.originX,!0),i=d.toPixels(m.originY,!0),t>.99&&1.01>t&&e>.99&&1.01>e&&(t=1,e=1,n=Math.round(n),i=Math.round(i)),r=this.transformGroup,p.renderer.globalAnimation?(a=r.attr("translateX"),s=r.attr("translateY"),h=r.attr("scaleX"),l=r.attr("scaleY"),r.attr({animator:0}).animate({animator:1},{step:function(o,u){r.attr({translateX:a+(n-a)*u.pos,translateY:s+(i-s)*u.pos,scaleX:h+(t-h)*u.pos,scaleY:l+(e-l)*u.pos})}})):r.attr({translateX:n,translateY:i,scaleX:t,scaleY:e})),b||u.group.element.setAttribute("stroke-width",u.options[u.pointAttrToOptions&&u.pointAttrToOptions["stroke-width"]||"borderWidth"]/(t||1)),this.drawMapDataLabels()},drawMapDataLabels:function(){m.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},render:function(){var t=this,e=m.prototype.render;t.chart.renderer.isVML&&t.data.length>3e3?setTimeout(function(){e.call(t)}):e.call(t)},animate:function(t){var e=this.chart,n=this.options.animation,i=this.group,r=this.xAxis,a=this.yAxis,o=r.pos,s=a.pos;e.renderer.isSVG&&(n===!0&&(n={duration:1e3}),t?i.attr({translateX:o+r.len/2,translateY:s+a.len/2,scaleX:.001,scaleY:.001}):(i.animate({translateX:o,translateY:s,scaleX:1,scaleY:1},n),this.animate=null))},animateDrilldown:function(t){var e,n=this.chart.plotBox,i=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],r=i.bBox,a=this.chart.options.drilldown.animation;t||(e=Math.min(r.width/n.width,r.height/n.height),i.shapeArgs={scaleX:e,scaleY:e,translateX:r.x,translateY:r.y},o(this.points,function(t){t.graphic&&t.graphic.attr(i.shapeArgs).animate({scaleX:1,scaleY:1,translateX:0,translateY:0},a)}),this.animate=null)},drawLegendSymbol:l.drawRectangle,animateDrillupFrom:function(t){y.column.prototype.animateDrillupFrom.call(this,t)},animateDrillupTo:function(t){y.column.prototype.animateDrillupTo.call(this,t)}}),s({applyOptions:function(t,e){var n,i=g.prototype.applyOptions.call(this,t,e),r=this.series,a=r.joinBy;return r.mapData&&(n=void 0!==i[a[1]]&&r.mapMap[i[a[1]]],n?(r.xyFromShape&&(i.x=n._midX,i.y=n._midY),s(i,n)):i.value=i.value||null),i},onMouseOver:function(t){clearTimeout(this.colorInterval),null!==this.value?g.prototype.onMouseOver.call(this,t):this.series.onMouseOut(t)},onMouseOut:function(){var t=this,i=+new Date,r=e(this.series.pointAttribs(t).fill),a=e(this.series.pointAttribs(t,"hover").fill),o=t.series.options.states.normal.animation,s=o&&(o.duration||500);s&&4===r.rgba.length&&4===a.rgba.length&&"select"!==t.state&&(clearTimeout(t.colorInterval),t.colorInterval=setInterval(function(){var e=(new Date-i)/s,o=t.graphic;e>1&&(e=1),o&&o.attr("fill",n.prototype.tweenColors.call(0,a,r,e)),e>=1&&clearTimeout(t.colorInterval)},13)),t.isFading=!0,g.prototype.onMouseOut.call(t),t.isFading=null},zoomTo:function(){var t=this,e=t.series;e.xAxis.setExtremes(t._minX,t._maxX,!1),e.yAxis.setExtremes(t._minY,t._maxY,!1),e.chart.redraw()}},i))}(t),function(t){"use strict";var e=t.seriesType,n=t.seriesTypes;e("mapline","map",{lineWidth:1,fillColor:"none"},{type:"mapline",colorProp:"stroke",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointAttribs:function(t,e){var i=n.map.prototype.pointAttribs.call(this,t,e);return i.fill=this.options.fillColor,i},drawLegendSymbol:n.line.prototype.drawLegendSymbol})}(t),function(t){"use strict";var e=t.merge,n=t.Point,i=t.seriesType;i("mappoint","scatter",{dataLabels:{enabled:!0,formatter:function(){return this.point.name},crop:!1,defer:!1,overflow:!1,style:{color:"#000000"}}},{type:"mappoint",forceDL:!0},{applyOptions:function(t,i){var r=void 0!==t.lat&&void 0!==t.lon?e(t,this.series.chart.fromLatLonToPoint(t)):t;return n.prototype.applyOptions.call(this,r,i)}})}(t),function(t){"use strict";var e=t.merge,n=t.Point,i=t.seriesType,r=t.seriesTypes;r.bubble&&i("mapbubble","bubble",{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}},{xyFromShape:!0,type:"mapbubble",pointArrayMap:["z"],getMapData:r.map.prototype.getMapData,getBox:r.map.prototype.getBox,setData:r.map.prototype.setData},{applyOptions:function(t,i){var a;return a=t&&void 0!==t.lat&&void 0!==t.lon?n.prototype.applyOptions.call(this,e(t,this.series.chart.fromLatLonToPoint(t)),i):r.map.prototype.pointClass.prototype.applyOptions.call(this,t,i)},ttBelow:!1})}(t),function(t){"use strict";var e=t.colorPointMixin,n=t.colorSeriesMixin,i=t.each,r=t.LegendSymbolMixin,a=t.merge,o=t.noop,s=t.pick,h=t.Series,l=t.seriesType,u=t.seriesTypes;l("heatmap","scatter",{animation:!1,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:null,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{halo:!1,brightness:.2}}},a(n,{pointArrayMap:["y","value"],hasPointSpecificOptions:!0,supportsDrilldown:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){var t;u.scatter.prototype.init.apply(this,arguments),t=this.options,t.pointRange=s(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1},translate:function(){var t=this,e=t.options,n=t.xAxis,r=t.yAxis,a=function(t,e,n){return Math.min(Math.max(e,t),n)};t.generatePoints(),i(t.points,function(t){var i=(e.colsize||1)/2,o=(e.rowsize||1)/2,s=a(Math.round(n.len-n.translate(t.x-i,0,1,0,1)),-n.len,2*n.len),h=a(Math.round(n.len-n.translate(t.x+i,0,1,0,1)),-n.len,2*n.len),l=a(Math.round(r.translate(t.y-o,0,1,0,1)),-r.len,2*r.len),u=a(Math.round(r.translate(t.y+o,0,1,0,1)),-r.len,2*r.len);t.plotX=t.clientX=(s+h)/2,t.plotY=(l+u)/2,t.shapeType="rect",t.shapeArgs={x:Math.min(s,h),y:Math.min(l,u),width:Math.abs(h-s),height:Math.abs(u-l)}}),t.translateColors()},drawPoints:function(){u.column.prototype.drawPoints.call(this),i(this.points,function(t){t.graphic.attr(this.colorAttribs(t,t.state))},this)},animate:o,getBox:o,drawLegendSymbol:r.drawRectangle,alignDataLabel:u.column.prototype.alignDataLabel,getExtremes:function(){h.prototype.getExtremes.call(this,this.valueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,h.prototype.getExtremes.call(this)}}),e)}(t),function(t){"use strict";function e(t,e){var n,i,r,a,o=!1,s=t.x,h=t.y;for(n=0,i=e.length-1;n<e.length;i=n++)r=e[n][1]>h,a=e[i][1]>h,r!==a&&s<(e[i][0]-e[n][0])*(h-e[n][1])/(e[i][1]-e[n][1])+e[n][0]&&(o=!o);return o}var n=t.Chart,i=t.each,r=t.extend,a=t.error,o=t.format,s=t.merge,h=t.win,l=t.wrap;n.prototype.transformFromLatLon=function(t,e){if(void 0===h.proj4)return a(21),{x:0,y:null};var n=h.proj4(e.crs,[t.lon,t.lat]),i=e.cosAngle||e.rotation&&Math.cos(e.rotation),r=e.sinAngle||e.rotation&&Math.sin(e.rotation),o=e.rotation?[n[0]*i+n[1]*r,-n[0]*r+n[1]*i]:n;return{x:((o[0]-(e.xoffset||0))*(e.scale||1)+(e.xpan||0))*(e.jsonres||1)+(e.jsonmarginX||0),y:(((e.yoffset||0)-o[1])*(e.scale||1)+(e.ypan||0))*(e.jsonres||1)-(e.jsonmarginY||0)}},n.prototype.transformToLatLon=function(t,e){if(void 0===h.proj4)return void a(21);var n={x:((t.x-(e.jsonmarginX||0))/(e.jsonres||1)-(e.xpan||0))/(e.scale||1)+(e.xoffset||0),y:((-t.y-(e.jsonmarginY||0))/(e.jsonres||1)+(e.ypan||0))/(e.scale||1)+(e.yoffset||0)},i=e.cosAngle||e.rotation&&Math.cos(e.rotation),r=e.sinAngle||e.rotation&&Math.sin(e.rotation),o=h.proj4(e.crs,"WGS84",e.rotation?{x:n.x*i+n.y*-r,y:n.x*r+n.y*i}:n);return{lat:o.y,lon:o.x}},n.prototype.fromPointToLatLon=function(t){var n,i=this.mapTransforms;if(!i)return void a(22);for(n in i)if(i.hasOwnProperty(n)&&i[n].hitZone&&e({x:t.x,y:-t.y},i[n].hitZone.coordinates[0]))return this.transformToLatLon(t,i[n]);return this.transformToLatLon(t,i["default"])},n.prototype.fromLatLonToPoint=function(t){var n,i,r=this.mapTransforms;if(!r)return a(22),{x:0,y:null};for(n in r)if(r.hasOwnProperty(n)&&r[n].hitZone&&(i=this.transformFromLatLon(t,r[n]),e({x:i.x,y:-i.y},r[n].hitZone.coordinates[0])))return i;return this.transformFromLatLon(t,r["default"])},t.geojson=function(t,e,n){var a=[],s=[],h=function(t){var e,n=t.length;for(s.push("M"),e=0;n>e;e++)1===e&&s.push("L"),s.push(t[e][0],-t[e][1])};return e=e||"map",i(t.features,function(t){var n,o=t.geometry,l=o.type,u=o.coordinates,c=t.properties;s=[],"map"===e||"mapbubble"===e?("Polygon"===l?(i(u,h),s.push("Z")):"MultiPolygon"===l&&(i(u,function(t){i(t,h)}),s.push("Z")),s.length&&(n={path:s})):"mapline"===e?("LineString"===l?h(u):"MultiLineString"===l&&i(u,h),s.length&&(n={path:s})):"mappoint"===e&&"Point"===l&&(n={x:u[0],y:-u[1]}),n&&a.push(r(n,{name:c.name||c.NAME,properties:c}))}),n&&t.copyrightShort&&(n.chart.mapCredits=o(n.chart.options.credits.mapText,{geojson:t}),n.chart.mapCreditsFull=o(n.chart.options.credits.mapTextFull,{geojson:t})),a},l(n.prototype,"addCredits",function(t,e){e=s(!0,this.options.credits,e),this.mapCredits&&(e.href=null),t.call(this,e),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})})}(t),function(t){"use strict";function e(t,e,n,i,r,a,o,s){return["M",t+r,e,"L",t+n-a,e,"C",t+n-a/2,e,t+n,e+a/2,t+n,e+a,"L",t+n,e+i-o,"C",t+n,e+i-o/2,t+n-o/2,e+i,t+n-o,e+i,"L",t+s,e+i,"C",t+s/2,e+i,t,e+i-s/2,t,e+i-s,"L",t,e+r,"C",t,e+r/2,t+r/2,e,t+r,e,"Z"]}var n=t.Chart,i=t.defaultOptions,r=t.each,a=t.extend,o=t.merge,s=t.pick,h=t.Renderer,l=t.SVGRenderer,u=t.VMLRenderer;a(i.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),i.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1},t.splitPath=function(t){var e;for(t=t.replace(/([A-Za-z])/g," $1 "),t=t.replace(/^\s*/,"").replace(/\s*$/,""),t=t.split(/[ ,]+/),e=0;e<t.length;e++)/[a-zA-Z]/.test(t[e])||(t[e]=parseFloat(t[e]));return t},t.maps={},l.prototype.symbols.topbutton=function(t,n,i,r,a){return e(t-1,n-1,i,r,a.r,a.r,0,0)},l.prototype.symbols.bottombutton=function(t,n,i,r,a){return e(t-1,n-1,i,r,0,0,a.r,a.r)},h===u&&r(["topbutton","bottombutton"],function(t){u.prototype.symbols[t]=l.prototype.symbols[t]}),t.Map=t.mapChart=function(e,i,r){var a,h="string"==typeof e||e.nodeName,l=arguments[h?1:0],u={endOnTick:!1,visible:!1,minPadding:0,maxPadding:0,startOnTick:!1},c=t.getOptions().credits;return a=l.series,l.series=null,l=o({chart:{panning:"xy",type:"map"},credits:{mapText:s(c.mapText,'  <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:s(c.mapTextFull,"{geojson.copyright}")},tooltip:{followTouchMove:!1},xAxis:u,yAxis:[o(u,{reversed:!0})]},l,{chart:{inverted:!1,alignTicks:!1}}),l.series=a,h?new n(e,l,r):new n(l,i)}}(t)}),!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){!function(t){"use strict";var e,n=t.pInt,i=t.pick,r=t.each,a=t.isNumber;e={initDataClasses:function(e){var n,i=this,a=this.chart,o=0,s=this.options;this.dataClasses=n=[],r(e.dataClasses,function(r,h){var l;r=t.merge(r),n.push(r),r.color||("category"===s.dataClassColor?(l=a.options.colors,r.color=l[o++],o===l.length&&(o=0)):r.color=i.tweenColors(t.color(s.minColor),t.color(s.maxColor),h/(e.dataClasses.length-1)))})},initStops:function(e){this.stops=e.stops||[[0,this.options.minColor],[1,this.options.maxColor]],r(this.stops,function(e){e.color=t.color(e[1])})},toColor:function(t,e){var n,i,r,a,o,s,h=this.stops,l=this.dataClasses;if(l){for(s=l.length;s--;)if(o=l[s],i=o.from,r=o.to,(void 0===i||t>=i)&&(void 0===r||r>=t)){a=o.color,e&&(e.dataClass=s);break}}else{for(this.isLog&&(t=this.val2lin(t)),n=1-(this.max-t)/(this.max-this.min),s=h.length;s--&&!(n>h[s][0]););i=h[s]||h[s+1],r=h[s+1]||i,n=1-(r[0]-n)/(r[0]-i[0]||1),a=this.tweenColors(i.color,r.color,n)}return a},tweenColors:function(t,e,n){var i,r;return e.rgba.length&&t.rgba.length?(t=t.rgba,e=e.rgba,i=1!==e[3]||1!==t[3],r=(i?"rgba(":"rgb(")+Math.round(e[0]+(t[0]-e[0])*(1-n))+","+Math.round(e[1]+(t[1]-e[1])*(1-n))+","+Math.round(e[2]+(t[2]-e[2])*(1-n))+(i?","+(e[3]+(t[3]-e[3])*(1-n)):"")+")"):r=e.input||"none",r}},r(["fill","stroke"],function(n){t.Fx.prototype[n+"Setter"]=function(){this.elem.attr(n,e.tweenColors(t.color(this.start),t.color(this.end),this.pos))}}),t.seriesType("solidgauge","gauge",{colorByPoint:!0},{translate:function(){var n=this.yAxis;t.extend(n,e),!n.dataClasses&&n.options.dataClasses&&n.initDataClasses(n.options),n.initStops(n.options),t.seriesTypes.gauge.prototype.translate.call(this)
},drawPoints:function(){var t,e=this,o=e.yAxis,s=o.center,h=e.options,l=e.chart.renderer,u=h.overshoot,c=a(u)?u/180*Math.PI:0;a(h.threshold)&&(t=o.startAngleRad+o.translate(h.threshold,null,null,null,!0)),this.thresholdAngleRad=i(t,o.startAngleRad),r(e.points,function(t){var r,a,u,d,f=t.graphic,p=o.startAngleRad+o.translate(t.y,null,null,null,!0),g=n(i(t.options.radius,h.radius,100))*s[2]/200,m=n(i(t.options.innerRadius,h.innerRadius,60))*s[2]/200,v=o.toColor(t.y,t),y=Math.min(o.startAngleRad,o.endAngleRad),x=Math.max(o.startAngleRad,o.endAngleRad);"none"===v&&(v=t.color||e.color||"none"),"none"!==v&&(t.color=v),p=Math.max(y-c,Math.min(x+c,p)),h.wrap===!1&&(p=Math.max(y,Math.min(x,p))),u=Math.min(p,e.thresholdAngleRad),d=Math.max(p,e.thresholdAngleRad),d-u>2*Math.PI&&(d=u+2*Math.PI),t.shapeArgs=r={x:s[0],y:s[1],r:g,innerR:m,start:u,end:d,fill:v},t.startR=g,f?(a=r.d,f.animate(r),a&&(r.d=a)):(t.graphic=l.arc(r).addClass("highcharts-point").attr({fill:v,"sweep-flag":0}).add(e.group),"square"!==h.linecap&&t.graphic.attr({"stroke-linecap":"round","stroke-linejoin":"round"}),t.graphic.attr({stroke:h.borderColor||"none","stroke-width":h.borderWidth||0}))})},animate:function(e){e||(this.startAngleRad=this.thresholdAngleRad,t.seriesTypes.pie.prototype.animate.call(this,e))}})}(t)}),!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){"use strict";function e(t){return JSON.parse(JSON.stringify(t))}function n(t,n){return this.userOptions=e(t),this.name=t.name||t,this.parent=n,this}function i(t){for(var e=t.length,n=0;e--;)n+=t[e];return n}function r(t,e,i){for(t.unshift(new n(e,i));i;)i.leaves=i.leaves?i.leaves+1:1,i=i.parent}function a(t,e,n,i,o){var s,h=t.length;for(o=o?o:0,n.depth=n.depth?n.depth:0;h--;)s=t[h],s.categories?(i&&(s.parent=i),a(s.categories,e,n,s,o+1)):r(e,s,i);n.depth=d(n.depth,o)}function o(t,e,n){e[0]===e[2]&&(e[0]=e[2]=u(e[0])-n%2/2),e[1]===e[3]&&(e[1]=e[3]=u(e[1])+n%2/2),t.push("M",e[0],e[1],"L",e[2],e[3])}function s(t,e){return t.getPosition(t.axis.horiz,e,t.axis.tickmarkOffset)}function h(t,e,n){for(var i,r=t.length;r--;)i=t[r][e],i&&h(i,e,n),n(t[r])}var l=void 0,u=Math.round,c=Math.min,d=Math.max,f=t.merge,p=t.pick,g=t.each,m=window.HighchartsAdapter&&window.HighchartsAdapter.inArray||t.inArray,v=t.Axis.prototype,y=t.Tick.prototype,x=v.init,b=v.render,M=v.setCategories,w=y.getLabelSize,k=y.addLabel,S=y.destroy,C=y.render;n.prototype.toString=function(){for(var t=[],e=this;e;)t.push(e.name),e=e.parent;return t.join(", ")},v.init=function(t,e){x.call(this,t,e),"object"==typeof e&&e.categories&&this.setupGroups(e)},v.setupGroups=function(t){var n,i=[],r={};n=e(t.categories),a(n,i,r),this.categoriesTree=n,this.categories=i,this.isGrouped=0!==r.depth,this.labelsDepth=r.depth,this.labelsSizes=[],this.labelsGridPath=[],this.tickLength=t.tickLength||this.tickLength||null,this.tickWidth=p(t.tickWidth,this.isXAxis?1:0),this.directionFactor=[-1,1,1,-1][this.side],this.options.lineWidth=p(t.lineWidth,1)},v.render=function(){if(this.isGrouped&&(this.labelsGridPath=[]),this.originalTickLength===l&&(this.originalTickLength=this.options.tickLength),this.options.tickLength=this.isGrouped?.001:this.originalTickLength,b.call(this),!this.isGrouped)return this.labelsGrid&&this.labelsGrid.attr({visibility:"hidden"}),!1;var t=this,e=t.options,n=t.top,i=t.left,r=i+t.width,a=n+t.height,o=t.hasVisibleSeries||t.hasData,s=t.labelsDepth,u=t.labelsGrid,c=t.horiz,d=t.labelsGridPath,f=(e.drawHorizontalBorders===!1?s+1:0,t.opposite?c?n:r:c?a:i,t.tickWidth);return t.userTickLength&&(s-=1),u&&u.parentGroup&&u.parentGroup.added||(u=t.labelsGrid=t.chart.renderer.path().attr({strokeWidth:f,"stroke-width":f,stroke:e.tickColor}).add(t.axisGroup)),u.attr({d:d,visibility:o?"visible":"hidden"}),t.labelGroup.attr({visibility:o?"visible":"hidden"}),h(t.categoriesTree,"categories",function(e){var n=e.tick;return n?(n.startAt+n.leaves-1<t.min||n.startAt>t.max?(n.label.hide(),n.destroyed=0):n.label.attr({visibility:o?"visible":"hidden"}),!0):!1}),!0},v.setCategories=function(t,e){this.categories&&this.cleanGroups(),this.setupGroups({categories:t}),this.categories=this.userOptions.categories=t,M.call(this,this.categories,e)},v.cleanGroups=function(){var t,e=this.ticks;for(t in e)e[t].parent&&delete e[t].parent;h(this.categoriesTree,"categories",function(t){var e=t.tick;return e?(e.label.destroy(),g(e,function(t,n){delete e[n]}),delete t.tick,!0):!1}),this.labelsGrid=null},v.groupSize=function(t,e){var n=this.labelsSizes,r=this.directionFactor,a=this.options.labels.groupedOptions?this.options.labels.groupedOptions[t-1]:!1,o=0;return a&&(o=-1===r?a.x?a.x:0:a.y?a.y:0),e!==l&&(n[t]=d(n[t]||0,e+10+Math.abs(o))),t===!0?i(n)*r:n[t]?n[t]*r:0},y.addLabel=function(){var t;return k.call(this),this.axis.categories&&(t=this.axis.categories[this.pos])?(this.label&&this.label.attr("text",this.axis.labelFormatter.call({axis:this.axis,chart:this.axis.chart,isFirst:this.isFirst,isLast:this.isLast,value:t.name})),this.axis.isGrouped&&this.axis.options.labels.enabled&&this.addGroupedLabels(t),!0):!1},y.addGroupedLabels=function(t){for(var e,n=this,i=this.axis,r=i.chart,a=i.options.labels,o=a.useHTML,s=a.style,h=a.groupedOptions,l={align:"center",rotation:0,x:0,y:i.horiz?20:1},u=i.horiz?"height":"width",c=0;n;){if(c>0&&!t.tick){this.value=t.name;var d=a.formatter?a.formatter.call(this,t):t.name,p=h&&h[c-1],g=p?f(l,h[c-1]):l,m=p&&h[c-1].style?f(s,h[c-1].style):s;delete g.style,e=r.renderer.text(d,0,0,o).attr(g).css(m).add(i.labelGroup),n.startAt=this.pos,n.childCount=t.categories.length,n.leaves=t.leaves,n.visible=this.childCount,n.label=e,n.labelOffsets={x:g.x,y:g.y},t.tick=n}i.groupSize(c,n.label.getBBox()[u]),t=t.parent,n=t?n.parent=t.tick||{}:null,c++}},y.render=function(t,e,n){function i(t){var e=0;return x?(e=m(t.name,t.parent.categories),e=0>e?0:e):e}C.call(this,t,e,n);var r=this.axis.categories[this.pos];if(this.axis.isGrouped&&r&&!(this.pos>this.axis.max)){var a,h,l,u,f,p=this,g=p,v=p.axis,y=p.pos,x=p.isFirst,b=v.max,M=v.min,w=v.horiz,k=v.labelsGridPath,S=v.groupSize(0),A=v.tickWidth,P=s(p,y),T=w?P.y:P.x,_=v.chart.renderer.fontMetrics(v.options.labels.style.fontSize).b,L=1,D=w&&P.x===v.pos+v.len||!w&&P.y===v.pos?-1:0;for(S=T+S;g.parent;){g=g.parent;var E=i(r),z=g.labelOffsets.x,I=g.labelOffsets.y;h=s(p,d(g.startAt-1,M-1)),l=s(p,c(g.startAt+g.leaves-1-E,b)),f=g.label.getBBox(!0),a=v.groupSize(L),D=w&&l.x===v.pos+v.len||!w&&l.y===v.pos?-1:0,u=w?{x:(h.x+l.x)/2+z,y:S+a/2+_-f.height/2-4+I/2}:{x:S+a/2+z,y:(h.y+l.y-f.height)/2+_+I},isNaN(u.x)||isNaN(u.y)||(g.label.attr(u),k&&y===g.startAt&&g.startAt+g.childCount!==v.categories.length&&(w?o(k,[l.x-D,T,l.x-D,S+a],A):o(k,[T,l.y+D,S+a,l.y+D],A))),S+=a,L++}}},y.destroy=function(){for(var t=this.parent;t;)t.destroyed=t.destroyed?t.destroyed+1:1,t=t.parent;S.call(this)},y.getLabelSize=function(){if(this.axis.isGrouped===!0){var t=w.call(this)+10,e=this.axis.labelsSizes[0];return t>e&&(this.axis.labelsSizes[0]=t),i(this.axis.labelsSizes)}return w.call(this)}}),!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){!function(t){"use strict";var e=t.seriesType,n=t.seriesTypes,i=!0,r=t.map,a=t.merge,o=t.extend,s=t.noop,h=t.each,l=t.grep,u=t.isNumber,c=t.pick,d=t.Series,f=t.stableSort,p=t.Color,g=function(t,e,n){var i;n=n||this;for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)},m=function(t,e,n,i){return i=i||this,t=t||[],h(t,function(r,a){n=e.call(i,n,r,a,t)}),n},v=function(t,e,n){var i;n=n||this,i=e.call(n,t),i!==!1&&v(i,e,n)};e("treemap","scatter",{showInLegend:!1,marker:!1,dataLabels:{enabled:!0,defer:!1,verticalAlign:"middle",formatter:function(){return this.point.name||this.point.id},inside:!0},tooltip:{headerFormat:"",pointFormat:"<b>{point.name}</b>: {point.value}</b><br/>"},layoutAlgorithm:"sliceAndDice",layoutStartingDirection:"vertical",alternateStartingDirection:!1,levelIsConstant:!0,drillUpButton:{position:{align:"right",x:-10,y:10}},borderColor:"#e6e6e6",borderWidth:1,opacity:.15,states:{hover:{borderColor:"#999999",brightness:n.heatmap?0:.1,opacity:.75,shadow:!1}}},{pointArrayMap:["value"],axisTypes:n.heatmap?["xAxis","yAxis","colorAxis"]:["xAxis","yAxis"],optionalAxis:"colorAxis",getSymbol:s,parallelArrays:["x","y","value","colorValue"],colorKey:"colorValue",translateColors:n.heatmap&&n.heatmap.prototype.translateColors,trackerGroups:["group","dataLabelsGroup"],getListOfParents:function(e,n){var i=m(e,function(t,e,n){var i=c(e.parent,"");return void 0===t[i]&&(t[i]=[]),t[i].push(n),t},{});return g(i,function(e,i,r){""!==i&&-1===t.inArray(i,n)&&(h(e,function(t){r[""].push(t)}),delete r[i])}),i},getTree:function(){var t,e=this,n=r(this.data,function(t){return t.id}),i=e.getListOfParents(this.data,n);return e.nodeMap=[],t=e.buildNode("",-1,0,i,null),v(this.nodeMap[this.rootNode],function(t){var n=!1,i=t.parent;return t.visible=!0,(i||""===i)&&(n=e.nodeMap[i]),n}),v(this.nodeMap[this.rootNode].children,function(t){var e=!1;return h(t,function(t){t.visible=!0,t.children.length&&(e=(e||[]).concat(t.children))}),e}),this.setTreeValues(t),t},init:function(t,e){var n=this;d.prototype.init.call(n,t,e),n.options.allowDrillToNode&&n.drillTo()},buildNode:function(t,e,n,i,r){var a,o,s=this,l=[],u=s.points[e];return h(i[t]||[],function(e){o=s.buildNode(s.points[e].id,e,n+1,i,t),l.push(o)}),a={id:t,i:e,children:l,level:n,parent:r,visible:!1},s.nodeMap[a.id]=a,u&&(u.node=a),a},setTreeValues:function(t){var e,n=this,i=n.options,r=0,a=[],s=n.points[t.i];return h(t.children,function(t){t=n.setTreeValues(t),a.push(t),t.ignore?v(t.children,function(t){var e=!1;return h(t,function(t){o(t,{ignore:!0,isLeaf:!1,visible:!1}),t.children.length&&(e=(e||[]).concat(t.children))}),e}):r+=t.val}),f(a,function(t,e){return t.sortIndex-e.sortIndex}),e=c(s&&s.options.value,r),s&&(s.value=e),o(t,{children:a,childrenTotal:r,ignore:!(c(s&&s.visible,!0)&&e>0),isLeaf:t.visible&&!r,levelDynamic:i.levelIsConstant?t.level:t.level-n.nodeMap[n.rootNode].level,name:c(s&&s.name,""),sortIndex:c(s&&s.sortIndex,-e),val:e}),t},calculateChildrenAreas:function(t,e){var n,i=this,r=i.options,o=this.levelMap[t.levelDynamic+1],s=c(i[o&&o.layoutAlgorithm]&&o.layoutAlgorithm,r.layoutAlgorithm),u=r.alternateStartingDirection,d=[];n=l(t.children,function(t){return!t.ignore}),o&&o.layoutStartingDirection&&(e.direction="vertical"===o.layoutStartingDirection?0:1),d=i[s](e,n),h(n,function(t,n){var r=d[n];t.values=a(r,{val:t.childrenTotal,direction:u?1-e.direction:e.direction}),t.pointValues=a(r,{x:r.x/i.axisRatio,width:r.width/i.axisRatio}),t.children.length&&i.calculateChildrenAreas(t,t.values)})},setPointValues:function(){var t=this,e=t.xAxis,n=t.yAxis;h(t.points,function(t){var i,r,a,o,s=t.node,h=s.pointValues,l=.5;h&&s.visible?(i=Math.round(e.translate(h.x,0,0,0,1))-l,r=Math.round(e.translate(h.x+h.width,0,0,0,1))-l,a=Math.round(n.translate(h.y,0,0,0,1))-l,o=Math.round(n.translate(h.y+h.height,0,0,0,1))-l,t.shapeType="rect",t.shapeArgs={x:Math.min(i,r),y:Math.min(a,o),width:Math.abs(r-i),height:Math.abs(o-a)},t.plotX=t.shapeArgs.x+t.shapeArgs.width/2,t.plotY=t.shapeArgs.y+t.shapeArgs.height/2):(delete t.plotX,delete t.plotY)})},setColorRecursive:function(t,e,n){var i,r,a=this;t&&(i=a.points[t.i],r=a.levelMap[t.levelDynamic],e=c(i&&i.options.color,r&&r.color,e),n=c(i&&i.options.colorIndex,r&&r.colorIndex,n),i&&(i.color=e,i.colorIndex=n),t.children.length&&h(t.children,function(t){a.setColorRecursive(t,e,n)}))},algorithmGroup:function(t,e,n,i){this.height=t,this.width=e,this.plot=i,this.direction=n,this.startDirection=n,this.total=0,this.nW=0,this.lW=0,this.nH=0,this.lH=0,this.elArr=[],this.lP={total:0,lH:0,nH:0,lW:0,nW:0,nR:0,lR:0,aspectRatio:function(t,e){return Math.max(t/e,e/t)}},this.addElement=function(t){this.lP.total=this.elArr[this.elArr.length-1],this.total=this.total+t,0===this.direction?(this.lW=this.nW,this.lP.lH=this.lP.total/this.lW,this.lP.lR=this.lP.aspectRatio(this.lW,this.lP.lH),this.nW=this.total/this.height,this.lP.nH=this.lP.total/this.nW,this.lP.nR=this.lP.aspectRatio(this.nW,this.lP.nH)):(this.lH=this.nH,this.lP.lW=this.lP.total/this.lH,this.lP.lR=this.lP.aspectRatio(this.lP.lW,this.lH),this.nH=this.total/this.width,this.lP.nW=this.lP.total/this.nH,this.lP.nR=this.lP.aspectRatio(this.lP.nW,this.nH)),this.elArr.push(t)},this.reset=function(){this.nW=0,this.lW=0,this.elArr=[],this.total=0}},algorithmCalcPoints:function(t,e,n,i){var r,a,o,s,l,u=n.lW,c=n.lH,d=n.plot,f=0,p=n.elArr.length-1;e?(u=n.nW,c=n.nH):l=n.elArr[n.elArr.length-1],h(n.elArr,function(t){(e||p>f)&&(0===n.direction?(r=d.x,a=d.y,o=u,s=t/o):(r=d.x,a=d.y,s=c,o=t/s),i.push({x:r,y:a,width:o,height:s}),0===n.direction?d.y=d.y+s:d.x=d.x+o),f+=1}),n.reset(),0===n.direction?n.width=n.width-u:n.height=n.height-c,d.y=d.parent.y+(d.parent.height-n.height),d.x=d.parent.x+(d.parent.width-n.width),t&&(n.direction=1-n.direction),e||n.addElement(l)},algorithmLowAspectRatio:function(t,e,n){var i,r=[],a=this,o={x:e.x,y:e.y,parent:e},s=e.direction,l=0,u=n.length-1,c=new this.algorithmGroup(e.height,e.width,s,o);return h(n,function(n){i=e.width*e.height*(n.val/e.val),c.addElement(i),c.lP.nR>c.lP.lR&&a.algorithmCalcPoints(t,!1,c,r,o),l===u&&a.algorithmCalcPoints(t,!0,c,r,o),l+=1}),r},algorithmFill:function(t,e,n){var i,r,a,o,s,l=[],u=e.direction,c=e.x,d=e.y,f=e.width,p=e.height;return h(n,function(n){i=e.width*e.height*(n.val/e.val),r=c,a=d,0===u?(s=p,o=i/s,f-=o,c+=o):(o=f,s=i/o,p-=s,d+=s),l.push({x:r,y:a,width:o,height:s}),t&&(u=1-u)}),l},strip:function(t,e){return this.algorithmLowAspectRatio(!1,t,e)},squarified:function(t,e){return this.algorithmLowAspectRatio(!0,t,e)},sliceAndDice:function(t,e){return this.algorithmFill(!0,t,e)},stripes:function(t,e){return this.algorithmFill(!1,t,e)},translate:function(){var t,e,n,i;d.prototype.translate.call(this),this.rootNode=c(this.options.rootId,""),this.levelMap=m(this.options.levels,function(t,e){return t[e.level]=e,t},{}),n=this.tree=this.getTree(),this.axisRatio=this.xAxis.len/this.yAxis.len,this.nodeMap[""].pointValues=t={x:0,y:0,width:100,height:100},this.nodeMap[""].values=e=a(t,{width:t.width*this.axisRatio,direction:"vertical"===this.options.layoutStartingDirection?0:1,val:n.val}),this.calculateChildrenAreas(n,e),this.colorAxis?this.translateColors():this.options.colorByPoint||this.setColorRecursive(this.tree),this.options.allowDrillToNode&&(i=this.nodeMap[this.rootNode].pointValues,this.xAxis.setExtremes(i.x,i.x+i.width,!1),this.yAxis.setExtremes(i.y,i.y+i.height,!1),this.xAxis.setScale(),this.yAxis.setScale()),this.setPointValues()},drawDataLabels:function(){var t,e,n=this,i=l(n.points,function(t){return t.node.visible}),r=n.nodeMap[""].val;h(i,function(i){if(i.shapeArgs){e=n.levelMap[i.node.levelDynamic],t={style:{}};var o,s=i.shapeArgs.height,h=i.shapeArgs.width;i.node.parent==n.rootNode?(o=120>h?"12px":240>h||h>=240&&72>s?"14px":400>h||h>=240&&120>s?"16px":"18px",i.node.children.length?(t.align="left",t.verticalAlign="top",t.style.cursor="pointer"):(t.align="center",t.verticalAlign="middle",t.style.cursor="default"),t.style.opacity=.7,t.enabled=!(48>h&&28>s),t.style.fontSize=o):n.nodeMap[i.node.parent].parent==n.rootNode?(t.enabled=s>=18&&h>10*i.name.length,t.align="right",t.verticalAlign="bottom",t.style.fontSize="10px",t.style.cursor="pointer",t.style.opacity=.7):t.enabled=!1,i.sum=r,i.shapeArgs&&(t.style.width=i.shapeArgs.width,i.dataLabel&&i.dataLabel.css({width:i.shapeArgs.width+"px"})),i.dlOptions=a(t,i.options.dataLabels)}}),d.prototype.drawDataLabels.call(this)},alignDataLabel:function(t){if(i){if(t.dataLabel){var e=t.dataLabel.text.element.getBoundingClientRect()||t.dataLabel.getBBox(),r=t.dataLabel.padding,a=t.shapeArgs||t.series.chart.plotBox;if(!(a.width>e.width+r&&a.height>e.height))return t.dataLabel.attr({y:-9999}),void(t.dataLabel.placed=!1);n.column.prototype.alignDataLabel.apply(this,arguments),t.dataLabel.attr({zIndex:t.node.zIndex+1,opacity:1})}}else n.column.prototype.alignDataLabel.apply(this,arguments),t.dataLabel&&t.dataLabel.attr({zIndex:t.node.zIndex+1})},pointAttribs:function(t,e){var n,r,a=this.levelMap[t.node.levelDynamic]||{},o=this.options,s=e&&o.states[e]||{};if(t.getClassName(),n={stroke:t.borderColor||a.borderColor||s.borderColor||o.borderColor,"stroke-width":c(t.borderWidth,a.borderWidth,s.borderWidth,o.borderWidth),dashstyle:t.borderDashStyle||a.borderDashStyle||s.borderDashStyle||o.borderDashStyle,fill:t.color||this.color},i){var h=t.node,l=t.series.rootNode;h.parent==l?h.children.length?(n["stroke-width"]=1,n.stroke=o.borderColor):(r=c(s.opacity,o.opacity),n["stroke-width"]=1,n.stroke="rgba(255, 255, 255, .2)",n.cursor="default"):h.parent&&this.nodeMap[h.parent].parent==l?(r=c(s.opacity,o.opacity),n["stroke-width"]=1,n.stroke="rgba(255, 255, 255, .2)",n.cursor=h.children.length?"pointer":"default"):(n.fill="none",n["stroke-width"]=0),e&&(s.brightness=.1,n.fill=p(n.fill).brighten(s.brightness).get())}else-1!==className.indexOf("highcharts-above-level")?(n.fill="none",n["stroke-width"]=0):-1!==className.indexOf("highcharts-internal-node-interactive")?(r=c(s.opacity,o.opacity),n.fill=p(n.fill).setOpacity(r).get(),n.cursor="pointer"):-1!==className.indexOf("highcharts-internal-node")?n.fill="none":e&&(n.fill=p(n.fill).brighten(s.brightness).get());return n},drawPoints:function(){var t=this,e=l(t.points,function(t){return t.node.visible});h(e,function(e){var n="levelGroup-"+e.node.levelDynamic;t[n]||(t[n]=t.chart.renderer.g(n).add(t.group).toFront()),e.group=t[n]}),n.column.prototype.drawPoints.call(this),t.options.allowDrillToNode&&h(e,function(e){e.graphic&&(e.drillId=t.options.interactByLeaf?t.drillToByLeaf(e):t.drillToByGroup(e))})},drillTo:function(){var e=this;t.addEvent(e,"click",function(t){var n,i=t.point,r=i.drillId;r&&(n=e.nodeMap[e.rootNode].name||e.rootNode,i.setState(""),e.drillToNode(r),e.showDrillUpButton(n))})},drillToByGroup:function(t){var e=this,n=(t.getClassName(),!1);if(i){var r=t.node,a=t.series.rootNode;r.parent==a||this.nodeMap[r.parent].parent==a,t.node.isLeaf||(n=t.id)}else t.node.level-e.nodeMap[e.rootNode].level!==1||t.node.isLeaf||(n=t.id);return n},drillToByLeaf:function(t){var e,n=this,i=!1;if(t.node.parent!==n.rootNode&&t.node.isLeaf)for(e=t.node;!i;)e=n.nodeMap[e.parent],e.parent===n.rootNode&&(i=e.id);return i},drillUp:function(t){var e,n,r=null;if(i){if(this.rootNode&&(e=this.nodeMap[this.rootNode],r=null!==e.parent?this.nodeMap[e.parent]:this.nodeMap[""]),null!==r){var a=t||r.id;this.drillToNode(a)}}else this.rootNode&&(e=this.nodeMap[this.rootNode],r=null!==e.parent?this.nodeMap[e.parent]:this.nodeMap[""]),null!==r&&(this.drillToNode(r.id),""===r.id?this.drillUpButton=this.drillUpButton.destroy():(n=this.nodeMap[r.parent],this.showDrillUpButton(n.name||n.id)))},drillToNode:function(t){if(this.rootNode!=t){this.options.rootId=t,this.isDirty=!0,this.chart.redraw(!1);var e=this.options.events.onDrillToNode;e&&"function"==typeof e&&e(t,this.nodeMap,this)}},showDrillUpButton:function(t){var e,n,i=this,r=t||"< Back",a=i.options.drillUpButton;a.text&&(r=a.text),this.drillUpButton?this.drillUpButton.attr({text:r}).align():(e=a.theme,n=e&&e.states,this.drillUpButton=this.chart.renderer.button(r,null,null,function(){i.drillUp()},e,n&&n.hover,n&&n.select).attr({align:a.position.align,zIndex:7}).add().align(a.position,!1,a.relativeTo||"plotBox"))},buildKDTree:s,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getExtremes:function(){d.prototype.getExtremes.call(this,this.colorValueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,d.prototype.getExtremes.call(this)},getExtremesFromAll:!0,bindAxes:function(){var e={endOnTick:!1,gridLineWidth:0,lineWidth:0,min:0,dataMin:0,minPadding:0,max:100,dataMax:100,maxPadding:0,startOnTick:!1,title:null,tickPositions:[]};d.prototype.bindAxes.call(this),t.extend(this.yAxis.options,e),t.extend(this.xAxis.options,e)}},{getClassName:function(){if(i){var e=t.Point.prototype.getClassName.call(this),n=this.series,r=n.options,a=n.nodeMap[n.rootNode].level,o=a+1;return this.node.level==o?e+=" highcharts-current-level":this.node.level<o?e+=" highcharts-above-level":this.node.level>o&&(e+=" highcharts-below-level"),e}var e=t.Point.prototype.getClassName.call(this),n=this.series,r=n.options;return this.node.level<=n.nodeMap[n.rootNode].level?e+=" highcharts-above-level":this.node.isLeaf||c(r.interactByLeaf,!r.allowDrillToNode)?this.node.isLeaf||(e+=" highcharts-internal-node"):e+=" highcharts-internal-node-interactive",e},isValid:function(){return u(this.value)},setState:function(e){t.Point.prototype.setState.call(this,e),this.graphic.attr({zIndex:"hover"===e?1:0})},setVisible:n.pie.prototype.pointClass.prototype.setVisible})}(t)}),window.Canvas2Image=function(){function t(t,e,n){var i=(window.devicePixelRatio||1,t.width),r=t.height;void 0==e&&(e=i),void 0==n&&(n=r);var a=document.createElement("canvas"),o=a.getContext("2d");return a.style.background="#fff",a.width=e,a.height=n,o.drawImage(t,0,0,i,r,0,0,e,n),a}function e(e,n,i,r,a){return e=t(e,i,r,a),e.toDataURL(n)}function n(t,e){function n(t){for(var e=t.split(","),n=e[0].match(/:(.*?);/)[1],i=atob(e[1]),r=i.length,a=new Uint8Array(r);r--;)a[r]=i.charCodeAt(r);return new Blob([a],{type:n})}var i=document.createElement("a"),r=t,a=n(t);r=URL.createObjectURL(a),i.href=r,i.download=e+".png",i.target="_blank";var o=document.createEvent("HTMLEvents");o.initEvent("click",!1,!0),i.dispatchEvent(o)}function i(t){var e=document.createElement("img");return e.src=t,e}function r(t){t=t.toLowerCase().replace(/jpg/i,"jpeg");var e=t.match(/png|jpeg|bmp|gif/)[0];return"image/"+e}function a(t){if(!window.btoa)throw"btoa undefined";var e="";if("string"==typeof t)e=t;else for(var n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}function o(t){var e=t.width,n=t.height;return t.getContext("2d").getImageData(0,0,e,n)}function s(t,e){return"data:"+e+";base64,"+t}var h=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return{canvas:!!e,imageData:!!e.getImageData,dataURL:!!t.toDataURL,btoa:!!window.btoa}}(),l="image/octet-stream",u=function(t){var e=t.width,n=t.height,i=e*n*3,r=i+54,o=[66,77,255&r,r>>8&255,r>>16&255,r>>24&255,0,0,0,0,54,0,0,0],s=[40,0,0,0,255&e,e>>8&255,e>>16&255,e>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,1,0,24,0,0,0,0,0,255&i,i>>8&255,i>>16&255,i>>24&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h=(4-3*e%4)%4,l=t.data,u="",c=e<<2,d=n,f=String.fromCharCode;do{for(var p=c*(d-1),g="",m=0;e>m;m++){var v=m<<2;g+=f(l[p+v+2])+f(l[p+v+1])+f(l[p+v])}for(var y=0;h>y;y++)g+=String.fromCharCode(0);u+=g}while(--d);var x=a(o.concat(s))+a(u);return x},c=function(i,a,c,d,f,p){if(h.canvas&&h.dataURL)if("string"==typeof i&&(i=document.getElementById(i)),void 0==d&&(d="png"),d=r(d),/bmp/.test(d)){var g=o(t(i,a,c)),m=u(g);n(s(m,l),f)}else{var m=e(i,d,a,c,p);n(m,f)}},d=function(n,a,l,c){if(h.canvas&&h.dataURL){if("string"==typeof n&&(n=document.getElementById(n)),void 0==c&&(c="png"),c=r(c),/bmp/.test(c)){var d=o(t(n,a,l)),f=u(d);return i(s(f,"image/bmp"))}var f=e(n,c,a,l);return i(f)}};return{saveAsImage:c,saveAsPNG:function(t,e,n,i,r){return c(t,e,n,"png",i,r)},saveAsJPEG:function(t,e,n){return c(t,e,n,"jpeg")},saveAsGIF:function(t,e,n){return c(t,e,n,"gif")},saveAsBMP:function(t,e,n){return c(t,e,n,"bmp")},convertToImage:d,convertToPNG:function(t,e,n){return d(t,e,n,"png")},convertToJPEG:function(t,e,n){return d(t,e,n,"jpeg")},convertToGIF:function(t,e,n){return d(t,e,n,"gif")},convertToBMP:function(t,e,n){return d(t,e,n,"bmp")}}}(),!function(){function t(t,e){return e>t?-1:t>e?1:t>=e?0:0/0}function e(t){return null!=t&&!isNaN(t)}function n(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var a=i+r>>>1;t(e[a],n)<0?i=a+1:r=a}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var a=i+r>>>1;t(e[a],n)>0?r=a:i=a+1}return i}}}function i(t){return t.length}function r(t){for(var e=1;t*e%1;)e*=10;return e}function a(t,e){try{for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}catch(i){t.prototype=e}}function o(){}function s(t){return os+t in this}function h(t){return t=os+t,t in this&&delete this[t]}function l(){var t=[];return this.forEach(function(e){t.push(e)}),t}function u(){var t=0;for(var e in this)e.charCodeAt(0)===ss&&++t;return t}function c(){for(var t in this)if(t.charCodeAt(0)===ss)return!1;return!0}function d(){}function f(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function p(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.substring(1);for(var n=0,i=hs.length;i>n;++n){var r=hs[n]+e;if(r in t)return r}}function g(){}function m(){}function v(t){function e(){for(var e,i=n,r=-1,a=i.length;++r<a;)(e=i[r].on)&&e.apply(this,arguments);return t}var n=[],i=new o;return e.on=function(e,r){var a,o=i.get(e);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,a=n.indexOf(o)).concat(n.slice(a+1)),i.remove(e)),r&&n.push(i.set(e,{on:r})),t)},e}function y(){Yo.event.preventDefault()}function x(){for(var t,e=Yo.event;t=e.sourceEvent;)e=t;return e}function b(t){for(var e=new m,n=0,i=arguments.length;++n<i;)e[arguments[n]]=v(e);return e.of=function(n,i){return function(r){try{var a=r.sourceEvent=Yo.event;r.target=t,Yo.event=r,e[r.type].apply(n,i)}finally{Yo.event=a}}},e}function M(t){return us(t,gs),t}function w(t){return"function"==typeof t?t:function(){return cs(t,this)}}function k(t){return"function"==typeof t?t:function(){return ds(t,this)}}function S(t,e){function n(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function r(){0>e?e=0:e,this.setAttribute(t,e)}function a(){this.setAttributeNS(t.space,t.local,e)}function o(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=Yo.ns.qualify(t),null==e?t.local?i:n:"function"==typeof e?t.local?s:o:t.local?a:r}function C(t){return t.trim().replace(/\s+/g," ")}function A(t){return new RegExp("(?:^|\\s+)"+Yo.requote(t)+"(?:\\s+|$)","g")}function P(t){return(t+"").trim().split(/^|\s+/)}function T(t,e){function n(){for(var n=-1;++n<r;)t[n](this,e)}function i(){for(var n=-1,i=e.apply(this,arguments);++n<r;)t[n](this,i)}t=P(t).map(_);var r=t.length;return"function"==typeof e?i:n}function _(t){var e=A(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",C(r+" "+t))):n.setAttribute("class",C(r.replace(e," ")))}}function L(t,e,n){function i(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,n)}function a(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}return null==e?i:"function"==typeof e?a:r}function D(t,e){function n(){delete this[t]}function i(){this[t]=e}function r(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?r:i}function E(t){return"function"==typeof t?t:(t=Yo.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function z(t){return{__data__:t}}function I(t){return function(){return ps(this,t)}}function O(e){return arguments.length||(e=t),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function N(t,e){for(var n=0,i=t.length;i>n;n++)for(var r,a=t[n],o=0,s=a.length;s>o;o++)(r=a[o])&&e(r,o,n);return t}function R(t){return us(t,vs),t}function B(t){var e,n;return function(i,r,a){var o,s=t[a].update,h=s.length;for(a!=n&&(n=a,e=0),r>=e&&(e=r+1);!(o=s[e])&&++e<h;);return o}}function H(){var t=this.__transition__;t&&++t.active}function W(t,e,n){function i(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}function r(){var r=h(e,Vo(arguments));i.call(this),this.addEventListener(t,this[o]=r,r.$=n),r._=e}function a(){var e,n=new RegExp("^__on([^.]+)"+Yo.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}var o="__on"+t,s=t.indexOf("."),h=G;s>0&&(t=t.substring(0,s));var l=xs.get(t);return l&&(t=l,h=j),s?e?r:i:e?g:a}function G(t,e){return function(n){var i=Yo.event;Yo.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{Yo.event=i}}}function j(t,e){var n=G(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function F(){var t=".dragsuppress-"+ ++Ms,e="click"+t,n=Yo.select(Zo).on("touchmove"+t,y).on("dragstart"+t,y).on("selectstart"+t,y);if(bs){var i=$o.style,r=i[bs];i[bs]="none"}return function(a){function o(){n.on(e,null)}n.on(t,null),bs&&(i[bs]=r),a&&(n.on(e,function(){y(),o()},!0),setTimeout(o,0))}}function X(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(0>ws&&(Zo.scrollX||Zo.scrollY)){n=Yo.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var r=n[0][0].getScreenCTM();ws=!(r.f||r.e),n.remove()}return ws?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function Y(){return Yo.event.changedTouches[0].identifier}function q(){return Yo.event.target}function V(){return Zo}function U(t){return t>0?1:0>t?-1:0}function $(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Z(t){return t>1?0:-1>t?ks:Math.acos(t)}function K(t){return t>1?Cs:-1>t?-Cs:Math.asin(t)}function Q(t){return((t=Math.exp(t))-1/t)/2}function J(t){return((t=Math.exp(t))+1/t)/2}function te(t){return((t=Math.exp(2*t))-1)/(t+1)}function ee(t){return(t=Math.sin(t/2))*t}function ne(){}function ie(t,e,n){return this instanceof ie?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof ie?new ie(t.h,t.s,t.l):ve(""+t,ye,ie):new ie(t,e,n)}function re(t,e,n){function i(t){return t>360?t-=360:0>t&&(t+=360),60>t?a+(o-a)*t/60:180>t?o:240>t?a+(o-a)*(240-t)/60:a}function r(t){return Math.round(255*i(t))}var a,o;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,o=.5>=n?n*(1+e):n+e-n*e,a=2*n-o,new fe(r(t+120),r(t),r(t-120))}function ae(t,e,n){return this instanceof ae?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ae?new ae(t.h,t.c,t.l):t instanceof se?le(t.l,t.a,t.b):le((t=xe((t=Yo.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ae(t,e,n)}function oe(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new se(n,Math.cos(t*=Ts)*e,Math.sin(t)*e)}function se(t,e,n){return this instanceof se?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof se?new se(t.l,t.a,t.b):t instanceof ae?oe(t.l,t.c,t.h):xe((t=fe(t)).r,t.g,t.b):new se(t,e,n)}function he(t,e,n){var i=(t+16)/116,r=i+e/500,a=i-n/200;return r=ue(r)*Hs,i=ue(i)*Ws,a=ue(a)*Gs,new fe(de(3.2404542*r-1.5371385*i-.4985314*a),de(-.969266*r+1.8760108*i+.041556*a),de(.0556434*r-.2040259*i+1.0572252*a))}function le(t,e,n){return t>0?new ae(Math.atan2(n,e)*_s,Math.sqrt(e*e+n*n),t):new ae(0/0,0/0,t)}function ue(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ce(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function de(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function fe(t,e,n){return this instanceof fe?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof fe?new fe(t.r,t.g,t.b):ve(""+t,fe,re):new fe(t,e,n)}function pe(t){return new fe(t>>16,255&t>>8,255&t)}function ge(t){return pe(t)+""}function me(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function ve(t,e,n){var i,r,a,o=0,s=0,h=0;if(i=/([a-z]+)\((.*)\)/i.exec(t))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(Me(r[0]),Me(r[1]),Me(r[2]))
}return(a=Xs.get(t))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.substring(1),16))||(4===t.length?(o=(3840&a)>>4,o=o>>4|o,s=240&a,s=s>>4|s,h=15&a,h=h<<4|h):7===t.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,h=255&a)),e(o,s,h))}function ye(t,e,n){var i,r,a=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),s=o-a,h=(o+a)/2;return s?(r=.5>h?s/(o+a):s/(2-o-a),i=t==o?(e-n)/s+(n>e?6:0):e==o?(n-t)/s+2:(t-e)/s+4,i*=60):(i=0/0,r=h>0&&1>h?0:i),new ie(i,r,h)}function xe(t,e,n){t=be(t),e=be(e),n=be(n);var i=ce((.4124564*t+.3575761*e+.1804375*n)/Hs),r=ce((.2126729*t+.7151522*e+.072175*n)/Ws),a=ce((.0193339*t+.119192*e+.9503041*n)/Gs);return se(116*r-16,500*(i-r),200*(r-a))}function be(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Me(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function we(t){return"function"==typeof t?t:function(){return t}}function ke(t){return t}function Se(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),Ce(e,n,t,i)}}function Ce(t,e,n,i){function r(){var t,e=h.status;if(!e&&h.responseText||e>=200&&300>e||304===e){try{t=n.call(a,h)}catch(i){return void o.error.call(a,i)}o.load.call(a,t)}else o.error.call(a,h)}var a={},o=Yo.dispatch("beforesend","progress","load","error"),s={},h=new XMLHttpRequest,l=null;return!Zo.XDomainRequest||"withCredentials"in h||!/^(http(s)?:)?\/\//.test(t)||(h=new XDomainRequest),"onload"in h?h.onload=h.onerror=r:h.onreadystatechange=function(){h.readyState>3&&r()},h.onprogress=function(t){var e=Yo.event;Yo.event=t;try{o.progress.call(a,h)}finally{Yo.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",a):e},a.responseType=function(t){return arguments.length?(l=t,a):l},a.response=function(t){return n=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(Vo(arguments)))}}),a.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),h.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),h.setRequestHeader)for(var u in s)h.setRequestHeader(u,s[u]);return null!=e&&h.overrideMimeType&&h.overrideMimeType(e),null!=l&&(h.responseType=l),null!=r&&a.on("error",r).on("load",function(t){r(null,t)}),o.beforesend.call(a,h),h.send(null==i?null:i),a},a.abort=function(){return h.abort(),a},Yo.rebind(a,o,"on"),null==i?a:a.get(Ae(i))}function Ae(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Pe(){var t=Te(),e=_e()-t;e>24?(isFinite(e)&&(clearTimeout(Us),Us=setTimeout(Pe,e)),Vs=0):(Vs=1,Zs(Pe))}function Te(){var t=Date.now();for($s=Ys;$s;)t>=$s.t&&($s.f=$s.c(t-$s.t)),$s=$s.n;return t}function _e(){for(var t,e=Ys,n=1/0;e;)e.f?e=t?t.n=e.n:Ys=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return qs=t,n}function Le(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function De(t,e){var n=Math.pow(10,3*as(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Ee(t){var e=t.decimal,n=t.thousands,i=t.grouping,r=t.currency,a=i?function(t){for(var e=t.length,r=[],a=0,o=i[0];e>0&&o>0;)r.push(t.substring(e-=o,e+o)),o=i[a=(a+1)%i.length];return r.reverse().join(n)}:ke;return function(t){var n=Qs.exec(t),i=n[1]||" ",o=n[2]||">",s=n[3]||"",h=n[4]||"",l=n[5],u=+n[6],c=n[7],d=n[8],f=n[9],p=1,g="",m="",v=!1;switch(d&&(d=+d.substring(1)),(l||"0"===i&&"="===o)&&(l=i="0",o="=",c&&(u-=Math.floor((u-1)/4))),f){case"n":c=!0,f="g";break;case"%":p=100,m="%",f="f";break;case"p":p=100,m="%",f="r";break;case"b":case"o":case"x":case"X":"#"===h&&(g="0"+f.toLowerCase());case"c":case"d":v=!0,d=0;break;case"s":p=-1,f="r"}"$"===h&&(g=r[0],m=r[1]),"r"!=f||d||(f="g"),null!=d&&("g"==f?d=Math.max(1,Math.min(21,d)):("e"==f||"f"==f)&&(d=Math.max(0,Math.min(20,d)))),f=Js.get(f)||ze;var y=l&&c;return function(t){var n=m;if(v&&t%1)return"";var r=0>t||0===t&&0>1/t?(t=-t,"-"):s;if(0>p){var h=Yo.formatPrefix(t,d);t=h.scale(t),n=h.symbol+m}else t*=p;t=f(t,d);var x=t.lastIndexOf("."),b=0>x?t:t.substring(0,x),M=0>x?"":e+t.substring(x+1);!l&&c&&(b=a(b));var w=g.length+b.length+M.length+(y?0:r.length),k=u>w?new Array(w=u-w+1).join(i):"";return y&&(b=a(k+b)),r+=g,t=b+M,("<"===o?r+t+k:">"===o?k+r+t:"^"===o?k.substring(0,w>>=1)+r+t+k.substring(w):r+(y?t:k+t))+n}}}function ze(t){return t+""}function Ie(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Oe(t,e,n){function i(e){var n=t(e),i=a(n,1);return i-e>e-n?n:i}function r(n){return e(n=t(new eh(n-1)),1),n}function a(t,n){return e(t=new eh(+t),n),t}function o(t,i,a){var o=r(t),s=[];if(a>1)for(;i>o;)n(o)%a||s.push(new Date(+o)),e(o,1);else for(;i>o;)s.push(new Date(+o)),e(o,1);return s}function s(t,e,n){try{eh=Ie;var i=new Ie;return i._=t,o(i,e,n)}finally{eh=Date}}t.floor=t,t.round=i,t.ceil=r,t.offset=a,t.range=o;var h=t.utc=Ne(t);return h.floor=h,h.round=Ne(i),h.ceil=Ne(r),h.offset=Ne(a),h.range=s,t}function Ne(t){return function(e,n){try{eh=Ie;var i=new Ie;return i._=e,t(i,n)._}finally{eh=Date}}}function Re(t){function e(t){function e(e){for(var n,r,a,o=[],s=-1,h=0;++s<i;)37===t.charCodeAt(s)&&(o.push(t.substring(h,s)),null!=(r=ih[n=t.charAt(++s)])&&(n=t.charAt(++s)),(a=T[n])&&(n=a(e,null==r?"e"===n?" ":"0":r)),o.push(n),h=s+1);return o.push(t.substring(h,s)),o.join("")}var i=t.length;return e.parse=function(e){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=n(i,t,e,0);if(r!=e.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var a=null!=i.Z&&eh!==Ie,o=new(a?Ie:eh);return"j"in i?o.setFullYear(i.y,0,i.j):"w"in i&&("W"in i||"U"in i)?(o.setFullYear(i.y,0,1),o.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(o.getDay()+5)%7:i.w+7*i.U-(o.getDay()+6)%7)):o.setFullYear(i.y,i.m,i.d),o.setHours(i.H+Math.floor(i.Z/100),i.M+i.Z%100,i.S,i.L),a?o._:o},e.toString=function(){return t},e}function n(t,e,n,i){for(var r,a,o,s=0,h=e.length,l=n.length;h>s;){if(i>=l)return-1;if(r=e.charCodeAt(s++),37===r){if(o=e.charAt(s++),a=_[o in ih?e.charAt(s++):o],!a||(i=a(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function i(t,e,n){w.lastIndex=0;var i=w.exec(e.substring(n));return i?(t.w=k.get(i[0].toLowerCase()),n+i[0].length):-1}function r(t,e,n){b.lastIndex=0;var i=b.exec(e.substring(n));return i?(t.w=M.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,n){A.lastIndex=0;var i=A.exec(e.substring(n));return i?(t.m=P.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){S.lastIndex=0;var i=S.exec(e.substring(n));return i?(t.m=C.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,i){return n(t,T.c.toString(),e,i)}function h(t,e,i){return n(t,T.x.toString(),e,i)}function l(t,e,i){return n(t,T.X.toString(),e,i)}function u(t,e,n){var i=x.get(e.substring(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var c=t.dateTime,d=t.date,f=t.time,p=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{eh=Ie;var e=new eh;return e._=t,i(e)}finally{eh=Date}}var i=e(t);return n.parse=function(t){try{eh=Ie;var e=i.parse(t);return e&&e._}finally{eh=Date}},n.toString=i.toString,n},e.multi=e.utc.multi=rn;var x=Yo.map(),b=He(g),M=We(g),w=He(m),k=We(m),S=He(v),C=We(v),A=He(y),P=We(y);p.forEach(function(t,e){x.set(t.toLowerCase(),e)});var T={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(c),d:function(t,e){return Be(t.getDate(),e,2)},e:function(t,e){return Be(t.getDate(),e,2)},H:function(t,e){return Be(t.getHours(),e,2)},I:function(t,e){return Be(t.getHours()%12||12,e,2)},j:function(t,e){return Be(1+th.dayOfYear(t),e,3)},L:function(t,e){return Be(t.getMilliseconds(),e,3)},m:function(t,e){return Be(t.getMonth()+1,e,2)},M:function(t,e){return Be(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return Be(t.getSeconds(),e,2)},U:function(t,e){return Be(th.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Be(th.mondayOfYear(t),e,2)},x:e(d),X:e(f),y:function(t,e){return Be(t.getFullYear()%100,e,2)},Y:function(t,e){return Be(t.getFullYear()%1e4,e,4)},Z:en,"%":function(){return"%"}},_={a:i,A:r,b:a,B:o,c:s,d:$e,e:$e,H:Ke,I:Ke,j:Ze,L:tn,m:Ue,M:Qe,p:u,S:Je,U:je,w:Ge,W:Fe,x:h,X:l,y:Ye,Y:Xe,Z:qe,"%":nn};return e}function Be(t,e,n){var i=0>t?"-":"",r=(i?-t:t)+"",a=r.length;return i+(n>a?new Array(n-a+1).join(e)+r:r)}function He(t){return new RegExp("^(?:"+t.map(Yo.requote).join("|")+")","i")}function We(t){for(var e=new o,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Ge(t,e,n){rh.lastIndex=0;var i=rh.exec(e.substring(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function je(t,e,n){rh.lastIndex=0;var i=rh.exec(e.substring(n));return i?(t.U=+i[0],n+i[0].length):-1}function Fe(t,e,n){rh.lastIndex=0;var i=rh.exec(e.substring(n));return i?(t.W=+i[0],n+i[0].length):-1}function Xe(t,e,n){rh.lastIndex=0;var i=rh.exec(e.substring(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Ye(t,e,n){rh.lastIndex=0;var i=rh.exec(e.substring(n,n+2));return i?(t.y=Ve(+i[0]),n+i[0].length):-1}function qe(t,e,n){return/^[+-]\d{4}$/.test(e=e.substring(n,n+5))?(t.Z=-e,n+5):-1}function Ve(t){return t+(t>68?1900:2e3)}function Ue(t,e,n){rh.lastIndex=0;var i=rh.exec(e.substring(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function $e(t,e,n){rh.lastIndex=0;var i=rh.exec(e.substring(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Ze(t,e,n){rh.lastIndex=0;var i=rh.exec(e.substring(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function Ke(t,e,n){rh.lastIndex=0;var i=rh.exec(e.substring(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Qe(t,e,n){rh.lastIndex=0;var i=rh.exec(e.substring(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Je(t,e,n){rh.lastIndex=0;var i=rh.exec(e.substring(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function tn(t,e,n){rh.lastIndex=0;var i=rh.exec(e.substring(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function en(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=~~(as(e)/60),r=as(e)%60;return n+Be(i,"0",2)+Be(r,"0",2)}function nn(t,e,n){ah.lastIndex=0;var i=ah.exec(e.substring(n,n+1));return i?n+i[0].length:-1}function rn(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}function an(){}function on(t,e,n){var i=n.s=t+e,r=i-t,a=i-r;n.t=t-a+(e-r)}function sn(t,e){t&&lh.hasOwnProperty(t.type)&&lh[t.type](t,e)}function hn(t,e,n){var i,r=-1,a=t.length-n;for(e.lineStart();++r<a;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function ln(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)hn(t[n],e,1);e.polygonEnd()}function un(){function t(t,e){t*=Ts,e=e*Ts/2+ks/4;var n=t-i,o=n>=0?1:-1,s=o*n,h=Math.cos(e),l=Math.sin(e),u=a*l,c=r*h+u*Math.cos(s),d=u*o*Math.sin(s);ch.add(Math.atan2(d,c)),i=t,r=h,a=l}var e,n,i,r,a;dh.point=function(o,s){dh.point=t,i=(e=o)*Ts,r=Math.cos(s=(n=s)*Ts/2+ks/4),a=Math.sin(s)},dh.lineEnd=function(){t(e,n)}}function cn(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function dn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function fn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function pn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function gn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function mn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function vn(t){return[Math.atan2(t[1],t[0]),K(t[2])]}function yn(t,e){return as(t[0]-e[0])<As&&as(t[1]-e[1])<As}function xn(t,e){t*=Ts;var n=Math.cos(e*=Ts);bn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function bn(t,e,n){++fh,gh+=(t-gh)/fh,mh+=(e-mh)/fh,vh+=(n-vh)/fh}function Mn(){function t(t,r){t*=Ts;var a=Math.cos(r*=Ts),o=a*Math.cos(t),s=a*Math.sin(t),h=Math.sin(r),l=Math.atan2(Math.sqrt((l=n*h-i*s)*l+(l=i*o-e*h)*l+(l=e*s-n*o)*l),e*o+n*s+i*h);ph+=l,yh+=l*(e+(e=o)),xh+=l*(n+(n=s)),bh+=l*(i+(i=h)),bn(e,n,i)}var e,n,i;Sh.point=function(r,a){r*=Ts;var o=Math.cos(a*=Ts);e=o*Math.cos(r),n=o*Math.sin(r),i=Math.sin(a),Sh.point=t,bn(e,n,i)}}function wn(){Sh.point=xn}function kn(){function t(t,e){t*=Ts;var n=Math.cos(e*=Ts),o=n*Math.cos(t),s=n*Math.sin(t),h=Math.sin(e),l=r*h-a*s,u=a*o-i*h,c=i*s-r*o,d=Math.sqrt(l*l+u*u+c*c),f=i*o+r*s+a*h,p=d&&-Z(f)/d,g=Math.atan2(d,f);Mh+=p*l,wh+=p*u,kh+=p*c,ph+=g,yh+=g*(i+(i=o)),xh+=g*(r+(r=s)),bh+=g*(a+(a=h)),bn(i,r,a)}var e,n,i,r,a;Sh.point=function(o,s){e=o,n=s,Sh.point=t,o*=Ts;var h=Math.cos(s*=Ts);i=h*Math.cos(o),r=h*Math.sin(o),a=Math.sin(s),bn(i,r,a)},Sh.lineEnd=function(){t(e,n),Sh.lineEnd=wn,Sh.point=xn}}function Sn(){return!0}function Cn(t,e,n,i,r){var a=[],o=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(yn(n,i)){r.lineStart();for(var s=0;e>s;++s)r.point((n=t[s])[0],n[1]);return void r.lineEnd()}var h=new Pn(n,t,null,!0),l=new Pn(n,null,h,!1);h.o=l,a.push(h),o.push(l),h=new Pn(i,t,null,!1),l=new Pn(i,null,h,!0),h.o=l,a.push(h),o.push(l)}}),o.sort(e),An(a),An(o),a.length){for(var s=0,h=n,l=o.length;l>s;++s)o[s].e=h=!h;for(var u,c,d=a[0];;){for(var f=d,p=!0;f.v;)if((f=f.n)===d)return;u=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(var s=0,l=u.length;l>s;++s)r.point((c=u[s])[0],c[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p){u=f.p.z;for(var s=u.length-1;s>=0;--s)r.point((c=u[s])[0],c[1])}else i(f.x,f.p.x,-1,r);f=f.p}f=f.o,u=f.z,p=!p}while(!f.v);r.lineEnd()}}}function An(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function Pn(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Tn(t,e,n,i){return function(r,a){function o(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&a.point(e,n)}function s(t,e){var n=r(t,e);m.point(n[0],n[1])}function h(){y.point=s,m.lineStart()}function l(){y.point=o,m.lineEnd()}function u(t,e){g.push([t,e]);var n=r(t,e);b.point(n[0],n[1])}function c(){b.lineStart(),g=[]}function d(){u(g[0][0],g[0][1]),b.lineEnd();var t,e=b.clean(),n=x.buffer(),i=n.length;if(g.pop(),p.push(g),g=null,i)if(1&e){t=n[0];var r,i=t.length-1,o=-1;if(i>0){for(M||(a.polygonStart(),M=!0),a.lineStart();++o<i;)a.point((r=t[o])[0],r[1]);a.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),f.push(n.filter(_n))}var f,p,g,m=e(a),v=r.invert(i[0],i[1]),y={point:o,lineStart:h,lineEnd:l,polygonStart:function(){y.point=u,y.lineStart=c,y.lineEnd=d,f=[],p=[]},polygonEnd:function(){y.point=o,y.lineStart=h,y.lineEnd=l,f=Yo.merge(f);var t=En(v,p);f.length?(M||(a.polygonStart(),M=!0),Cn(f,Dn,t,n,a)):t&&(M||(a.polygonStart(),M=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),M&&(a.polygonEnd(),M=!1),f=p=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},x=Ln(),b=e(x),M=!1;return y}}function _n(t){return t.length>1}function Ln(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:g,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Dn(t,e){return((t=t.x)[0]<0?t[1]-Cs-As:Cs-t[1])-((e=e.x)[0]<0?e[1]-Cs-As:Cs-e[1])}function En(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],a=0,o=0;ch.reset();for(var s=0,h=e.length;h>s;++s){var l=e[s],u=l.length;if(u)for(var c=l[0],d=c[0],f=c[1]/2+ks/4,p=Math.sin(f),g=Math.cos(f),m=1;;){m===u&&(m=0),t=l[m];var v=t[0],y=t[1]/2+ks/4,x=Math.sin(y),b=Math.cos(y),M=v-d,w=M>=0?1:-1,k=w*M,S=k>ks,C=p*x;if(ch.add(Math.atan2(C*w*Math.sin(k),g*b+C*Math.cos(k))),a+=S?M+w*Ss:M,S^d>=n^v>=n){var A=fn(cn(c),cn(t));mn(A);var P=fn(r,A);mn(P);var T=(S^M>=0?-1:1)*K(P[2]);(i>T||i===T&&(A[0]||A[1]))&&(o+=S^M>=0?1:-1)}if(!m++)break;d=v,p=x,g=b,c=t}}return(-As>a||As>a&&0>ch)^1&o}function zn(t){var e,n=0/0,i=0/0,r=0/0;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?ks:-ks,h=as(a-n);as(h-ks)<As?(t.point(n,i=(i+o)/2>0?Cs:-Cs),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(a,i),e=0):r!==s&&h>=ks&&(as(n-r)<As&&(n-=r*As),as(a-s)<As&&(a-=s*As),i=In(n,i,a,o),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=a,i=o),r=s},lineEnd:function(){t.lineEnd(),n=i=0/0},clean:function(){return 2-e}}}function In(t,e,n,i){var r,a,o=Math.sin(t-n);return as(o)>As?Math.atan((Math.sin(e)*(a=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*a*o)):(e+i)/2}function On(t,e,n,i){var r;if(null==t)r=n*Cs,i.point(-ks,r),i.point(0,r),i.point(ks,r),i.point(ks,0),i.point(ks,-r),i.point(0,-r),i.point(-ks,-r),i.point(-ks,0),i.point(-ks,r);else if(as(t[0]-e[0])>As){var a=t[0]<e[0]?ks:-ks;r=n*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(e[0],e[1])}function Nn(t){function e(t,e){return Math.cos(t)*Math.cos(e)>a}function n(t){var n,a,h,l,u;return{lineStart:function(){l=h=!1,u=1},point:function(c,d){var f,p=[c,d],g=e(c,d),m=o?g?0:r(c,d):g?r(c+(0>c?ks:-ks),d):0;if(!n&&(l=h=g)&&t.lineStart(),g!==h&&(f=i(n,p),(yn(n,f)||yn(p,f))&&(p[0]+=As,p[1]+=As,g=e(p[0],p[1]))),g!==h)u=0,g?(t.lineStart(),f=i(p,n),t.point(f[0],f[1])):(f=i(n,p),t.point(f[0],f[1]),t.lineEnd()),n=f;else if(s&&n&&o^g){var v;m&a||!(v=i(p,n,!0))||(u=0,o?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&yn(n,p)||t.point(p[0],p[1]),n=p,h=g,a=m},lineEnd:function(){h&&t.lineEnd(),n=null},clean:function(){return u|(l&&h)<<1}}}function i(t,e,n){var i=cn(t),r=cn(e),o=[1,0,0],s=fn(i,r),h=dn(s,s),l=s[0],u=h-l*l;if(!u)return!n&&t;var c=a*h/u,d=-a*l/u,f=fn(o,s),p=gn(o,c),g=gn(s,d);pn(p,g);var m=f,v=dn(p,m),y=dn(m,m),x=v*v-y*(dn(p,p)-1);if(!(0>x)){var b=Math.sqrt(x),M=gn(m,(-v-b)/y);if(pn(M,p),M=vn(M),!n)return M;var w,k=t[0],S=e[0],C=t[1],A=e[1];k>S&&(w=k,k=S,S=w);var P=S-k,T=as(P-ks)<As,_=T||As>P;if(!T&&C>A&&(w=C,C=A,A=w),_?T?C+A>0^M[1]<(as(M[0]-k)<As?C:A):C<=M[1]&&M[1]<=A:P>ks^(k<=M[0]&&M[0]<=S)){var L=gn(m,(-v+b)/y);return pn(L,p),[M,vn(L)]}}}function r(e,n){var i=o?t:ks-t,r=0;return-i>e?r|=1:e>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}var a=Math.cos(t),o=a>0,s=as(a)>As,h=ui(t,6*Ts);return Tn(e,n,h,o?[0,-t]:[-ks,t-ks])}function Rn(t,e,n,i){return function(r){var a,o=r.a,s=r.b,h=o.x,l=o.y,u=s.x,c=s.y,d=0,f=1,p=u-h,g=c-l;if(a=t-h,p||!(a>0)){if(a/=p,0>p){if(d>a)return;f>a&&(f=a)}else if(p>0){if(a>f)return;a>d&&(d=a)}if(a=n-h,p||!(0>a)){if(a/=p,0>p){if(a>f)return;a>d&&(d=a)}else if(p>0){if(d>a)return;f>a&&(f=a)}if(a=e-l,g||!(a>0)){if(a/=g,0>g){if(d>a)return;f>a&&(f=a)}else if(g>0){if(a>f)return;a>d&&(d=a)}if(a=i-l,g||!(0>a)){if(a/=g,0>g){if(a>f)return;a>d&&(d=a)}else if(g>0){if(d>a)return;f>a&&(f=a)}return d>0&&(r.a={x:h+d*p,y:l+d*g}),1>f&&(r.b={x:h+f*p,y:l+f*g}),r}}}}}}function Bn(t,e,n,i){function r(i,r){return as(i[0]-t)<As?r>0?0:3:as(i[0]-n)<As?r>0?2:1:as(i[1]-e)<As?r>0?1:0:r>0?3:2}function a(t,e){return o(t.x,e.x)}function o(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function h(t){for(var e=0,n=m.length,i=t[1],r=0;n>r;++r)for(var a,o=1,s=m[r],h=s.length,l=s[0];h>o;++o)a=s[o],l[1]<=i?a[1]>i&&$(l,a,t)>0&&++e:a[1]<=i&&$(l,a,t)<0&&--e,l=a;return 0!==e}function l(a,s,h,l){var u=0,c=0;if(null==a||(u=r(a,h))!==(c=r(s,h))||o(a,s)<0^h>0){do l.point(0===u||3===u?t:n,u>1?i:e);while((u=(u+h+4)%4)!==c)}else l.point(s[0],s[1])}function u(r,a){return r>=t&&n>=r&&a>=e&&i>=a}function c(t,e){u(t,e)&&s.point(t,e)}function d(){_.point=p,m&&m.push(v=[]),S=!0,k=!1,M=w=0/0}function f(){g&&(p(y,x),b&&k&&P.rejoin(),g.push(P.buffer())),_.point=c,k&&s.lineEnd()}function p(t,e){t=Math.max(-Ah,Math.min(Ah,t)),e=Math.max(-Ah,Math.min(Ah,e));var n=u(t,e);if(m&&v.push([t,e]),S)y=t,x=e,b=n,S=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&k)s.point(t,e);else{var i={a:{x:M,y:w},b:{x:t,y:e}};T(i)?(k||(s.lineStart(),s.point(i.a.x,i.a.y)),s.point(i.b.x,i.b.y),n||s.lineEnd(),C=!1):n&&(s.lineStart(),s.point(t,e),C=!1)}M=t,w=e,k=n}var g,m,v,y,x,b,M,w,k,S,C,A=s,P=Ln(),T=Rn(t,e,n,i),_={point:c,lineStart:d,lineEnd:f,polygonStart:function(){s=P,g=[],m=[],C=!0},polygonEnd:function(){s=A,g=Yo.merge(g);var e=h([t,i]),n=C&&e,r=g.length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),r&&Cn(g,a,e,l,s),s.polygonEnd()),g=m=v=null}};return _}}function Hn(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n}function Wn(t){var e=0,n=ks/3,i=ni(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*ks/180,n=t[1]*ks/180):[180*(e/ks),180*(n/ks)]},r}function Gn(t,e){function n(t,e){var n=Math.sqrt(a-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),o-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,a=1+i*(2*r-i),o=Math.sqrt(a)/r;return n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,K((a-(t*t+n*n)*r*r)/(2*r))]},n}function jn(){function t(t,e){Th+=r*t-i*e,i=t,r=e}var e,n,i,r;zh.point=function(a,o){zh.point=t,e=i=a,n=r=o},zh.lineEnd=function(){t(e,n)}}function Fn(t,e){_h>t&&(_h=t),t>Dh&&(Dh=t),Lh>e&&(Lh=e),e>Eh&&(Eh=e)}function Xn(){function t(t,e){o.push("M",t,",",e,a)}function e(t,e){o.push("M",t,",",e),s.point=n}function n(t,e){o.push("L",t,",",e)}function i(){s.point=t}function r(){o.push("Z")}var a=Yn(4.5),o=[],s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return a=Yn(t),s},result:function(){if(o.length){var t=o.join("");return o=[],t}}};return s}function Yn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function qn(t,e){gh+=t,mh+=e,++vh}function Vn(){function t(t,i){var r=t-e,a=i-n,o=Math.sqrt(r*r+a*a);yh+=o*(e+t)/2,xh+=o*(n+i)/2,bh+=o,qn(e=t,n=i)}var e,n;Oh.point=function(i,r){Oh.point=t,qn(e=i,n=r)}}function Un(){Oh.point=qn}function $n(){function t(t,e){var n=t-i,a=e-r,o=Math.sqrt(n*n+a*a);yh+=o*(i+t)/2,xh+=o*(r+e)/2,bh+=o,o=r*t-i*e,Mh+=o*(i+t),wh+=o*(r+e),kh+=3*o,qn(i=t,r=e)}var e,n,i,r;Oh.point=function(a,o){Oh.point=t,qn(e=i=a,n=r=o)},Oh.lineEnd=function(){t(e,n)}}function Zn(t){function e(e,n){t.moveTo(e,n),t.arc(e,n,o,0,Ss)}function n(e,n){t.moveTo(e,n),s.point=i}function i(e,n){t.lineTo(e,n)}function r(){s.point=e}function a(){t.closePath()}var o=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:r,polygonStart:function(){s.lineEnd=a},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(t){return o=t,s},result:g};return s}function Kn(t){function e(t){return(s?i:n)(t)}function n(e){return ti(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})}function i(e){function n(n,i){n=t(n,i),e.point(n[0],n[1])}function i(){x=0/0,S.point=a,e.lineStart()}function a(n,i){var a=cn([n,i]),o=t(n,i);r(x,b,y,M,w,k,x=o[0],b=o[1],y=n,M=a[0],w=a[1],k=a[2],s,e),e.point(x,b)}function o(){S.point=n,e.lineEnd()}function h(){i(),S.point=l,S.lineEnd=u}function l(t,e){a(c=t,d=e),f=x,p=b,g=M,m=w,v=k,S.point=a}function u(){r(x,b,y,M,w,k,f,p,c,g,m,v,s,e),S.lineEnd=o,o()}var c,d,f,p,g,m,v,y,x,b,M,w,k,S={point:n,lineStart:i,lineEnd:o,polygonStart:function(){e.polygonStart(),S.lineStart=h},polygonEnd:function(){e.polygonEnd(),S.lineStart=i}};return S}function r(e,n,i,s,h,l,u,c,d,f,p,g,m,v){var y=u-e,x=c-n,b=y*y+x*x;if(b>4*a&&m--){var M=s+f,w=h+p,k=l+g,S=Math.sqrt(M*M+w*w+k*k),C=Math.asin(k/=S),A=as(as(k)-1)<As||as(i-d)<As?(i+d)/2:Math.atan2(w,M),P=t(A,C),T=P[0],_=P[1],L=T-e,D=_-n,E=x*L-y*D;(E*E/b>a||as((y*L+x*D)/b-.5)>.3||o>s*f+h*p+l*g)&&(r(e,n,i,s,h,l,T,_,A,M/=S,w/=S,k,m,v),v.point(T,_),r(T,_,A,M,w,k,u,c,d,f,p,g,m,v))}}var a=.5,o=Math.cos(30*Ts),s=16;return e.precision=function(t){return arguments.length?(s=(a=t*t)>0&&16,e):Math.sqrt(a)},e}function Qn(t){var e=Kn(function(e,n){return t([e*_s,n*_s])});return function(t){return ii(e(t))}}function Jn(t){this.stream=t}function ti(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function ei(t){return ni(function(){return t})()}function ni(t){function e(t){return t=s(t[0]*Ts,t[1]*Ts),[t[0]*d+h,l-t[1]*d]}function n(t){return t=s.invert((t[0]-h)/d,(l-t[1])/d),t&&[t[0]*_s,t[1]*_s]}function i(){s=Hn(o=oi(v,y,x),a);var t=a(g,m);return h=f-t[0]*d,l=p+t[1]*d,r()}function r(){return u&&(u.valid=!1,u=null),e}var a,o,s,h,l,u,c=Kn(function(t,e){return t=a(t,e),[t[0]*d+h,l-t[1]*d]}),d=150,f=480,p=250,g=0,m=0,v=0,y=0,x=0,b=Ch,M=ke,w=null,k=null;return e.stream=function(t){return u&&(u.valid=!1),u=ii(b(o,c(M(t)))),u.valid=!0,u},e.clipAngle=function(t){return arguments.length?(b=null==t?(w=t,Ch):Nn((w=+t)*Ts),r()):w},e.clipExtent=function(t){return arguments.length?(k=t,M=t?Bn(t[0][0],t[0][1],t[1][0],t[1][1]):ke,r()):k},e.scale=function(t){return arguments.length?(d=+t,i()):d},e.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],i()):[f,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Ts,m=t[1]%360*Ts,i()):[g*_s,m*_s]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Ts,y=t[1]%360*Ts,x=t.length>2?t[2]%360*Ts:0,i()):[v*_s,y*_s,x*_s]},Yo.rebind(e,c,"precision"),function(){return a=t.apply(this,arguments),e.invert=a.invert&&n,i()}}function ii(t){return ti(t,function(e,n){t.point(e*Ts,n*Ts)})}function ri(t,e){return[t,e]}function ai(t,e){return[t>ks?t-Ss:-ks>t?t+Ss:t,e]}function oi(t,e,n){return t?e||n?Hn(hi(t),li(e,n)):hi(t):e||n?li(e,n):ai}function si(t){return function(e,n){return e+=t,[e>ks?e-Ss:-ks>e?e+Ss:e,n]}}function hi(t){var e=si(t);return e.invert=si(-t),e}function li(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,h=Math.sin(t)*n,l=Math.sin(e),u=l*i+s*r;return[Math.atan2(h*a-u*o,s*i-l*r),K(u*a+h*o)]}var i=Math.cos(t),r=Math.sin(t),a=Math.cos(e),o=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,h=Math.sin(t)*n,l=Math.sin(e),u=l*a-h*o;return[Math.atan2(h*a+l*o,s*i+u*r),K(u*i-s*r)]},n}function ui(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,a,o,s){var h=o*e;null!=r?(r=ci(n,r),a=ci(n,a),(o>0?a>r:r>a)&&(r+=o*Ss)):(r=t+o*Ss,a=t-.5*h);for(var l,u=r;o>0?u>a:a>u;u-=h)s.point((l=vn([n,-i*Math.cos(u),-i*Math.sin(u)]))[0],l[1])}}function ci(t,e){var n=cn(e);n[0]-=t,mn(n);var i=Z(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-As)%(2*Math.PI)}function di(t,e,n){var i=Yo.range(t,e-As,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function fi(t,e,n){var i=Yo.range(t,e-As,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function pi(t){return t.source}function gi(t){return t.target}function mi(t,e,n,i){var r=Math.cos(e),a=Math.sin(e),o=Math.cos(i),s=Math.sin(i),h=r*Math.cos(t),l=r*Math.sin(t),u=o*Math.cos(n),c=o*Math.sin(n),d=2*Math.asin(Math.sqrt(ee(i-e)+r*o*ee(n-t))),f=1/Math.sin(d),p=d?function(t){var e=Math.sin(t*=d)*f,n=Math.sin(d-t)*f,i=n*h+e*u,r=n*l+e*c,o=n*a+e*s;return[Math.atan2(r,i)*_s,Math.atan2(o,Math.sqrt(i*i+r*r))*_s]}:function(){return[t*_s,e*_s]};return p.distance=d,p}function vi(){function t(t,r){var a=Math.sin(r*=Ts),o=Math.cos(r),s=as((t*=Ts)-e),h=Math.cos(s);Nh+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=i*a-n*o*h)*s),n*a+i*o*h),e=t,n=a,i=o}var e,n,i;Rh.point=function(r,a){e=r*Ts,n=Math.sin(a*=Ts),i=Math.cos(a),Rh.point=t},Rh.lineEnd=function(){Rh.point=Rh.lineEnd=g}}function yi(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),a=t(i*r);return[a*r*Math.sin(e),a*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),a=Math.sin(r),o=Math.cos(r);return[Math.atan2(t*a,i*o),Math.asin(i&&n*a/i)]},n}function xi(t,e){function n(t,e){o>0?-Cs+As>e&&(e=-Cs+As):e>Cs-As&&(e=Cs-As);var n=o/Math.pow(r(e),a);return[n*Math.sin(a*t),o-n*Math.cos(a*t)]}var i=Math.cos(t),r=function(t){return Math.tan(ks/4+t/2)},a=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),o=i*Math.pow(r(t),a)/a;return a?(n.invert=function(t,e){var n=o-e,i=U(a)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/a,2*Math.atan(Math.pow(o/i,1/a))-Cs]},n):Mi}function bi(t,e){function n(t,e){var n=a-e;return[n*Math.sin(r*t),a-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),a=i/r+t;return as(r)<As?ri:(n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,a-U(r)*Math.sqrt(t*t+n*n)]},n)}function Mi(t,e){return[t,Math.log(Math.tan(ks/4+e/2))]}function wi(t){var e,n=ei(t),i=n.scale,r=n.translate,a=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var o=a.apply(n,arguments);if(o===n){if(e=null==t){var s=ks*i(),h=r();a([[h[0]-s,h[1]-s],[h[0]+s,h[1]+s]])}}else e&&(o=null);return o},n.clipExtent(null)}function ki(t,e){return[Math.log(Math.tan(ks/4+e/2)),-t]}function Si(t){return t[0]}function Ci(t){return t[1]}function Ai(t){for(var e=t.length,n=[0,1],i=2,r=2;e>r;r++){for(;i>1&&$(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function Pi(t,e){return t[0]-e[0]||t[1]-e[1]}function Ti(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function _i(t,e,n,i){var r=t[0],a=n[0],o=e[0]-r,s=i[0]-a,h=t[1],l=n[1],u=e[1]-h,c=i[1]-l,d=(s*(h-l)-c*(r-a))/(c*o-s*u);return[r+d*o,h+d*u]}function Li(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Di(){Qi(this),this.edge=this.site=this.circle=null}function Ei(t){var e=$h.pop()||new Di;return e.site=t,e}function zi(t){Fi(t),qh.remove(t),$h.push(t),Qi(t)}function Ii(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},a=t.P,o=t.N,s=[t];zi(t);for(var h=a;h.circle&&as(n-h.circle.x)<As&&as(i-h.circle.cy)<As;)a=h.P,s.unshift(h),zi(h),h=a;s.unshift(h),Fi(h);for(var l=o;l.circle&&as(n-l.circle.x)<As&&as(i-l.circle.cy)<As;)o=l.N,s.push(l),zi(l),l=o;s.push(l),Fi(l);var u,c=s.length;for(u=1;c>u;++u)l=s[u],h=s[u-1],$i(l.edge,h.site,l.site,r);h=s[0],l=s[c-1],l.edge=Vi(h.site,l.site,null,r),ji(h),ji(l)}function Oi(t){for(var e,n,i,r,a=t.x,o=t.y,s=qh._;s;)if(i=Ni(s,o)-a,i>As)s=s.L;else{if(r=a-Ri(s,o),!(r>As)){i>-As?(e=s.P,n=s):r>-As?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var h=Ei(t);if(qh.insert(e,h),e||n){if(e===n)return Fi(e),n=Ei(e.site),qh.insert(h,n),h.edge=n.edge=Vi(e.site,h.site),ji(e),void ji(n);if(!n)return void(h.edge=Vi(e.site,h.site));Fi(e),Fi(n);var l=e.site,u=l.x,c=l.y,d=t.x-u,f=t.y-c,p=n.site,g=p.x-u,m=p.y-c,v=2*(d*m-f*g),y=d*d+f*f,x=g*g+m*m,b={x:(m*y-f*x)/v+u,y:(d*x-g*y)/v+c};$i(n.edge,l,p,b),h.edge=Vi(l,t,null,b),n.edge=Vi(t,p,null,b),ji(e),ji(n)}}function Ni(t,e){var n=t.site,i=n.x,r=n.y,a=r-e;if(!a)return i;var o=t.P;if(!o)return-1/0;n=o.site;var s=n.x,h=n.y,l=h-e;if(!l)return s;var u=s-i,c=1/a-1/l,d=u/l;return c?(-d+Math.sqrt(d*d-2*c*(u*u/(-2*l)-h+l/2+r-a/2)))/c+i:(i+s)/2}function Ri(t,e){var n=t.N;if(n)return Ni(n,e);var i=t.site;return i.y===e?i.x:1/0}function Bi(t){this.site=t,this.edges=[]}function Hi(t){for(var e,n,i,r,a,o,s,h,l,u,c=t[0][0],d=t[1][0],f=t[0][1],p=t[1][1],g=Yh,m=g.length;m--;)if(a=g[m],a&&a.prepare())for(s=a.edges,h=s.length,o=0;h>o;)u=s[o].end(),i=u.x,r=u.y,l=s[++o%h].start(),e=l.x,n=l.y,(as(i-e)>As||as(r-n)>As)&&(s.splice(o,0,new Zi(Ui(a.site,u,as(i-c)<As&&p-r>As?{x:c,y:as(e-c)<As?n:p}:as(r-p)<As&&d-i>As?{x:as(n-p)<As?e:d,y:p}:as(i-d)<As&&r-f>As?{x:d,y:as(e-d)<As?n:f}:as(r-f)<As&&i-c>As?{x:as(n-f)<As?e:c,y:f}:null),a.site,null)),++h)}function Wi(t,e){return e.angle-t.angle}function Gi(){Qi(this),this.x=this.y=this.arc=this.site=this.cy=null}function ji(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,a=n.site;if(i!==a){var o=r.x,s=r.y,h=i.x-o,l=i.y-s,u=a.x-o,c=a.y-s,d=2*(h*c-l*u);if(!(d>=-Ps)){var f=h*h+l*l,p=u*u+c*c,g=(c*f-l*p)/d,m=(h*p-u*f)/d,c=m+s,v=Zh.pop()||new Gi;v.arc=t,v.site=r,v.x=g+o,v.y=c+Math.sqrt(g*g+m*m),v.cy=c,t.circle=v;for(var y=null,x=Uh._;x;)if(v.y<x.y||v.y===x.y&&v.x<=x.x){if(!x.L){y=x.P;break}x=x.L}else{if(!x.R){y=x;break}x=x.R}Uh.insert(y,v),y||(Vh=v)}}}}function Fi(t){var e=t.circle;e&&(e.P||(Vh=e.N),Uh.remove(e),Zh.push(e),Qi(e),t.circle=null)}function Xi(t){for(var e,n=Xh,i=Rn(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)e=n[r],(!Yi(e,t)||!i(e)||as(e.a.x-e.b.x)<As&&as(e.a.y-e.b.y)<As)&&(e.a=e.b=null,n.splice(r,1))
}function Yi(t,e){var n=t.b;if(n)return!0;var i,r,a=t.a,o=e[0][0],s=e[1][0],h=e[0][1],l=e[1][1],u=t.l,c=t.r,d=u.x,f=u.y,p=c.x,g=c.y,m=(d+p)/2,v=(f+g)/2;if(g===f){if(o>m||m>=s)return;if(d>p){if(a){if(a.y>=l)return}else a={x:m,y:h};n={x:m,y:l}}else{if(a){if(a.y<h)return}else a={x:m,y:l};n={x:m,y:h}}}else if(i=(d-p)/(g-f),r=v-i*m,-1>i||i>1)if(d>p){if(a){if(a.y>=l)return}else a={x:(h-r)/i,y:h};n={x:(l-r)/i,y:l}}else{if(a){if(a.y<h)return}else a={x:(l-r)/i,y:l};n={x:(h-r)/i,y:h}}else if(g>f){if(a){if(a.x>=s)return}else a={x:o,y:i*o+r};n={x:s,y:i*s+r}}else{if(a){if(a.x<o)return}else a={x:s,y:i*s+r};n={x:o,y:i*o+r}}return t.a=a,t.b=n,!0}function qi(t,e){this.l=t,this.r=e,this.a=this.b=null}function Vi(t,e,n,i){var r=new qi(t,e);return Xh.push(r),n&&$i(r,t,e,n),i&&$i(r,e,t,i),Yh[t.i].edges.push(new Zi(r,t,e)),Yh[e.i].edges.push(new Zi(r,e,t)),r}function Ui(t,e,n){var i=new qi(t,null);return i.a=e,i.b=n,Xh.push(i),i}function $i(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function Zi(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function Ki(){this._=null}function Qi(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ji(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function tr(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function er(t){for(;t.L;)t=t.L;return t}function nr(t,e){var n,i,r,a=t.sort(ir).pop();for(Xh=[],Yh=new Array(t.length),qh=new Ki,Uh=new Ki;;)if(r=Vh,a&&(!r||a.y<r.y||a.y===r.y&&a.x<r.x))(a.x!==n||a.y!==i)&&(Yh[a.i]=new Bi(a),Oi(a),n=a.x,i=a.y),a=t.pop();else{if(!r)break;Ii(r.arc)}e&&(Xi(e),Hi(e));var o={cells:Yh,edges:Xh};return qh=Uh=Xh=Yh=null,o}function ir(t,e){return e.y-t.y||e.x-t.x}function rr(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function ar(t){return t.x}function or(t){return t.y}function sr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function hr(t,e,n,i,r,a){if(!t(e,n,i,r,a)){var o=.5*(n+r),s=.5*(i+a),h=e.nodes;h[0]&&hr(t,h[0],n,i,o,s),h[1]&&hr(t,h[1],o,i,r,s),h[2]&&hr(t,h[2],n,s,o,a),h[3]&&hr(t,h[3],o,s,r,a)}}function lr(t,e){t=Yo.rgb(t),e=Yo.rgb(e);var n=t.r,i=t.g,r=t.b,a=e.r-n,o=e.g-i,s=e.b-r;return function(t){return"#"+me(Math.round(n+a*t))+me(Math.round(i+o*t))+me(Math.round(r+s*t))}}function ur(t,e){var n,i={},r={};for(n in t)n in e?i[n]=fr(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function cr(t,e){return e-=t=+t,function(n){return t+e*n}}function dr(t,e){var n,i,r,a=Qh.lastIndex=Jh.lastIndex=0,o=-1,s=[],h=[];for(t+="",e+="";(n=Qh.exec(t))&&(i=Jh.exec(e));)(r=i.index)>a&&(r=e.substring(a,r),s[o]?s[o]+=r:s[++o]=r),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,h.push({i:o,x:cr(n,i)})),a=Jh.lastIndex;return a<e.length&&(r=e.substring(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?h[0]?(e=h[0].x,function(t){return e(t)+""}):function(){return e}:(e=h.length,function(t){for(var n,i=0;e>i;++i)s[(n=h[i]).i]=n.x(t);return s.join("")})}function fr(t,e){for(var n,i=Yo.interpolators.length;--i>=0&&!(n=Yo.interpolators[i](t,e)););return n}function pr(t,e){var n,i=[],r=[],a=t.length,o=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)i.push(fr(t[n],e[n]));for(;a>n;++n)r[n]=t[n];for(;o>n;++n)r[n]=e[n];return function(t){for(n=0;s>n;++n)r[n]=i[n](t);return r}}function gr(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function mr(t){return function(e){return 1-t(1-e)}}function vr(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function yr(t){return t*t}function xr(t){return t*t*t}function br(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Mr(t){return function(e){return Math.pow(e,t)}}function wr(t){return 1-Math.cos(t*Cs)}function kr(t){return Math.pow(2,10*(t-1))}function Sr(t){return 1-Math.sqrt(1-t*t)}function Cr(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Ss*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Ss/e)}}function Ar(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Pr(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Tr(t,e){t=Yo.hcl(t),e=Yo.hcl(e);var n=t.h,i=t.c,r=t.l,a=e.h-n,o=e.c-i,s=e.l-r;return isNaN(o)&&(o=0,i=isNaN(i)?e.c:i),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:-180>a&&(a+=360),function(t){return oe(n+a*t,i+o*t,r+s*t)+""}}function _r(t,e){t=Yo.hsl(t),e=Yo.hsl(e);var n=t.h,i=t.s,r=t.l,a=e.h-n,o=e.s-i,s=e.l-r;return isNaN(o)&&(o=0,i=isNaN(i)?e.s:i),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:-180>a&&(a+=360),function(t){return re(n+a*t,i+o*t,r+s*t)+""}}function Lr(t,e){t=Yo.lab(t),e=Yo.lab(e);var n=t.l,i=t.a,r=t.b,a=e.l-n,o=e.a-i,s=e.b-r;return function(t){return he(n+a*t,i+o*t,r+s*t)+""}}function Dr(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Er(t){var e=[t.a,t.b],n=[t.c,t.d],i=Ir(e),r=zr(e,n),a=Ir(Or(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*_s,this.translate=[t.e,t.f],this.scale=[i,a],this.skew=a?Math.atan2(r,a)*_s:0}function zr(t,e){return t[0]*e[0]+t[1]*e[1]}function Ir(t){var e=Math.sqrt(zr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Or(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Nr(t,e){var n,i=[],r=[],a=Yo.transform(t),o=Yo.transform(e),s=a.translate,h=o.translate,l=a.rotate,u=o.rotate,c=a.skew,d=o.skew,f=a.scale,p=o.scale;return s[0]!=h[0]||s[1]!=h[1]?(i.push("translate(",null,",",null,")"),r.push({i:1,x:cr(s[0],h[0])},{i:3,x:cr(s[1],h[1])})):i.push(h[0]||h[1]?"translate("+h+")":""),l!=u?(l-u>180?u+=360:u-l>180&&(l+=360),r.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:cr(l,u)})):u&&i.push(i.pop()+"rotate("+u+")"),c!=d?r.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:cr(c,d)}):d&&i.push(i.pop()+"skewX("+d+")"),f[0]!=p[0]||f[1]!=p[1]?(n=i.push(i.pop()+"scale(",null,",",null,")"),r.push({i:n-4,x:cr(f[0],p[0])},{i:n-2,x:cr(f[1],p[1])})):(1!=p[0]||1!=p[1])&&i.push(i.pop()+"scale("+p+")"),n=r.length,function(t){for(var e,a=-1;++a<n;)i[(e=r[a]).i]=e.x(t);return i.join("")}}function Rr(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return(n-t)*e}}function Br(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return Math.max(0,Math.min(1,(n-t)*e))}}function Hr(t){for(var e=t.source,n=t.target,i=Gr(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var a=r.length;n!==i;)r.splice(a,0,n),n=n.parent;return r}function Wr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Gr(t,e){if(t===e)return t;for(var n=Wr(t),i=Wr(e),r=n.pop(),a=i.pop(),o=null;r===a;)o=r,r=n.pop(),a=i.pop();return o}function jr(t){t.fixed|=2}function Fr(t){t.fixed&=-7}function Xr(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Yr(t){t.fixed&=-5}function qr(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var a,o=t.nodes,s=o.length,h=-1;++h<s;)a=o[h],null!=a&&(qr(a,e,n),t.charge+=a.charge,i+=a.charge*a.cx,r+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,i+=l*t.point.x,r+=l*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function Vr(t,e){return Yo.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Jr,t}function Ur(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function $r(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(a=t.children)&&(r=a.length))for(var r,a,o=-1;++o<r;)n.push(a[o]);for(;null!=(t=i.pop());)e(t)}function Zr(t){return t.children}function Kr(t){return t.value}function Qr(t,e){return e.value-t.value}function Jr(t){return Yo.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function ta(t){return t.x}function ea(t){return t.y}function na(t,e,n){t.y0=e,t.y=n}function ia(t){return Yo.range(t.length)}function ra(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function aa(t){for(var e,n=1,i=0,r=t[0][1],a=t.length;a>n;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function oa(t){return t.reduce(sa,0)}function sa(t,e){return t+e[1]}function ha(t,e){return la(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function la(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,a=[];++n<=e;)a[n]=r*n+i;return a}function ua(t){return[Yo.min(t),Yo.max(t)]}function ca(t,e){return t.value-e.value}function da(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function fa(t,e){t._pack_next=e,e._pack_prev=t}function pa(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function ga(t){function e(t){u=Math.min(t.x-t.r,u),c=Math.max(t.x+t.r,c),d=Math.min(t.y-t.r,d),f=Math.max(t.y+t.r,f)}if((n=t.children)&&(l=n.length)){var n,i,r,a,o,s,h,l,u=1/0,c=-1/0,d=1/0,f=-1/0;if(n.forEach(ma),i=n[0],i.x=-i.r,i.y=0,e(i),l>1&&(r=n[1],r.x=r.r,r.y=0,e(r),l>2))for(a=n[2],xa(i,r,a),e(a),da(i,a),i._pack_prev=a,da(a,r),r=i._pack_next,o=3;l>o;o++){xa(i,r,a=n[o]);var p=0,g=1,m=1;for(s=r._pack_next;s!==r;s=s._pack_next,g++)if(pa(s,a)){p=1;break}if(1==p)for(h=i._pack_prev;h!==s._pack_prev&&!pa(h,a);h=h._pack_prev,m++);p?(m>g||g==m&&r.r<i.r?fa(i,r=s):fa(i=h,r),o--):(da(i,a),r=a,e(a))}var v=(u+c)/2,y=(d+f)/2,x=0;for(o=0;l>o;o++)a=n[o],a.x-=v,a.y-=y,x=Math.max(x,a.r+Math.sqrt(a.x*a.x+a.y*a.y));t.r=x,n.forEach(va)}}function ma(t){t._pack_next=t._pack_prev=t}function va(t){delete t._pack_next,delete t._pack_prev}function ya(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var a=-1,o=r.length;++a<o;)ya(r[a],e,n,i)}function xa(t,e,n){var i=t.r+n.r,r=e.x-t.x,a=e.y-t.y;if(i&&(r||a)){var o=e.r+n.r,s=r*r+a*a;o*=o,i*=i;var h=.5+(i-o)/(2*s),l=Math.sqrt(Math.max(0,2*o*(i+s)-(i-=s)*i-o*o))/(2*s);n.x=t.x+h*r+l*a,n.y=t.y+h*a-l*r}else n.x=t.x+i,n.y=t.y}function ba(t,e){return t.parent==e.parent?1:2}function Ma(t){var e=t.children;return e.length?e[0]:t.t}function wa(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function ka(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Sa(t){for(var e,n=0,i=0,r=t.children,a=r.length;--a>=0;)e=r[a],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function Ca(t,e,n){return t.a.parent===e.parent?t.a:n}function Aa(t){return 1+Yo.max(t,function(t){return t.y})}function Pa(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Ta(t){var e=t.children;return e&&e.length?Ta(e[0]):t}function _a(t){var e,n=t.children;return n&&(e=n.length)?_a(n[e-1]):t}function La(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Da(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return 0>r&&(n+=r/2,r=0),0>a&&(i+=a/2,a=0),{x:n,y:i,dx:r,dy:a}}function Ea(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function za(t){return t.rangeExtent?t.rangeExtent():Ea(t.range())}function Ia(t,e,n,i){var r=n(t[0],t[1]),a=i(e[0],e[1]);return function(t){return a(r(t))}}function Oa(t,e){var n,i=0,r=t.length-1,a=t[i],o=t[r];return a>o&&(n=i,i=r,r=n,n=a,a=o,o=n),t[i]=e.floor(a),t[r]=e.ceil(o),t}function Na(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:ul}function Ra(t,e,n,i){var r=[],a=[],o=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<=s;)r.push(n(t[o-1],t[o])),a.push(i(e[o-1],e[o]));return function(e){var n=Yo.bisect(t,e,1,s)-1;return a[n](r[n](e))}}function Ba(t,e,n,i){function r(){var r=Math.min(t.length,e.length)>2?Ra:Ia,h=i?Br:Rr;return o=r(t,e,h,n),s=r(e,t,h,fr),a}function a(t){return o(t)}var o,s;return a.invert=function(t){return s(t)},a.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},a.range=function(t){return arguments.length?(e=t,r()):e},a.rangeRound=function(t){return a.range(t).interpolate(Dr)},a.clamp=function(t){return arguments.length?(i=t,r()):i},a.interpolate=function(t){return arguments.length?(n=t,r()):n},a.ticks=function(e){return ja(t,e)},a.tickFormat=function(e,n){return Fa(t,e,n)},a.nice=function(e){return Wa(t,e),r()},a.copy=function(){return Ba(t,e,n,i)},r()}function Ha(t,e){return Yo.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Wa(t,e){return Oa(t,Na(Ga(t,e)[2]))}function Ga(t,e){null==e&&(e=10);var n=Ea(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),a=e/i*r;return.15>=a?r*=10:.35>=a?r*=5:.75>=a&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function ja(t,e){return Yo.range.apply(Yo,Ga(t,e))}function Fa(t,e,n){var i=Ga(t,e);if(n){var r=Qs.exec(n);if(r.shift(),"s"===r[8]){var a=Yo.formatPrefix(Math.max(as(i[0]),as(i[1])));return r[7]||(r[7]="."+Xa(a.scale(i[2]))),r[8]="f",n=Yo.format(r.join("")),function(t){return n(a.scale(t))+a.symbol}}r[7]||(r[7]="."+Ya(r[8],i)),n=r.join("")}else n=",."+Xa(i[2])+"f";return Yo.format(n)}function Xa(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Ya(t,e){var n=Xa(e[2]);return t in cl?Math.abs(n-Xa(Math.max(as(e[0]),as(e[1]))))+ +("e"!==t):n-2*("%"===t)}function qa(t,e,n,i){function r(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function a(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function o(e){return t(r(e))}return o.invert=function(e){return a(t.invert(e))},o.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((i=e.map(Number)).map(r)),o):i},o.base=function(n){return arguments.length?(e=+n,t.domain(i.map(r)),o):e},o.nice=function(){var e=Oa(i.map(r),n?Math:fl);return t.domain(e),i=e.map(a),o},o.ticks=function(){var t=Ea(i),o=[],s=t[0],h=t[1],l=Math.floor(r(s)),u=Math.ceil(r(h)),c=e%1?2:e;if(isFinite(u-l)){if(n){for(;u>l;l++)for(var d=1;c>d;d++)o.push(a(l)*d);o.push(a(l))}else for(o.push(a(l));l++<u;)for(var d=c-1;d>0;d--)o.push(a(l)*d);for(l=0;o[l]<s;l++);for(u=o.length;o[u-1]>h;u--);o=o.slice(l,u)}return o},o.tickFormat=function(t,e){if(!arguments.length)return dl;arguments.length<2?e=dl:"function"!=typeof e&&(e=Yo.format(e));var i,s=Math.max(.1,t/o.ticks().length),h=n?(i=1e-12,Math.ceil):(i=-1e-12,Math.floor);return function(t){return t/a(h(r(t)+i))<=s?e(t):""}},o.copy=function(){return qa(t.copy(),e,n,i)},Ha(o,t)}function Va(t,e,n){function i(e){return t(r(e))}var r=Ua(e),a=Ua(1/e);return i.invert=function(e){return a(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),i):n},i.ticks=function(t){return ja(n,t)},i.tickFormat=function(t,e){return Fa(n,t,e)},i.nice=function(t){return i.domain(Wa(n,t))},i.exponent=function(o){return arguments.length?(r=Ua(e=o),a=Ua(1/e),t.domain(n.map(r)),i):e},i.copy=function(){return Va(t.copy(),e,n)},Ha(i,t)}function Ua(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function $a(t,e){function n(n){return a[((r.get(n)||("range"===e.t?r.set(n,t.push(n)):0/0))-1)%a.length]}function i(e,n){return Yo.range(t.length).map(function(t){return e+n*t})}var r,a,s;return n.domain=function(i){if(!arguments.length)return t;t=[],r=new o;for(var a,s=-1,h=i.length;++s<h;)r.has(a=i[s])||r.set(a,t.push(a));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(a=t,s=0,e={t:"range",a:arguments},n):a},n.rangePoints=function(r,o){arguments.length<2&&(o=0);var h=r[0],l=r[1],u=(l-h)/(Math.max(1,t.length-1)+o);return a=i(t.length<2?(h+l)/2:h+u*o/2,u),s=0,e={t:"rangePoints",a:arguments},n},n.rangeBands=function(r,o,h){arguments.length<2&&(o=0),arguments.length<3&&(h=o);var l=r[1]<r[0],u=r[l-0],c=r[1-l],d=(c-u)/(t.length-o+2*h);return a=i(u+d*h,d),l&&a.reverse(),s=d*(1-o),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,o,h){arguments.length<2&&(o=0),arguments.length<3&&(h=o);var l=r[1]<r[0],u=r[l-0],c=r[1-l],d=Math.floor((c-u)/(t.length-o+2*h)),f=c-u-(t.length-o)*d;return a=i(u+Math.round(f/2),d),l&&a.reverse(),s=Math.round(d*(1-o)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){return Ea(e.a[0])},n.copy=function(){return $a(t,e)},n.domain(t)}function Za(n,i){function r(){var t=0,e=i.length;for(o=[];++t<e;)o[t-1]=Yo.quantile(n,t/e);return a}function a(t){return isNaN(t=+t)?void 0:i[Yo.bisect(o,t)]}var o;return a.domain=function(i){return arguments.length?(n=i.filter(e).sort(t),r()):n},a.range=function(t){return arguments.length?(i=t,r()):i},a.quantiles=function(){return o},a.invertExtent=function(t){return t=i.indexOf(t),0>t?[0/0,0/0]:[t>0?o[t-1]:n[0],t<o.length?o[t]:n[n.length-1]]},a.copy=function(){return Za(n,i)},r()}function Ka(t,e,n){function i(e){return n[Math.max(0,Math.min(o,Math.floor(a*(e-t))))]}function r(){return a=n.length/(e-t),o=n.length-1,i}var a,o;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],r()):[t,e]},i.range=function(t){return arguments.length?(n=t,r()):n},i.invertExtent=function(e){return e=n.indexOf(e),e=0>e?0/0:e/a+t,[e,e+1/a]},i.copy=function(){return Ka(t,e,n)},r()}function Qa(t,e){function n(n){return n>=n?e[Yo.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return Qa(t,e)},n}function Ja(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return ja(t,e)},e.tickFormat=function(e,n){return Fa(t,e,n)},e.copy=function(){return Ja(t)},e}function to(t){return t.innerRadius}function eo(t){return t.outerRadius}function no(t){return t.startAngle}function io(t){return t.endAngle}function ro(t){function e(e){function o(){l.push("M",a(t(u),s))}for(var h,l=[],u=[],c=-1,d=e.length,f=we(n),p=we(i);++c<d;)r.call(this,h=e[c],c)?u.push([+f.call(this,h,c),+p.call(this,h,c)]):u.length&&(o(),u=[]);return u.length&&o(),l.length?l.join(""):null}var n=Si,i=Ci,r=Sn,a=ao,o=a.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(o="function"==typeof t?a=t:(a=bl.get(t)||ao).key,e):o},e.tension=function(t){return arguments.length?(s=t,e):s},e}function ao(t){return t.join("L")}function oo(t){return ao(t)+"Z"}function so(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function ho(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function lo(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function uo(t,e){return t.length<4?ao(t):t[1]+po(t.slice(1,t.length-1),go(t,e))}function co(t,e){return t.length<3?ao(t):t[0]+po((t.push(t[0]),t),go([t[t.length-2]].concat(t,[t[1]]),e))}function fo(t,e){return t.length<3?ao(t):t[0]+po(t,go(t,e))}function po(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return ao(t);var n=t.length!=e.length,i="",r=t[0],a=t[1],o=e[0],s=o,h=1;if(n&&(i+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],r=t[1],h=2),e.length>1){s=e[1],a=t[h],h++,i+="C"+(r[0]+o[0])+","+(r[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var l=2;l<e.length;l++,h++)a=t[h],s=e[l],i+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var u=t[h];i+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+u[0]+","+u[1]}return i}function go(t,e){for(var n,i=[],r=(1-e)/2,a=t[0],o=t[1],s=1,h=t.length;++s<h;)n=a,a=o,o=t[s],i.push([r*(o[0]-n[0]),r*(o[1]-n[1])]);return i}function mo(t){if(t.length<3)return ao(t);var e=1,n=t.length,i=t[0],r=i[0],a=i[1],o=[r,r,r,(i=t[1])[0]],s=[a,a,a,i[1]],h=[r,",",a,"L",bo(kl,o),",",bo(kl,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],o.shift(),o.push(i[0]),s.shift(),s.push(i[1]),Mo(h,o,s);return t.pop(),h.push("L",i),h.join("")}function vo(t){if(t.length<4)return ao(t);for(var e,n=[],i=-1,r=t.length,a=[0],o=[0];++i<3;)e=t[i],a.push(e[0]),o.push(e[1]);for(n.push(bo(kl,a)+","+bo(kl,o)),--i;++i<r;)e=t[i],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),Mo(n,a,o);return n.join("")}function yo(t){for(var e,n,i=-1,r=t.length,a=r+4,o=[],s=[];++i<4;)n=t[i%r],o.push(n[0]),s.push(n[1]);for(e=[bo(kl,o),",",bo(kl,s)],--i;++i<a;)n=t[i%r],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),Mo(e,o,s);return e.join("")}function xo(t,e){var n=t.length-1;if(n)for(var i,r,a=t[0][0],o=t[0][1],s=t[n][0]-a,h=t[n][1]-o,l=-1;++l<=n;)i=t[l],r=l/n,i[0]=e*i[0]+(1-e)*(a+r*s),i[1]=e*i[1]+(1-e)*(o+r*h);return mo(t)}function bo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Mo(t,e,n){t.push("C",bo(Ml,e),",",bo(Ml,n),",",bo(wl,e),",",bo(wl,n),",",bo(kl,e),",",bo(kl,n))}function wo(t,e){return(e[1]-t[1])/(e[0]-t[0])}function ko(t){for(var e=0,n=t.length-1,i=[],r=t[0],a=t[1],o=i[0]=wo(r,a);++e<n;)i[e]=(o+(o=wo(r=a,a=t[e+1])))/2;return i[e]=o,i}function So(t){for(var e,n,i,r,a=[],o=ko(t),s=-1,h=t.length-1;++s<h;)e=wo(t[s],t[s+1]),as(e)<As?o[s]=o[s+1]=0:(n=o[s]/e,i=o[s+1]/e,r=n*n+i*i,r>9&&(r=3*e/Math.sqrt(r),o[s]=r*n,o[s+1]=r*i));for(s=-1;++s<=h;)r=(t[Math.min(h,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([r||0,o[s]*r||0]);return a}function Co(t){return t.length<3?ao(t):t[0]+po(t,So(t))}function Ao(t){for(var e,n,i,r=-1,a=t.length;++r<a;)e=t[r],n=e[0],i=e[1]+yl,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Po(t){function e(e){function h(){g.push("M",s(t(v),c),u,l(t(m.reverse()),c),"Z")}for(var d,f,p,g=[],m=[],v=[],y=-1,x=e.length,b=we(n),M=we(r),w=n===i?function(){return f}:we(i),k=r===a?function(){return p}:we(a);++y<x;)o.call(this,d=e[y],y)?(m.push([f=+b.call(this,d,y),p=+M.call(this,d,y)]),v.push([+w.call(this,d,y),+k.call(this,d,y)])):m.length&&(h(),m=[],v=[]);return m.length&&h(),g.length?g.join(""):null}var n=Si,i=Si,r=0,a=Ci,o=Sn,s=ao,h=s.key,l=s,u="L",c=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(r=a=t,e):a},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(a=t,e):a},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(h="function"==typeof t?s=t:(s=bl.get(t)||ao).key,l=s.reverse||s,u=s.closed?"M":"L",e):h},e.tension=function(t){return arguments.length?(c=t,e):c},e}function To(t){return t.radius}function _o(t){return[t.x,t.y]}function Lo(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]+yl;return[n*Math.cos(i),n*Math.sin(i)]}}function Do(){return 64}function Eo(){return"circle"}function zo(t){var e=Math.sqrt(t/ks);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Io(t,e){return us(t,_l),t.id=e,t}function Oo(t,e,n,i){var r=t.id;return N(t,"function"==typeof n?function(t,a,o){t.__transition__[r].tween.set(e,i(n.call(t,t.__data__,a,o)))}:(n=i(n),function(t){t.__transition__[r].tween.set(e,n)}))}function No(t){return null==t&&(t=""),function(){this.textContent=t}}function Ro(t,e,n,i){var r=t.__transition__||(t.__transition__={active:0,count:0}),a=r[n];if(!a){var s=i.time;a=r[n]={tween:new o,time:s,ease:i.ease,delay:i.delay,duration:i.duration},++r.count,Yo.timer(function(i){function o(i){return r.active>n?l():(r.active=n,a.event&&a.event.start.call(t,u,e),a.tween.forEach(function(n,i){(i=i.call(t,u,e))&&g.push(i)}),void Yo.timer(function(){return p.c=h(i||1)?Sn:h,1},0,s))}function h(i){if(r.active!==n)return l();for(var o=i/f,s=c(o),h=g.length;h>0;)g[--h].call(t,s);return o>=1?(a.event&&a.event.end.call(t,u,e),l()):void 0}function l(){return--r.count?delete r[n]:delete t.__transition__,1}var u=t.__data__,c=a.ease,d=a.delay,f=a.duration,p=$s,g=[];return p.t=d+s,i>=d?o(i-d):void(p.c=o)},0,s)}}function Bo(t,e){t.attr("transform",function(t){return"translate("+e(t)+",0)"})}function Ho(t,e){t.attr("transform",function(t){return"translate(0,"+e(t)+")"})}function Wo(t){return t.toISOString()}function Go(t,e,n){function i(e){return t(e)}function r(t,n){var i=t[1]-t[0],r=i/n,a=Yo.bisect(Bl,r);return a==Bl.length?[e.year,Ga(t.map(function(t){return t/31536e6}),n)[2]]:a?e[r/Bl[a-1]<Bl[a]/r?a-1:a]:[Gl,Ga(t,n)[2]]}return i.invert=function(e){return jo(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(jo)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,jo(+n+1),e).length}var a=i.domain(),o=Ea(a),s=null==t?r(o,10):"number"==typeof t&&r(o,t);return s&&(t=s[0],e=s[1]),i.domain(Oa(a,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=jo(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=jo(+e+1);return e}}:t))},i.ticks=function(t,e){var n=Ea(i.domain()),a=null==t?r(n,10):"number"==typeof t?r(n,t):!t.range&&[{range:t},e];return a&&(t=a[0],e=a[1]),t.range(n[0],jo(+n[1]+1),1>e?1:e)},i.tickFormat=function(){return n},i.copy=function(){return Go(t.copy(),e,n)},Ha(i,t)}function jo(t){return new Date(t)}function Fo(t){return JSON.parse(t.responseText)}function Xo(t){var e=Uo.createRange();return e.selectNode(Uo.body),e.createContextualFragment(t.responseText)}var Yo={version:"3.4.9"};Date.now||(Date.now=function(){return+new Date});var qo=[].slice,Vo=function(t){return qo.call(t)},Uo=document,$o=Uo.documentElement,Zo=window;try{Vo($o.childNodes)[0].nodeType}catch(Ko){Vo=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}try{Uo.createElement("div").style.setProperty("opacity",0,"")}catch(Qo){var Jo=Zo.Element.prototype,ts=Jo.setAttribute,es=Jo.setAttributeNS,ns=Zo.CSSStyleDeclaration.prototype,is=ns.setProperty;Jo.setAttribute=function(t,e){ts.call(this,t,e+"")},Jo.setAttributeNS=function(t,e,n){es.call(this,t,e,n+"")},ns.setProperty=function(t,e,n){is.call(this,t,e+"",n)}}Yo.ascending=t,Yo.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:0/0},Yo.min=function(t,e){var n,i,r=-1,a=t.length;if(1===arguments.length){for(;++r<a&&!(null!=(n=t[r])&&n>=n);)n=void 0;for(;++r<a;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<a&&!(null!=(n=e.call(t,t[r],r))&&n>=n);)n=void 0;for(;++r<a;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},Yo.max=function(t,e){var n,i,r=-1,a=t.length;if(1===arguments.length){for(;++r<a&&!(null!=(n=t[r])&&n>=n);)n=void 0;for(;++r<a;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<a&&!(null!=(n=e.call(t,t[r],r))&&n>=n);)n=void 0;for(;++r<a;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},Yo.extent=function(t,e){var n,i,r,a=-1,o=t.length;if(1===arguments.length){for(;++a<o&&!(null!=(n=r=t[a])&&n>=n);)n=r=void 0;for(;++a<o;)null!=(i=t[a])&&(n>i&&(n=i),i>r&&(r=i))}else{for(;++a<o&&!(null!=(n=r=e.call(t,t[a],a))&&n>=n);)n=void 0;for(;++a<o;)null!=(i=e.call(t,t[a],a))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]},Yo.sum=function(t,e){var n,i=0,r=t.length,a=-1;if(1===arguments.length)for(;++a<r;)isNaN(n=+t[a])||(i+=n);else for(;++a<r;)isNaN(n=+e.call(t,t[a],a))||(i+=n);return i},Yo.mean=function(t,n){var i,r=0,a=t.length,o=-1,s=a;if(1===arguments.length)for(;++o<a;)e(i=t[o])?r+=i:--s;else for(;++o<a;)e(i=n.call(t,t[o],o))?r+=i:--s;return s?r/s:void 0},Yo.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],a=n-i;return a?r+a*(t[i]-r):r},Yo.median=function(n,i){return arguments.length>1&&(n=n.map(i)),n=n.filter(e),n.length?Yo.quantile(n.sort(t),.5):void 0};var rs=n(t);Yo.bisectLeft=rs.left,Yo.bisect=Yo.bisectRight=rs.right,Yo.bisector=function(e){return n(1===e.length?function(n,i){return t(e(n),i)}:e)},Yo.shuffle=function(t){for(var e,n,i=t.length;i;)n=0|Math.random()*i--,e=t[i],t[i]=t[n],t[n]=e;return t},Yo.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},Yo.pairs=function(t){for(var e,n=0,i=t.length-1,r=t[0],a=new Array(0>i?0:i);i>n;)a[n]=[e=r,r=t[++n]];return a},Yo.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=Yo.min(arguments,i),n=new Array(e);++t<e;)for(var r,a=-1,o=n[t]=new Array(r);++a<r;)o[a]=arguments[a][t];return n},Yo.transpose=function(t){return Yo.zip.apply(Yo,t)},Yo.keys=function(t){var e=[];for(var n in t)e.push(n);return e},Yo.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},Yo.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Yo.merge=function(t){for(var e,n,i,r=t.length,a=-1,o=0;++a<r;)o+=t[a].length;for(n=new Array(o);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--o]=i[e];return n};var as=Math.abs;Yo.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),1/0===(e-t)/n)throw new Error("infinite range");var i,a=[],o=r(as(n)),s=-1;if(t*=o,e*=o,n*=o,0>n)for(;(i=t+n*++s)>e;)a.push(i/o);else for(;(i=t+n*++s)<e;)a.push(i/o);return a},Yo.map=function(t){var e=new o;if(t instanceof o)t.forEach(function(t,n){e.set(t,n)});else for(var n in t)e.set(n,t[n]);return e},a(o,{has:s,get:function(t){return this[os+t]},set:function(t,e){return this[os+t]=e},remove:h,keys:l,values:function(){var t=[];return this.forEach(function(e,n){t.push(n)}),t},entries:function(){var t=[];return this.forEach(function(e,n){t.push({key:e,value:n})}),t},size:u,empty:c,forEach:function(t){for(var e in this)e.charCodeAt(0)===ss&&t.call(this,e.substring(1),this[e])}});var os="\x00",ss=os.charCodeAt(0);Yo.nest=function(){function t(e,s,h){if(h>=a.length)return i?i.call(r,s):n?s.sort(n):s;for(var l,u,c,d,f=-1,p=s.length,g=a[h++],m=new o;++f<p;)(d=m.get(l=g(u=s[f])))?d.push(u):m.set(l,[u]);return e?(u=e(),c=function(n,i){u.set(n,t(e,i,h))}):(u={},c=function(n,i){u[n]=t(e,i,h)}),m.forEach(c),u}function e(t,n){if(n>=a.length)return t;var i=[],r=s[n++];return t.forEach(function(t,r){i.push({key:t,values:e(r,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var n,i,r={},a=[],s=[];return r.map=function(e,n){return t(n,e,0)},r.entries=function(n){return e(t(Yo.map,n,0),0)},r.key=function(t){return a.push(t),r},r.sortKeys=function(t){return s[a.length-1]=t,r},r.sortValues=function(t){return n=t,r},r.rollup=function(t){return i=t,r},r},Yo.set=function(t){var e=new d;if(t)for(var n=0,i=t.length;i>n;++n)e.add(t[n]);return e},a(d,{has:s,add:function(t){return this[os+t]=!0,t},remove:function(t){return t=os+t,t in this&&delete this[t]},values:l,size:u,empty:c,forEach:function(t){for(var e in this)e.charCodeAt(0)===ss&&t.call(this,e.substring(1))}}),Yo.behavior={},Yo.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=f(t,e,e[n]);return t};var hs=["webkit","ms","moz","Moz","o","O"];Yo.dispatch=function(){for(var t=new m,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=v(t);return t},m.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.substring(n+1),t=t.substring(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},Yo.event=null,Yo.requote=function(t){return t.replace(ls,"\\$&")};var ls=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,us={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},cs=function(t,e){return e.querySelector(t)},ds=function(t,e){return e.querySelectorAll(t)},fs=$o.matches||$o[p($o,"matchesSelector")],ps=function(t,e){return fs.call(t,e)};"function"==typeof Sizzle&&(cs=function(t,e){return Sizzle(t,e)[0]||null},ds=Sizzle,ps=Sizzle.matchesSelector),Yo.selection=function(){return ys};var gs=Yo.selection.prototype=[];gs.select=function(t){var e,n,i,r,a=[];t=w(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]),e.parentNode=(i=this[o]).parentNode;for(var h=-1,l=i.length;++h<l;)(r=i[h])?(e.push(n=t.call(r,r.__data__,h,o)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return M(a)},gs.selectAll=function(t){var e,n,i=[];t=k(t);for(var r=-1,a=this.length;++r<a;)for(var o=this[r],s=-1,h=o.length;++s<h;)(n=o[s])&&(i.push(e=Vo(t.call(n,n.__data__,s,r))),e.parentNode=n);return M(i)};var ms={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Yo.ns={prefix:ms,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.substring(0,e),t=t.substring(e+1)),ms.hasOwnProperty(n)?{space:ms[n],local:t}:t
}},gs.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=Yo.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(S(e,t[e]));return this}return this.each(S(t,e))},gs.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=P(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!A(t[r]).test(e))return!1;return!0}for(e in t)this.each(T(e,t[e]));return this}return this.each(T(t,e))},gs.style=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e="");for(n in t)this.each(L(n,t[n],e));return this}if(2>i)return Zo.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(L(t,e,n))},gs.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(D(e,t[e]));return this}return this.each(D(t,e))},gs.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},gs.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},gs.append=function(t){return t=E(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},gs.insert=function(t,e){return t=E(t),e=w(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},gs.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},gs.data=function(t,e){function n(t,n){var i,r,a,s=t.length,c=n.length,d=Math.min(s,c),f=new Array(c),p=new Array(c),g=new Array(s);if(e){var m,v=new o,y=new o,x=[];for(i=-1;++i<s;)m=e.call(r=t[i],r.__data__,i),v.has(m)?g[i]=r:v.set(m,r),x.push(m);for(i=-1;++i<c;)m=e.call(n,a=n[i],i),(r=v.get(m))?(f[i]=r,r.__data__=a):y.has(m)||(p[i]=z(a)),y.set(m,a),v.remove(m);for(i=-1;++i<s;)v.has(x[i])&&(g[i]=t[i])}else{for(i=-1;++i<d;)r=t[i],a=n[i],r?(r.__data__=a,f[i]=r):p[i]=z(a);for(;c>i;++i)p[i]=z(n[i]);for(;s>i;++i)g[i]=t[i]}p.update=f,p.parentNode=f.parentNode=g.parentNode=t.parentNode,h.push(p),l.push(f),u.push(g)}var i,r,a=-1,s=this.length;if(!arguments.length){for(t=new Array(s=(i=this[0]).length);++a<s;)(r=i[a])&&(t[a]=r.__data__);return t}var h=R([]),l=M([]),u=M([]);if("function"==typeof t)for(;++a<s;)n(i=this[a],t.call(i,i.parentNode.__data__,a));else for(;++a<s;)n(i=this[a],t);return l.enter=function(){return h},l.exit=function(){return u},l},gs.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},gs.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=I(t));for(var a=0,o=this.length;o>a;a++){r.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var s=0,h=n.length;h>s;s++)(i=n[s])&&t.call(i,i.__data__,s,a)&&e.push(i)}return M(r)},gs.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,a=i[r];--r>=0;)(n=i[r])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},gs.sort=function(t){t=O.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},gs.each=function(t){return N(this,function(e,n,i){t.call(e,e.__data__,n,i)})},gs.call=function(t){var e=Vo(arguments);return t.apply(e[0]=this,e),this},gs.empty=function(){return!this.node()},gs.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],i=0,r=n.length;r>i;i++){var a=n[i];if(a)return a}return null},gs.size=function(){var t=0;return this.each(function(){++t}),t};var vs=[];Yo.selection.enter=R,Yo.selection.enter.prototype=vs,vs.append=gs.append,vs.empty=gs.empty,vs.node=gs.node,vs.call=gs.call,vs.size=gs.size,vs.select=function(t){for(var e,n,i,r,a,o=[],s=-1,h=this.length;++s<h;){i=(r=this[s]).update,o.push(e=[]),e.parentNode=r.parentNode;for(var l=-1,u=r.length;++l<u;)(a=r[l])?(e.push(i[l]=n=t.call(r.parentNode,a.__data__,l,s)),n.__data__=a.__data__):e.push(null)}return M(o)},vs.insert=function(t,e){return arguments.length<2&&(e=B(this)),gs.insert.call(this,t,e)},gs.transition=function(){for(var t,e,n=Cl||++Ll,i=[],r=Al||{time:Date.now(),ease:br,delay:0,duration:250},a=-1,o=this.length;++a<o;){i.push(t=[]);for(var s=this[a],h=-1,l=s.length;++h<l;)(e=s[h])&&Ro(e,h,n,r),t.push(e)}return Io(i,n)},gs.interrupt=function(){return this.each(H)},Yo.select=function(t){var e=["string"==typeof t?cs(t,Uo):t];return e.parentNode=$o,M([e])},Yo.selectAll=function(t){var e=Vo("string"==typeof t?ds(t,Uo):t);return e.parentNode=$o,M([e])};var ys=Yo.select($o);gs.on=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e=!1);for(n in t)this.each(W(n,t[n],e));return this}if(2>i)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(W(t,e,n))};var xs=Yo.map({mouseenter:"mouseover",mouseleave:"mouseout"});xs.forEach(function(t){"on"+t in Uo&&xs.remove(t)});var bs="onselectstart"in Uo?null:p($o.style,"userSelect"),Ms=0;Yo.mouse=function(t){return X(t,x())};var ws=/WebKit/.test(Zo.navigator.userAgent)?-1:0;Yo.touches=function(t,e){return arguments.length<2&&(e=x().touches),e?Vo(e).map(function(e){var n=X(t,e);return n.identifier=e.identifier,n}):[]},Yo.behavior.drag=function(){function t(){this.on("mousedown.drag",r).on("touchstart.drag",a)}function e(t,e,r,a,o){return function(){function s(){var t,n,i=e(d,g);i&&(t=i[0]-x[0],n=i[1]-x[1],p|=t|n,x=i,f({type:"drag",x:i[0]+l[0],y:i[1]+l[1],dx:t,dy:n}))}function h(){e(d,g)&&(v.on(a+m,null).on(o+m,null),y(p&&Yo.event.target===c),f({type:"dragend"}))}var l,u=this,c=Yo.event.target,d=u.parentNode,f=n.of(u,arguments),p=0,g=t(),m=".drag"+(null==g?"":"-"+g),v=Yo.select(r()).on(a+m,s).on(o+m,h),y=F(),x=e(d,g);i?(l=i.apply(u,arguments),l=[l.x-x[0],l.y-x[1]]):l=[0,0],f({type:"dragstart"})}}var n=b(t,"drag","dragstart","dragend"),i=null,r=e(g,Yo.mouse,V,"mousemove","mouseup"),a=e(Y,Yo.touch,q,"touchmove","touchend");return t.origin=function(e){return arguments.length?(i=e,t):i},Yo.rebind(t,n,"on")};var ks=Math.PI,Ss=2*ks,Cs=ks/2,As=1e-6,Ps=As*As,Ts=ks/180,_s=180/ks,Ls=Math.SQRT2,Ds=2,Es=4;Yo.interpolateZoom=function(t,e){function n(t){var e=t*y;if(v){var n=J(g),o=a/(Ds*d)*(n*te(Ls*e+g)-Q(g));return[i+o*l,r+o*u,a*n/J(Ls*e+g)]}return[i+t*l,r+t*u,a*Math.exp(Ls*e)]}var i=t[0],r=t[1],a=t[2],o=e[0],s=e[1],h=e[2],l=o-i,u=s-r,c=l*l+u*u,d=Math.sqrt(c),f=(h*h-a*a+Es*c)/(2*a*Ds*d),p=(h*h-a*a-Es*c)/(2*h*Ds*d),g=Math.log(Math.sqrt(f*f+1)-f),m=Math.log(Math.sqrt(p*p+1)-p),v=m-g,y=(v||Math.log(h/a))/Ls;return n.duration=1e3*y,n},Yo.behavior.zoom=function(){function t(t){t.on(P,l).on(Os+".zoom",c).on(T,d).on("dblclick.zoom",f).on(L,u)}function e(t){return[(t[0]-S.x)/S.k,(t[1]-S.y)/S.k]}function n(t){return[t[0]*S.k+S.x,t[1]*S.k+S.y]}function i(t){S.k=Math.max(A[0],Math.min(A[1],t))}function r(t,e){e=n(e),S.x+=t[0]-e[0],S.y+=t[1]-e[1]}function a(){M&&M.domain(x.range().map(function(t){return(t-S.x)/S.k}).map(x.invert)),k&&k.domain(w.range().map(function(t){return(t-S.y)/S.k}).map(w.invert))}function o(t){t({type:"zoomstart"})}function s(t){a(),t({type:"zoom",scale:S.k,translate:[S.x,S.y]})}function h(t){t({type:"zoomend"})}function l(){function t(){u=1,r(Yo.mouse(i),f),s(l)}function n(){c.on(T,Zo===i?d:null).on(_,null),p(u&&Yo.event.target===a),h(l)}var i=this,a=Yo.event.target,l=D.of(i,arguments),u=0,c=Yo.select(Zo).on(T,t).on(_,n),f=e(Yo.mouse(i)),p=F();H.call(i),o(l)}function u(){function t(){var t=Yo.touches(f);return d=S.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=e(t))}),t}function n(){var e=Yo.event.target;Yo.select(e).on(b,a).on(M,c),w.push(e);for(var n=Yo.event.changedTouches,o=0,h=n.length;h>o;++o)g[n[o].identifier]=null;var l=t(),u=Date.now();if(1===l.length){if(500>u-v){var d=l[0],f=g[d.identifier];i(2*S.k),r(d,f),y(),s(p)}v=u}else if(l.length>1){var d=l[0],x=l[1],k=d[0]-x[0],C=d[1]-x[1];m=k*k+C*C}}function a(){for(var t,e,n,a,o=Yo.touches(f),h=0,l=o.length;l>h;++h,a=null)if(n=o[h],a=g[n.identifier]){if(e)break;t=n,e=a}if(a){var u=(u=n[0]-t[0])*u+(u=n[1]-t[1])*u,c=m&&Math.sqrt(u/m);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+a[0])/2,(e[1]+a[1])/2],i(c*d)}v=null,r(t,e),s(p)}function c(){if(Yo.event.touches.length){for(var e=Yo.event.changedTouches,n=0,i=e.length;i>n;++n)delete g[e[n].identifier];for(var r in g)return void t()}Yo.selectAll(w).on(x,null),k.on(P,l).on(L,u),C(),h(p)}var d,f=this,p=D.of(f,arguments),g={},m=0,x=".zoom-"+Yo.event.changedTouches[0].identifier,b="touchmove"+x,M="touchend"+x,w=[],k=Yo.select(f).on(P,null).on(L,n),C=F();H.call(f),n(),o(p)}function c(){var t=D.of(this,arguments);m?clearTimeout(m):(H.call(this),o(t)),m=setTimeout(function(){m=null,h(t)},50),y();var n=g||Yo.mouse(this);p||(p=e(n)),i(Math.pow(2,.002*zs())*S.k),r(n,p),s(t)}function d(){p=null}function f(){var t=D.of(this,arguments),n=Yo.mouse(this),a=e(n),l=Math.log(S.k)/Math.LN2;o(t),i(Math.pow(2,Yo.event.shiftKey?Math.ceil(l)-1:Math.floor(l)+1)),r(n,a),s(t),h(t)}var p,g,m,v,x,M,w,k,S={x:0,y:0,k:1},C=[960,500],A=Is,P="mousedown.zoom",T="mousemove.zoom",_="mouseup.zoom",L="touchstart.zoom",D=b(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=D.of(this,arguments),e=S;Cl?Yo.select(this).transition().each("start.zoom",function(){S=this.__chart__||{x:0,y:0,k:1},o(t)}).tween("zoom:zoom",function(){var n=C[0],i=C[1],r=n/2,a=i/2,o=Yo.interpolateZoom([(r-S.x)/S.k,(a-S.y)/S.k,n/S.k],[(r-e.x)/e.k,(a-e.y)/e.k,n/e.k]);return function(e){var i=o(e),h=n/i[2];this.__chart__=S={x:r-i[0]*h,y:a-i[1]*h,k:h},s(t)}}).each("end.zoom",function(){h(t)}):(this.__chart__=S,o(t),s(t),h(t))})},t.translate=function(e){return arguments.length?(S={x:+e[0],y:+e[1],k:S.k},a(),t):[S.x,S.y]},t.scale=function(e){return arguments.length?(S={x:S.x,y:S.y,k:+e},a(),t):S.k},t.scaleExtent=function(e){return arguments.length?(A=null==e?Is:[+e[0],+e[1]],t):A},t.center=function(e){return arguments.length?(g=e&&[+e[0],+e[1]],t):g},t.size=function(e){return arguments.length?(C=e&&[+e[0],+e[1]],t):C},t.x=function(e){return arguments.length?(M=e,x=e.copy(),S={x:0,y:0,k:1},t):M},t.y=function(e){return arguments.length?(k=e,w=e.copy(),S={x:0,y:0,k:1},t):k},Yo.rebind(t,D,"on")};var zs,Is=[0,1/0],Os="onwheel"in Uo?(zs=function(){return-Yo.event.deltaY*(Yo.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Uo?(zs=function(){return Yo.event.wheelDelta},"mousewheel"):(zs=function(){return-Yo.event.detail},"MozMousePixelScroll");Yo.color=ne,ne.prototype.toString=function(){return this.rgb()+""},Yo.hsl=ie;var Ns=ie.prototype=new ne;Ns.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new ie(this.h,this.s,this.l/t)},Ns.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ie(this.h,this.s,t*this.l)},Ns.rgb=function(){return re(this.h,this.s,this.l)},Yo.hcl=ae;var Rs=ae.prototype=new ne;Rs.brighter=function(t){return new ae(this.h,this.c,Math.min(100,this.l+Bs*(arguments.length?t:1)))},Rs.darker=function(t){return new ae(this.h,this.c,Math.max(0,this.l-Bs*(arguments.length?t:1)))},Rs.rgb=function(){return oe(this.h,this.c,this.l).rgb()},Yo.lab=se;var Bs=18,Hs=.95047,Ws=1,Gs=1.08883,js=se.prototype=new ne;js.brighter=function(t){return new se(Math.min(100,this.l+Bs*(arguments.length?t:1)),this.a,this.b)},js.darker=function(t){return new se(Math.max(0,this.l-Bs*(arguments.length?t:1)),this.a,this.b)},js.rgb=function(){return he(this.l,this.a,this.b)},Yo.rgb=fe;var Fs=fe.prototype=new ne;Fs.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&r>e&&(e=r),n&&r>n&&(n=r),i&&r>i&&(i=r),new fe(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new fe(r,r,r)},Fs.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new fe(t*this.r,t*this.g,t*this.b)},Fs.hsl=function(){return ye(this.r,this.g,this.b)},Fs.toString=function(){return"#"+me(this.r)+me(this.g)+me(this.b)};var Xs=Yo.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Xs.forEach(function(t,e){Xs.set(t,pe(e))}),Yo.functor=we,Yo.xhr=Se(ke),Yo.dsv=function(t,e){function n(t,n,a){arguments.length<3&&(a=n,n=null);var o=Ce(t,e,null==n?i:r(n),a);return o.row=function(t){return arguments.length?o.response(null==(n=t)?i:r(t)):n},o}function i(t){return n.parse(t.responseText)}function r(t){return function(e){return n.parse(e.responseText,t)}}function a(e){return e.map(o).join(t)}function o(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),h=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(r(t),n)}:r})},n.parseRows=function(t,e){function n(){if(u>=l)return o;if(r)return r=!1,a;var e=u;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}u=n+2;var i=t.charCodeAt(n+1);return 13===i?(r=!0,10===t.charCodeAt(n+2)&&++u):10===i&&(r=!0),t.substring(e+1,n).replace(/""/g,'"')}for(;l>u;){var i=t.charCodeAt(u++),s=1;if(10===i)r=!0;else if(13===i)r=!0,10===t.charCodeAt(u)&&(++u,++s);else if(i!==h)continue;return t.substring(e,u-s)}return t.substring(e)}for(var i,r,a={},o={},s=[],l=t.length,u=0,c=0;(i=n())!==o;){for(var d=[];i!==a&&i!==o;)d.push(i),i=n();(!e||(d=e(d,c++)))&&s.push(d)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new d,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(o).join(t)].concat(e.map(function(e){return r.map(function(t){return o(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(a).join("\n")},n},Yo.csv=Yo.dsv(",","text/csv"),Yo.tsv=Yo.dsv("	","text/tab-separated-values"),Yo.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=x().changedTouches),e)for(var i,r=0,a=e.length;a>r;++r)if((i=e[r]).identifier===n)return X(t,i)};var Ys,qs,Vs,Us,$s,Zs=Zo[p(Zo,"requestAnimationFrame")]||function(t){setTimeout(t,17)};Yo.timer=function(t,e,n){var i=arguments.length;2>i&&(e=0),3>i&&(n=Date.now());var r=n+e,a={c:t,t:r,f:!1,n:null};qs?qs.n=a:Ys=a,qs=a,Vs||(Us=clearTimeout(Us),Vs=1,Zs(Pe))},Yo.timer.flush=function(){Te(),_e()},Yo.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Ks=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(De);Yo.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=Yo.round(t,Le(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Ks[8+n/3]};var Qs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Js=Yo.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=Yo.round(t,Le(t,e))).toFixed(Math.max(0,Math.min(20,Le(t*(1+1e-15),e))))}}),th=Yo.time={},eh=Date;Ie.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){nh.setUTCDate.apply(this._,arguments)},setDay:function(){nh.setUTCDay.apply(this._,arguments)},setFullYear:function(){nh.setUTCFullYear.apply(this._,arguments)},setHours:function(){nh.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){nh.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){nh.setUTCMinutes.apply(this._,arguments)},setMonth:function(){nh.setUTCMonth.apply(this._,arguments)},setSeconds:function(){nh.setUTCSeconds.apply(this._,arguments)},setTime:function(){nh.setTime.apply(this._,arguments)}};var nh=Date.prototype;th.year=Oe(function(t){return t=th.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),th.years=th.year.range,th.years.utc=th.year.utc.range,th.day=Oe(function(t){var e=new eh(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),th.days=th.day.range,th.days.utc=th.day.utc.range,th.dayOfYear=function(t){var e=th.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=th[t]=Oe(function(t){return(t=th.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=th.year(t).getDay();return Math.floor((th.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});th[t+"s"]=n.range,th[t+"s"].utc=n.utc.range,th[t+"OfYear"]=function(t){var n=th.year(t).getDay();return Math.floor((th.dayOfYear(t)+(n+e)%7)/7)}}),th.week=th.sunday,th.weeks=th.sunday.range,th.weeks.utc=th.sunday.utc.range,th.weekOfYear=th.sundayOfYear;var ih={"-":"",_:" ",0:"0"},rh=/^\s*\d+/,ah=/^%/;Yo.locale=function(t){return{numberFormat:Ee(t),timeFormat:Re(t)}};var oh=Yo.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Yo.format=oh.numberFormat,Yo.geo={},an.prototype={s:0,t:0,add:function(t){on(t,this.t,sh),on(sh.s,this.s,this),this.s?this.t+=sh.t:this.s=sh.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var sh=new an;Yo.geo.stream=function(t,e){t&&hh.hasOwnProperty(t.type)?hh[t.type](t,e):sn(t,e)};var hh={Feature:function(t,e){sn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)sn(n[i].geometry,e)}},lh={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){hn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)hn(n[i],e,0)},Polygon:function(t,e){ln(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)ln(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)sn(n[i],e)}};Yo.geo.area=function(t){return uh=0,Yo.geo.stream(t,dh),uh};var uh,ch=new an,dh={sphere:function(){uh+=4*ks},point:g,lineStart:g,lineEnd:g,polygonStart:function(){ch.reset(),dh.lineStart=un},polygonEnd:function(){var t=2*ch;uh+=0>t?4*ks+t:t,dh.lineStart=dh.lineEnd=dh.point=g}};Yo.geo.bounds=function(){function t(t,e){x.push(b=[u=t,d=t]),c>e&&(c=e),e>f&&(f=e)}function e(e,n){var i=cn([e*Ts,n*Ts]);if(v){var r=fn(v,i),a=[r[1],-r[0],0],o=fn(a,r);mn(o),o=vn(o);var h=e-p,l=h>0?1:-1,g=o[0]*_s*l,m=as(h)>180;if(m^(g>l*p&&l*e>g)){var y=o[1]*_s;y>f&&(f=y)}else if(g=(g+360)%360-180,m^(g>l*p&&l*e>g)){var y=-o[1]*_s;c>y&&(c=y)}else c>n&&(c=n),n>f&&(f=n);m?p>e?s(u,e)>s(u,d)&&(d=e):s(e,d)>s(u,d)&&(u=e):d>=u?(u>e&&(u=e),e>d&&(d=e)):e>p?s(u,e)>s(u,d)&&(d=e):s(e,d)>s(u,d)&&(u=e)}else t(e,n);v=i,p=e}function n(){M.point=e}function i(){b[0]=u,b[1]=d,M.point=t,v=null}function r(t,n){if(v){var i=t-p;y+=as(i)>180?i+(i>0?360:-360):i}else g=t,m=n;dh.point(t,n),e(t,n)}function a(){dh.lineStart()}function o(){r(g,m),dh.lineEnd(),as(y)>As&&(u=-(d=180)),b[0]=u,b[1]=d,v=null}function s(t,e){return(e-=t)<0?e+360:e}function h(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var u,c,d,f,p,g,m,v,y,x,b,M={point:t,lineStart:n,lineEnd:i,polygonStart:function(){M.point=r,M.lineStart=a,M.lineEnd=o,y=0,dh.polygonStart()},polygonEnd:function(){dh.polygonEnd(),M.point=t,M.lineStart=n,M.lineEnd=i,0>ch?(u=-(d=180),c=-(f=90)):y>As?f=90:-As>y&&(c=-90),b[0]=u,b[1]=d}};return function(t){f=d=-(u=c=1/0),x=[],Yo.geo.stream(t,M);var e=x.length;if(e){x.sort(h);for(var n,i=1,r=x[0],a=[r];e>i;++i)n=x[i],l(n[0],r)||l(n[1],r)?(s(r[0],n[1])>s(r[0],r[1])&&(r[1]=n[1]),s(n[0],r[1])>s(r[0],r[1])&&(r[0]=n[0])):a.push(r=n);for(var o,n,p=-1/0,e=a.length-1,i=0,r=a[e];e>=i;r=n,++i)n=a[i],(o=s(r[1],n[0]))>p&&(p=o,u=n[0],d=r[1])}return x=b=null,1/0===u||1/0===c?[[0/0,0/0],[0/0,0/0]]:[[u,c],[d,f]]}}(),Yo.geo.centroid=function(t){fh=ph=gh=mh=vh=yh=xh=bh=Mh=wh=kh=0,Yo.geo.stream(t,Sh);var e=Mh,n=wh,i=kh,r=e*e+n*n+i*i;return Ps>r&&(e=yh,n=xh,i=bh,As>ph&&(e=gh,n=mh,i=vh),r=e*e+n*n+i*i,Ps>r)?[0/0,0/0]:[Math.atan2(n,e)*_s,K(i/Math.sqrt(r))*_s]};var fh,ph,gh,mh,vh,yh,xh,bh,Mh,wh,kh,Sh={sphere:g,point:xn,lineStart:Mn,lineEnd:wn,polygonStart:function(){Sh.lineStart=kn},polygonEnd:function(){Sh.lineStart=Mn}},Ch=Tn(Sn,zn,On,[-ks,-ks/2]),Ah=1e9;Yo.geo.clipExtent=function(){var t,e,n,i,r,a,o={stream:function(t){return r&&(r.valid=!1),r=a(t),r.valid=!0,r},extent:function(s){return arguments.length?(a=Bn(t=+s[0][0],e=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),o):[[t,e],[n,i]]}};return o.extent([[0,0],[960,500]])},(Yo.geo.conicEqualArea=function(){return Wn(Gn)}).raw=Gn,Yo.geo.albers=function(){return Yo.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Yo.geo.albersUsa=function(){function t(t){var a=t[0],o=t[1];return e=null,n(a,o),e||(i(a,o),e)||r(a,o),e}var e,n,i,r,a=Yo.geo.albers(),o=Yo.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=Yo.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=a.scale(),n=a.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&.234>r&&i>=-.425&&-.214>i?o:r>=.166&&.234>r&&i>=-.214&&-.115>i?s:a).invert(t)},t.stream=function(t){var e=a.stream(t),n=o.stream(t),i=s.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(a.precision(e),o.precision(e),s.precision(e),t):a.precision()},t.scale=function(e){return arguments.length?(a.scale(e),o.scale(.35*e),s.scale(e),t.translate(a.translate())):a.scale()},t.translate=function(e){if(!arguments.length)return a.translate();var l=a.scale(),u=+e[0],c=+e[1];return n=a.translate(e).clipExtent([[u-.455*l,c-.238*l],[u+.455*l,c+.238*l]]).stream(h).point,i=o.translate([u-.307*l,c+.201*l]).clipExtent([[u-.425*l+As,c+.12*l+As],[u-.214*l-As,c+.234*l-As]]).stream(h).point,r=s.translate([u-.205*l,c+.212*l]).clipExtent([[u-.214*l+As,c+.166*l+As],[u-.115*l-As,c+.234*l-As]]).stream(h).point,t},t.scale(1070)};var Ph,Th,_h,Lh,Dh,Eh,zh={point:g,lineStart:g,lineEnd:g,polygonStart:function(){Th=0,zh.lineStart=jn},polygonEnd:function(){zh.lineStart=zh.lineEnd=zh.point=g,Ph+=as(Th/2)}},Ih={point:Fn,lineStart:g,lineEnd:g,polygonStart:g,polygonEnd:g},Oh={point:qn,lineStart:Vn,lineEnd:Un,polygonStart:function(){Oh.lineStart=$n},polygonEnd:function(){Oh.point=qn,Oh.lineStart=Vn,Oh.lineEnd=Un}};Yo.geo.path=function(){function t(t){return t&&("function"==typeof s&&a.pointRadius(+s.apply(this,arguments)),o&&o.valid||(o=r(a)),Yo.geo.stream(t,o)),a.result()}function e(){return o=null,t}var n,i,r,a,o,s=4.5;return t.area=function(t){return Ph=0,Yo.geo.stream(t,r(zh)),Ph},t.centroid=function(t){return gh=mh=vh=yh=xh=bh=Mh=wh=kh=0,Yo.geo.stream(t,r(Oh)),kh?[Mh/kh,wh/kh]:bh?[yh/bh,xh/bh]:vh?[gh/vh,mh/vh]:[0/0,0/0]},t.bounds=function(t){return Dh=Eh=-(_h=Lh=1/0),Yo.geo.stream(t,r(Ih)),[[_h,Lh],[Dh,Eh]]},t.projection=function(t){return arguments.length?(r=(n=t)?t.stream||Qn(t):ke,e()):n},t.context=function(t){return arguments.length?(a=null==(i=t)?new Xn:new Zn(t),"function"!=typeof s&&a.pointRadius(s),e()):i},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(a.pointRadius(+e),+e),t):s},t.projection(Yo.geo.albersUsa()).context(null)},Yo.geo.transform=function(t){return{stream:function(e){var n=new Jn(e);for(var i in t)n[i]=t[i];return n}}},Jn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Yo.geo.projection=ei,Yo.geo.projectionMutator=ni,(Yo.geo.equirectangular=function(){return ei(ri)}).raw=ri.invert=ri,Yo.geo.rotation=function(t){function e(e){return e=t(e[0]*Ts,e[1]*Ts),e[0]*=_s,e[1]*=_s,e}return t=oi(t[0]%360*Ts,t[1]*Ts,t.length>2?t[2]*Ts:0),e.invert=function(e){return e=t.invert(e[0]*Ts,e[1]*Ts),e[0]*=_s,e[1]*=_s,e},e},ai.invert=ri,Yo.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=oi(-t[0]*Ts,-t[1]*Ts,0).invert,r=[];return n(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=_s,t[1]*=_s}}),{type:"Polygon",coordinates:[r]}}var e,n,i=[0,0],r=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=ui((e=+i)*Ts,r*Ts),t):e},t.precision=function(i){return arguments.length?(n=ui(e*Ts,(r=+i)*Ts),t):r},t.angle(90)},Yo.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Ts,r=t[1]*Ts,a=e[1]*Ts,o=Math.sin(i),s=Math.cos(i),h=Math.sin(r),l=Math.cos(r),u=Math.sin(a),c=Math.cos(a);return Math.atan2(Math.sqrt((n=c*o)*n+(n=l*u-h*c*s)*n),h*u+l*c*s)},Yo.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Yo.range(Math.ceil(a/m)*m,r,m).map(d).concat(Yo.range(Math.ceil(l/v)*v,h,v).map(f)).concat(Yo.range(Math.ceil(i/p)*p,n,p).filter(function(t){return as(t%m)>As}).map(u)).concat(Yo.range(Math.ceil(s/g)*g,o,g).filter(function(t){return as(t%v)>As}).map(c))}var n,i,r,a,o,s,h,l,u,c,d,f,p=10,g=p,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(a).concat(f(h).slice(1),d(r).reverse().slice(1),f(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(a=+e[0][0],r=+e[1][0],l=+e[0][1],h=+e[1][1],a>r&&(e=a,a=r,r=e),l>h&&(e=l,l=h,h=e),t.precision(y)):[[a,l],[r,h]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],s=+e[0][1],o=+e[1][1],i>n&&(e=i,i=n,n=e),s>o&&(e=s,s=o,o=e),t.precision(y)):[[i,s],[n,o]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,u=di(s,o,90),c=fi(i,n,y),d=di(l,h,90),f=fi(a,r,y),t):y},t.majorExtent([[-180,-90+As],[180,90-As]]).minorExtent([[-180,-80-As],[180,80+As]])},Yo.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}var e,n,i=pi,r=gi;return t.distance=function(){return Yo.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},Yo.geo.interpolate=function(t,e){return mi(t[0]*Ts,t[1]*Ts,e[0]*Ts,e[1]*Ts)},Yo.geo.length=function(t){return Nh=0,Yo.geo.stream(t,Rh),Nh};var Nh,Rh={sphere:g,point:g,lineStart:vi,lineEnd:g,polygonStart:g,polygonEnd:g},Bh=yi(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(Yo.geo.azimuthalEqualArea=function(){return ei(Bh)}).raw=Bh;var Hh=yi(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},ke);(Yo.geo.azimuthalEquidistant=function(){return ei(Hh)}).raw=Hh,(Yo.geo.conicConformal=function(){return Wn(xi)}).raw=xi,(Yo.geo.conicEquidistant=function(){return Wn(bi)}).raw=bi;var Wh=yi(function(t){return 1/t},Math.atan);(Yo.geo.gnomonic=function(){return ei(Wh)}).raw=Wh,Mi.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Cs]},(Yo.geo.mercator=function(){return wi(Mi)}).raw=Mi;var Gh=yi(function(){return 1},Math.asin);(Yo.geo.orthographic=function(){return ei(Gh)}).raw=Gh;var jh=yi(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(Yo.geo.stereographic=function(){return ei(jh)}).raw=jh,ki.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Cs]
},(Yo.geo.transverseMercator=function(){var t=wi(ki),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[-t[1],t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},t.rotate([0,0])}).raw=ki,Yo.geom={},Yo.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r=we(n),a=we(i),o=t.length,s=[],h=[];for(e=0;o>e;e++)s.push([+r.call(this,t[e],e),+a.call(this,t[e],e),e]);for(s.sort(Pi),e=0;o>e;e++)h.push([s[e][0],-s[e][1]]);var l=Ai(s),u=Ai(h),c=u[0]===l[0],d=u[u.length-1]===l[l.length-1],f=[];for(e=l.length-1;e>=0;--e)f.push(t[s[l[e]][2]]);for(e=+c;e<u.length-d;++e)f.push(t[s[u[e]][2]]);return f}var n=Si,i=Ci;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},Yo.geom.polygon=function(t){return us(t,Fh),t};var Fh=Yo.geom.polygon.prototype=[];Fh.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},Fh.centroid=function(t){var e,n,i=-1,r=this.length,a=0,o=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a*t,o*t]},Fh.clip=function(t){for(var e,n,i,r,a,o,s=Li(t),h=-1,l=this.length-Li(this),u=this[l-1];++h<l;){for(e=t.slice(),t.length=0,r=this[h],a=e[(i=e.length-s)-1],n=-1;++n<i;)o=e[n],Ti(o,u,r)?(Ti(a,u,r)||t.push(_i(a,o,u,r)),t.push(o)):Ti(a,u,r)&&t.push(_i(a,o,u,r)),a=o;s&&t.push(t[0]),u=r}return t};var Xh,Yh,qh,Vh,Uh,$h=[],Zh=[];Bi.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Wi),e.length},Zi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Ki.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=er(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(Ji(this,n),t=n,n=t.U),n.C=!1,i.C=!0,tr(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(tr(this,n),t=n,n=t.U),n.C=!1,i.C=!0,Ji(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,a=t.L,o=t.R;if(n=a?o?er(o):a:o,r?r.L===t?r.L=n:r.R=n:this._=n,a&&o?(i=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=o,o.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,Ji(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,tr(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,Ji(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,tr(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ji(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,tr(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},Yo.geom.voronoi=function(t){function e(t){var e=new Array(t.length),i=s[0][0],r=s[0][1],a=s[1][0],o=s[1][1];return nr(n(t),s).cells.forEach(function(n,s){var h=n.edges,l=n.site,u=e[s]=h.length?h.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=i&&l.x<=a&&l.y>=r&&l.y<=o?[[i,o],[a,o],[a,r],[i,r]]:[];u.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(a(t,e)/As)*As,y:Math.round(o(t,e)/As)*As,i:e}})}var i=Si,r=Ci,a=i,o=r,s=Kh;return t?e(t):(e.links=function(t){return nr(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return nr(n(t)).cells.forEach(function(n,i){for(var r,a,o=n.site,s=n.edges.sort(Wi),h=-1,l=s.length,u=s[l-1].edge,c=u.l===o?u.r:u.l;++h<l;)r=u,a=c,u=s[h].edge,c=u.l===o?u.r:u.l,i<a.i&&i<c.i&&rr(o,a,c)<0&&e.push([t[i],t[a.i],t[c.i]])}),e},e.x=function(t){return arguments.length?(a=we(i=t),e):i},e.y=function(t){return arguments.length?(o=we(r=t),e):r},e.clipExtent=function(t){return arguments.length?(s=null==t?Kh:t,e):s===Kh?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===Kh?null:s&&s[1]},e)};var Kh=[[-1e6,-1e6],[1e6,1e6]];Yo.geom.delaunay=function(t){return Yo.geom.voronoi().triangles(t)},Yo.geom.quadtree=function(t,e,n,i,r){function a(t){function a(t,e,n,i,r,a,o,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var h=t.x,u=t.y;if(null!=h)if(as(h-n)+as(u-i)<.01)l(t,e,n,i,r,a,o,s);else{var c=t.point;t.x=t.y=t.point=null,l(t,c,h,u,r,a,o,s),l(t,e,n,i,r,a,o,s)}else t.x=n,t.y=i,t.point=e}else l(t,e,n,i,r,a,o,s)}function l(t,e,n,i,r,o,s,h){var l=.5*(r+s),u=.5*(o+h),c=n>=l,d=i>=u,f=(d<<1)+c;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]=sr()),c?r=l:s=l,d?o=u:h=u,a(t,e,n,i,r,o,s,h)}var u,c,d,f,p,g,m,v,y,x=we(s),b=we(h);if(null!=e)g=e,m=n,v=i,y=r;else if(v=y=-(g=m=1/0),c=[],d=[],p=t.length,o)for(f=0;p>f;++f)u=t[f],u.x<g&&(g=u.x),u.y<m&&(m=u.y),u.x>v&&(v=u.x),u.y>y&&(y=u.y),c.push(u.x),d.push(u.y);else for(f=0;p>f;++f){var M=+x(u=t[f],f),w=+b(u,f);g>M&&(g=M),m>w&&(m=w),M>v&&(v=M),w>y&&(y=w),c.push(M),d.push(w)}var k=v-g,S=y-m;k>S?y=m+k:v=g+S;var C=sr();if(C.add=function(t){a(C,t,+x(t,++f),+b(t,f),g,m,v,y)},C.visit=function(t){hr(t,C,g,m,v,y)},f=-1,null==e){for(;++f<p;)a(C,t[f],c[f],d[f],g,m,v,y);--f}else t.forEach(C.add);return c=d=t=u=null,C}var o,s=Si,h=Ci;return(o=arguments.length)?(s=ar,h=or,3===o&&(r=n,i=e,n=e=0),a(t)):(a.x=function(t){return arguments.length?(s=t,a):s},a.y=function(t){return arguments.length?(h=t,a):h},a.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),a):null==e?null:[[e,n],[i,r]]},a.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),a):null==e?null:[i-e,r-n]},a)},Yo.interpolateRgb=lr,Yo.interpolateObject=ur,Yo.interpolateNumber=cr,Yo.interpolateString=dr;var Qh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jh=new RegExp(Qh.source,"g");Yo.interpolate=fr,Yo.interpolators=[function(t,e){var n=typeof e;return("string"===n?Xs.has(e)||/^(#|rgb\(|hsl\()/.test(e)?lr:dr:e instanceof ne?lr:Array.isArray(e)?pr:"object"===n&&isNaN(e)?ur:cr)(t,e)}],Yo.interpolateArray=pr;var tl=function(){return ke},el=Yo.map({linear:tl,poly:Mr,quad:function(){return yr},cubic:function(){return xr},sin:function(){return wr},exp:function(){return kr},circle:function(){return Sr},elastic:Cr,back:Ar,bounce:function(){return Pr}}),nl=Yo.map({"in":ke,out:mr,"in-out":vr,"out-in":function(t){return vr(mr(t))}});Yo.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.substring(0,e):t,i=e>=0?t.substring(e+1):"in";return n=el.get(n)||tl,i=nl.get(i)||ke,gr(i(n.apply(null,qo.call(arguments,1))))},Yo.interpolateHcl=Tr,Yo.interpolateHsl=_r,Yo.interpolateLab=Lr,Yo.interpolateRound=Dr,Yo.transform=function(t){var e=Uo.createElementNS(Yo.ns.prefix.svg,"g");return(Yo.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Er(n?n.matrix:il)})(t)},Er.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var il={a:1,b:0,c:0,d:1,e:0,f:0};Yo.interpolateTransform=Nr,Yo.layout={},Yo.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Hr(t[n]));return e}},Yo.layout.chord=function(){function t(){var t,l,c,d,f,p={},g=[],m=Yo.range(a),v=[];for(n=[],i=[],t=0,d=-1;++d<a;){for(l=0,f=-1;++f<a;)l+=r[d][f];g.push(l),v.push(Yo.range(a)),t+=l}for(o&&m.sort(function(t,e){return o(g[t],g[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(r[e][t],r[e][n])})}),t=(Ss-u*a)/t,l=0,d=-1;++d<a;){for(c=l,f=-1;++f<a;){var y=m[d],x=v[y][f],b=r[y][x],M=l,w=l+=b*t;p[y+"-"+x]={index:y,subindex:x,startAngle:M,endAngle:w,value:b}}i[y]={index:y,startAngle:c,endAngle:l,value:(l-c)/t},l+=u}for(d=-1;++d<a;)for(f=d-1;++f<a;){var k=p[d+"-"+f],S=p[f+"-"+d];(k.value||S.value)&&n.push(k.value<S.value?{source:S,target:k}:{source:k,target:S})}h&&e()}function e(){n.sort(function(t,e){return h((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,r,a,o,s,h,l={},u=0;return l.matrix=function(t){return arguments.length?(a=(r=t)&&r.length,n=i=null,l):r},l.padding=function(t){return arguments.length?(u=t,n=i=null,l):u},l.sortGroups=function(t){return arguments.length?(o=t,n=i=null,l):o},l.sortSubgroups=function(t){return arguments.length?(s=t,n=null,l):s},l.sortChords=function(t){return arguments.length?(h=t,n&&e(),l):h},l.chords=function(){return n||t(),n},l.groups=function(){return i||t(),i},l},Yo.layout.force=function(){function t(t){return function(e,n,i,r){if(e.point!==t){var a=e.cx-t.x,o=e.cy-t.y,s=r-n,h=a*a+o*o;if(h>s*s/m){if(p>h){var l=e.charge/h;t.px-=a*l,t.py-=o*l}return!0}if(e.point&&h&&p>h){var l=e.pointCharge/h;t.px-=a*l,t.py-=o*l}}return!e.charge}}function e(t){t.px=Yo.event.x,t.py=Yo.event.y,s.resume()}var n,i,r,a,o,s={},h=Yo.dispatch("start","tick","end"),l=[1,1],u=.9,c=rl,d=al,f=-30,p=ol,g=.1,m=.64,v=[],y=[];return s.tick=function(){if((i*=.99)<.005)return h.end({type:"end",alpha:i=0}),!0;var e,n,s,c,d,p,m,x,b,M=v.length,w=y.length;for(n=0;w>n;++n)s=y[n],c=s.source,d=s.target,x=d.x-c.x,b=d.y-c.y,(p=x*x+b*b)&&(p=i*a[n]*((p=Math.sqrt(p))-r[n])/p,x*=p,b*=p,d.x-=x*(m=c.weight/(d.weight+c.weight)),d.y-=b*m,c.x+=x*(m=1-m),c.y+=b*m);if((m=i*g)&&(x=l[0]/2,b=l[1]/2,n=-1,m))for(;++n<M;)s=v[n],s.x+=(x-s.x)*m,s.y+=(b-s.y)*m;if(f)for(qr(e=Yo.geom.quadtree(v),i,o),n=-1;++n<M;)(s=v[n]).fixed||e.visit(t(s));for(n=-1;++n<M;)s=v[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*u,s.y-=(s.py-(s.py=s.y))*u);h.tick({type:"tick",alpha:i})},s.nodes=function(t){return arguments.length?(v=t,s):v},s.links=function(t){return arguments.length?(y=t,s):y},s.size=function(t){return arguments.length?(l=t,s):l},s.linkDistance=function(t){return arguments.length?(c="function"==typeof t?t:+t,s):c},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.friction=function(t){return arguments.length?(u=+t,s):u},s.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(m=t*t,s):Math.sqrt(m)},s.alpha=function(t){return arguments.length?(t=+t,i?i=t>0?t:0:t>0&&(h.start({type:"start",alpha:i=t}),Yo.timer(s.tick)),s):i},s.start=function(){function t(t,i){if(!n){for(n=new Array(h),s=0;h>s;++s)n[s]=[];for(s=0;l>s;++s){var r=y[s];n[r.source.index].push(r.target),n[r.target.index].push(r.source)}}for(var a,o=n[e],s=-1,l=o.length;++s<l;)if(!isNaN(a=o[s][t]))return a;return Math.random()*i}var e,n,i,h=v.length,u=y.length,p=l[0],g=l[1];for(e=0;h>e;++e)(i=v[e]).index=e,i.weight=0;for(e=0;u>e;++e)i=y[e],"number"==typeof i.source&&(i.source=v[i.source]),"number"==typeof i.target&&(i.target=v[i.target]),++i.source.weight,++i.target.weight;for(e=0;h>e;++e)i=v[e],isNaN(i.x)&&(i.x=t("x",p)),isNaN(i.y)&&(i.y=t("y",g)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(r=[],"function"==typeof c)for(e=0;u>e;++e)r[e]=+c.call(this,y[e],e);else for(e=0;u>e;++e)r[e]=c;if(a=[],"function"==typeof d)for(e=0;u>e;++e)a[e]=+d.call(this,y[e],e);else for(e=0;u>e;++e)a[e]=d;if(o=[],"function"==typeof f)for(e=0;h>e;++e)o[e]=+f.call(this,v[e],e);else for(e=0;h>e;++e)o[e]=f;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=Yo.behavior.drag().origin(ke).on("dragstart.force",jr).on("drag.force",e).on("dragend.force",Fr)),arguments.length?void this.on("mouseover.force",Xr).on("mouseout.force",Yr).call(n):n},Yo.rebind(s,h,"on")};var rl=20,al=1,ol=1/0;Yo.layout.hierarchy=function(){function t(r){var a,o=[r],s=[];for(r.depth=0;null!=(a=o.pop());)if(s.push(a),(l=n.call(t,a,a.depth))&&(h=l.length)){for(var h,l,u;--h>=0;)o.push(u=l[h]),u.parent=a,u.depth=a.depth+1;i&&(a.value=0),a.children=l}else i&&(a.value=+i.call(t,a,a.depth)||0),delete a.children;return $r(r,function(t){var n,r;e&&(n=t.children)&&n.sort(e),i&&(r=t.parent)&&(r.value+=t.value)}),s}var e=Qr,n=Zr,i=Kr;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(i=e,t):i},t.revalue=function(e){return i&&(Ur(e,function(t){t.children&&(t.value=0)}),$r(e,function(e){var n;e.children||(e.value=+i.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},Yo.layout.partition=function(){function t(e,n,i,r){var a=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,a&&(o=a.length)){var o,s,h,l=-1;for(i=e.value?i/e.value:0;++l<o;)t(s=a[l],n,h=s.value*i,r),n+=h}}function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,a=-1;++a<r;)i=Math.max(i,e(n[a]));return 1+i}function n(n,a){var o=i.call(this,n,a);return t(o[0],0,r[0],r[1]/e(o[0])),o}var i=Yo.layout.hierarchy(),r=[1,1];return n.size=function(t){return arguments.length?(r=t,n):r},Vr(n,i)},Yo.layout.pie=function(){function t(a){var o=a.map(function(n,i){return+e.call(t,n,i)}),s=+("function"==typeof i?i.apply(this,arguments):i),h=(("function"==typeof r?r.apply(this,arguments):r)-s)/Yo.sum(o),l=Yo.range(a.length);null!=n&&l.sort(n===sl?function(t,e){return o[e]-o[t]}:function(t,e){return n(a[t],a[e])});var u=[];return l.forEach(function(t){var e;u[t]={data:a[t],value:e=o[t],startAngle:s,endAngle:s+=e*h}}),u}var e=Number,n=sl,i=0,r=Ss;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(r=e,t):r},t};var sl={};Yo.layout.stack=function(){function t(s,h){var l=s.map(function(n,i){return e.call(t,n,i)}),u=l.map(function(e){return e.map(function(e,n){return[a.call(t,e,n),o.call(t,e,n)]})}),c=n.call(t,u,h);l=Yo.permute(l,c),u=Yo.permute(u,c);var d,f,p,g=i.call(t,u,h),m=l.length,v=l[0].length;for(f=0;v>f;++f)for(r.call(t,l[0][f],p=g[f],u[0][f][1]),d=1;m>d;++d)r.call(t,l[d][f],p+=u[d-1][f][1],u[d][f][1]);return s}var e=ke,n=ia,i=ra,r=na,a=ta,o=ea;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:hl.get(e)||ia,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:ll.get(e)||ra,t):i},t.x=function(e){return arguments.length?(a=e,t):a},t.y=function(e){return arguments.length?(o=e,t):o},t.out=function(e){return arguments.length?(r=e,t):r},t};var hl=Yo.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(aa),a=t.map(oa),o=Yo.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,h=0,l=[],u=[];for(e=0;i>e;++e)n=o[e],h>s?(s+=a[n],l.push(n)):(h+=a[n],u.push(n));return u.reverse().concat(l)},reverse:function(t){return Yo.range(t.length).reverse()},"default":ia}),ll=Yo.map({silhouette:function(t){var e,n,i,r=t.length,a=t[0].length,o=[],s=0,h=[];for(n=0;a>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];i>s&&(s=i),o.push(i)}for(n=0;a>n;++n)h[n]=(s-o[n])/2;return h},wiggle:function(t){var e,n,i,r,a,o,s,h,l,u=t.length,c=t[0],d=c.length,f=[];for(f[0]=h=l=0,n=1;d>n;++n){for(e=0,r=0;u>e;++e)r+=t[e][n][1];for(e=0,a=0,s=c[n][0]-c[n-1][0];u>e;++e){for(i=0,o=(t[e][n][1]-t[e][n-1][1])/(2*s);e>i;++i)o+=(t[i][n][1]-t[i][n-1][1])/s;a+=o*t[e][n][1]}f[n]=h-=r?a/r*s:0,l>h&&(l=h)}for(n=0;d>n;++n)f[n]-=l;return f},expand:function(t){var e,n,i,r=t.length,a=t[0].length,o=1/r,s=[];for(n=0;a>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];if(i)for(e=0;r>e;e++)t[e][n][1]/=i;else for(e=0;r>e;e++)t[e][n][1]=o}for(n=0;a>n;++n)s[n]=0;return s},zero:ra});Yo.layout.histogram=function(){function t(t,a){for(var o,s,h=[],l=t.map(n,this),u=i.call(this,l,a),c=r.call(this,u,l,a),a=-1,d=l.length,f=c.length-1,p=e?1:1/d;++a<f;)o=h[a]=[],o.dx=c[a+1]-(o.x=c[a]),o.y=0;if(f>0)for(a=-1;++a<d;)s=l[a],s>=u[0]&&s<=u[1]&&(o=h[Yo.bisect(c,s,1,f)-1],o.y+=p,o.push(t[a]));return h}var e=!0,n=Number,i=ua,r=ha;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=we(e),t):i},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return la(t,e)}:we(e),t):r},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},Yo.layout.pack=function(){function t(t,a){var o=n.call(this,t,a),s=o[0],h=r[0],l=r[1],u=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,$r(s,function(t){t.r=+u(t.value)}),$r(s,ga),i){var c=i*(e?1:Math.max(2*s.r/h,2*s.r/l))/2;$r(s,function(t){t.r+=c}),$r(s,ga),$r(s,function(t){t.r-=c})}return ya(s,h/2,l/2,e?1:1/Math.max(2*s.r/h,2*s.r/l)),o}var e,n=Yo.layout.hierarchy().sort(ca),i=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},Vr(t,n)},Yo.layout.tree=function(){function t(t,r){var u=o.call(this,t,r),c=u[0],d=e(c);if($r(d,n),d.parent.m=-d.z,Ur(d,i),l)Ur(c,a);else{var f=c,p=c,g=c;Ur(c,function(t){t.x<f.x&&(f=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var m=s(f,p)/2-f.x,v=h[0]/(p.x+s(p,f)/2+m),y=h[1]/(g.depth||1);Ur(c,function(t){t.x=(t.x+m)*v,t.y=t.depth*y})}return u}function e(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,a=e.children,o=0,s=a.length;s>o;++o)i.push((a[o]=r={_:a[o],parent:e,children:(r=a[o].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=r);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){Sa(t);var a=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+s(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+s(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function i(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var i,r=t,a=t,o=e,h=r.parent.children[0],l=r.m,u=a.m,c=o.m,d=h.m;o=wa(o),r=Ma(r),o&&r;)h=Ma(h),a=wa(a),a.a=t,i=o.z+c-r.z-l+s(o._,r._),i>0&&(ka(Ca(o,t,n),t,i),l+=i,u+=i),c+=o.m,l+=r.m,d+=h.m,u+=a.m;o&&!wa(a)&&(a.t=o,a.m+=c-u),r&&!Ma(h)&&(h.t=r,h.m+=l-d,n=t)}return n}function a(t){t.x*=h[0],t.y=t.depth*h[1]}var o=Yo.layout.hierarchy().sort(null).value(null),s=ba,h=[1,1],l=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(l=null==(h=e)?a:null,t):l?null:h},t.nodeSize=function(e){return arguments.length?(l=null==(h=e)?null:a,t):l?h:null},Vr(t,o)},Yo.layout.cluster=function(){function t(t,a){var o,s=e.call(this,t,a),h=s[0],l=0;$r(h,function(t){var e=t.children;e&&e.length?(t.x=Pa(e),t.y=Aa(e)):(t.x=o?l+=n(t,o):0,t.y=0,o=t)});var u=Ta(h),c=_a(h),d=u.x-n(u,c)/2,f=c.x+n(c,u)/2;return $r(h,r?function(t){t.x=(t.x-h.x)*i[0],t.y=(h.y-t.y)*i[1]}:function(t){t.x=(t.x-d)/(f-d)*i[0],t.y=(1-(h.y?t.y/h.y:1))*i[1]}),s}var e=Yo.layout.hierarchy().sort(null).value(null),n=ba,i=[1,1],r=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=null==(i=e),t):r?null:i},t.nodeSize=function(e){return arguments.length?(r=null!=(i=e),t):r?i:null},Vr(t,e)},Yo.layout.treemap=function(){function t(t,e){for(var n,i,r=-1,a=t.length;++r<a;)i=(n=t[r]).value*(0>e?0:e),n.area=isNaN(i)||0>=i?0:i}function e(n){var a=n.children;if(a&&a.length){var o,s,h,l=c(n),u=[],d=a.slice(),p=1/0,g="slice"===f?l.dx:"dice"===f?l.dy:"slice-dice"===f?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(t(d,l.dx*l.dy/n.value),u.area=0;(h=d.length)>0;)u.push(o=d[h-1]),u.area+=o.area,"squarify"!==f||(s=i(u,g))<=p?(d.pop(),p=s):(u.area-=u.pop().area,r(u,g,l,!1),g=Math.min(l.dx,l.dy),u.length=u.area=0,p=1/0);u.length&&(r(u,g,l,!0),u.length=u.area=0),a.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var a,o=c(e),s=i.slice(),h=[];for(t(s,o.dx*o.dy/e.value),h.area=0;a=s.pop();)h.push(a),h.area+=a.area,null!=a.z&&(r(h,a.z?o.dx:o.dy,o,!s.length),h.length=h.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,r=0,a=1/0,o=-1,s=t.length;++o<s;)(n=t[o].area)&&(a>n&&(a=n),n>r&&(r=n));return i*=i,e*=e,i?Math.max(e*r*p/i,i/(e*a*p)):1/0}function r(t,e,n,i){var r,a=-1,o=t.length,s=n.x,l=n.y,u=e?h(t.area/e):0;if(e==n.dx){for((i||u>n.dy)&&(u=n.dy);++a<o;)r=t[a],r.x=s,r.y=l,r.dy=u,s+=r.dx=Math.min(n.x+n.dx-s,u?h(r.area/u):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=u,n.dy-=u}else{for((i||u>n.dx)&&(u=n.dx);++a<o;)r=t[a],r.x=s,r.y=l,r.dx=u,l+=r.dy=Math.min(n.y+n.dy-l,u?h(r.area/u):0);r.z=!1,r.dy+=n.y+n.dy-l,n.x+=u,n.dx-=u}}function a(i){var r=o||s(i),a=r[0];return a.x=0,a.y=0,a.dx=l[0],a.dy=l[1],o&&s.revalue(a),t([a],a.dx*a.dy/a.value),(o?n:e)(a),d&&(o=r),r}var o,s=Yo.layout.hierarchy(),h=Math.round,l=[1,1],u=null,c=La,d=!1,f="squarify",p=.5*(1+Math.sqrt(5));return a.size=function(t){return arguments.length?(l=t,a):l},a.padding=function(t){function e(e){var n=t.call(a,e,e.depth);return null==n?La(e):Da(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Da(e,t)}if(!arguments.length)return u;var i;return c=null==(u=t)?La:"function"==(i=typeof t)?e:"number"===i?(t=[t,t,t,t],n):n,a},a.round=function(t){return arguments.length?(h=t?Math.round:Number,a):h!=Number},a.sticky=function(t){return arguments.length?(d=t,o=null,a):d},a.ratio=function(t){return arguments.length?(p=t,a):p},a.mode=function(t){return arguments.length?(f=t+"",a):f},Vr(a,s)},Yo.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=Yo.random.normal.apply(Yo,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=Yo.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},Yo.scale={};var ul={floor:ke,ceil:ke};Yo.scale.linear=function(){return Ba([0,1],[0,1],fr,!1)};var cl={s:1,g:1,p:1,r:1,e:1};Yo.scale.log=function(){return qa(Yo.scale.linear().domain([0,1]),10,!0,[1,10])};var dl=Yo.format(".0e"),fl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};Yo.scale.pow=function(){return Va(Yo.scale.linear(),1,[0,1])},Yo.scale.sqrt=function(){return Yo.scale.pow().exponent(.5)},Yo.scale.ordinal=function(){return $a([],{t:"range",a:[[]]})},Yo.scale.category10=function(){return Yo.scale.ordinal().range(pl)},Yo.scale.category20=function(){return Yo.scale.ordinal().range(gl)},Yo.scale.category20b=function(){return Yo.scale.ordinal().range(ml)},Yo.scale.category20c=function(){return Yo.scale.ordinal().range(vl)};var pl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ge),gl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ge),ml=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ge),vl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ge);Yo.scale.quantile=function(){return Za([],[])},Yo.scale.quantize=function(){return Ka(0,1,[0,1])},Yo.scale.threshold=function(){return Qa([.5],[0,1])},Yo.scale.identity=function(){return Ja([0,1])},Yo.svg={},Yo.svg.arc=function(){function t(){var t=e.apply(this,arguments),a=n.apply(this,arguments),o=i.apply(this,arguments)+yl,s=r.apply(this,arguments)+yl,h=(o>s&&(h=o,o=s,s=h),s-o),l=ks>h?"0":"1",u=Math.cos(o),c=Math.sin(o),d=Math.cos(s),f=Math.sin(s);return h>=xl?t?"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z":t?"M"+a*u+","+a*c+"A"+a+","+a+" 0 "+l+",1 "+a*d+","+a*f+"L"+t*d+","+t*f+"A"+t+","+t+" 0 "+l+",0 "+t*u+","+t*c+"Z":"M"+a*u+","+a*c+"A"+a+","+a+" 0 "+l+",1 "+a*d+","+a*f+"L0,0Z"}var e=to,n=eo,i=no,r=io;return t.innerRadius=function(n){return arguments.length?(e=we(n),t):e},t.outerRadius=function(e){return arguments.length?(n=we(e),t):n},t.startAngle=function(e){return arguments.length?(i=we(e),t):i},t.endAngle=function(e){return arguments.length?(r=we(e),t):r},t.centroid=function(){var t=(e.apply(this,arguments)+n.apply(this,arguments))/2,a=(i.apply(this,arguments)+r.apply(this,arguments))/2+yl;return[Math.cos(a)*t,Math.sin(a)*t]},t};var yl=-Cs,xl=Ss-As;Yo.svg.line=function(){return ro(ke)};var bl=Yo.map({linear:ao,"linear-closed":oo,step:so,"step-before":ho,"step-after":lo,basis:mo,"basis-open":vo,"basis-closed":yo,bundle:xo,cardinal:fo,"cardinal-open":uo,"cardinal-closed":co,monotone:Co});bl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Ml=[0,2/3,1/3,0],wl=[0,1/3,2/3,0],kl=[0,1/6,2/3,1/6];Yo.svg.line.radial=function(){var t=ro(Ao);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},ho.reverse=lo,lo.reverse=ho,Yo.svg.area=function(){return Po(ke)},Yo.svg.area.radial=function(){var t=Po(Ao);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},Yo.svg.chord=function(){function t(t,s){var h=e(this,a,t,s),l=e(this,o,t,s);return"M"+h.p0+i(h.r,h.p1,h.a1-h.a0)+(n(h,l)?r(h.r,h.p1,h.r,h.p0):r(h.r,h.p1,l.r,l.p0)+i(l.r,l.p1,l.a1-l.a0)+r(l.r,l.p1,h.r,h.p0))+"Z"}function e(t,e,n,i){var r=e.call(t,n,i),a=s.call(t,r,i),o=h.call(t,r,i)+yl,u=l.call(t,r,i)+yl;return{r:a,a0:o,a1:u,p0:[a*Math.cos(o),a*Math.sin(o)],p1:[a*Math.cos(u),a*Math.sin(u)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>ks)+",1 "+e}function r(t,e,n,i){return"Q 0,0 "+i}var a=pi,o=gi,s=To,h=no,l=io;return t.radius=function(e){return arguments.length?(s=we(e),t):s},t.source=function(e){return arguments.length?(a=we(e),t):a},t.target=function(e){return arguments.length?(o=we(e),t):o},t.startAngle=function(e){return arguments.length?(h=we(e),t):h},t.endAngle=function(e){return arguments.length?(l=we(e),t):l},t},Yo.svg.diagonal=function(){function t(t,r){var a=e.call(this,t,r),o=n.call(this,t,r),s=(a.y+o.y)/2,h=[a,{x:a.x,y:s},{x:o.x,y:s},o];return h=h.map(i),"M"+h[0]+"C"+h[1]+" "+h[2]+" "+h[3]}var e=pi,n=gi,i=_o;return t.source=function(n){return arguments.length?(e=we(n),t):e},t.target=function(e){return arguments.length?(n=we(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},Yo.svg.diagonal.radial=function(){var t=Yo.svg.diagonal(),e=_o,n=t.projection;return t.projection=function(t){return arguments.length?n(Lo(e=t)):e},t},Yo.svg.symbol=function(){function t(t,i){return(Sl.get(e.call(this,t,i))||zo)(n.call(this,t,i))}var e=Eo,n=Do;return t.type=function(n){return arguments.length?(e=we(n),t):e},t.size=function(e){return arguments.length?(n=we(e),t):n},t};var Sl=Yo.map({circle:zo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Tl)),n=e*Tl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Pl),n=e*Pl/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Pl),n=e*Pl/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});Yo.svg.symbolTypes=Sl.keys();var Cl,Al,Pl=Math.sqrt(3),Tl=Math.tan(30*Ts),_l=[],Ll=0;_l.call=gs.call,_l.empty=gs.empty,_l.node=gs.node,_l.size=gs.size,Yo.transition=function(t){return arguments.length?Cl?t.transition():t:ys.transition()},Yo.transition.prototype=_l,_l.select=function(t){var e,n,i,r=this.id,a=[];t=w(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]);for(var h=this[o],l=-1,u=h.length;++l<u;)(i=h[l])&&(n=t.call(i,i.__data__,l,o))?("__data__"in i&&(n.__data__=i.__data__),Ro(n,l,r,i.__transition__[r]),e.push(n)):e.push(null)}return Io(a,r)},_l.selectAll=function(t){var e,n,i,r,a,o=this.id,s=[];t=k(t);for(var h=-1,l=this.length;++h<l;)for(var u=this[h],c=-1,d=u.length;++c<d;)if(i=u[c]){a=i.__transition__[o],n=t.call(i,i.__data__,c,h),s.push(e=[]);for(var f=-1,p=n.length;++f<p;)(r=n[f])&&Ro(r,f,o,a),e.push(r)}return Io(s,o)},_l.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=I(t));for(var a=0,o=this.length;o>a;a++){r.push(e=[]);for(var n=this[a],s=0,h=n.length;h>s;s++)(i=n[s])&&t.call(i,i.__data__,s,a)&&e.push(i)}return Io(r,this.id)},_l.tween=function(t,e){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(t):N(this,null==e?function(e){e.__transition__[n].tween.remove(t)}:function(i){i.__transition__[n].tween.set(t,e)})},_l.attr=function(t,e){function n(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function r(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=o(n,t),function(t){this.setAttribute(s,e(t))})})}function a(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=o(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var o="transform"==t?Nr:fr,s=Yo.ns.qualify(t);return Oo(this,"attr."+t,e,s.local?a:r)},_l.attrTween=function(t,e){function n(t,n){var i=e.call(this,t,n,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}}function i(t,n){var i=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}var r=Yo.ns.qualify(t);return this.tween("attr."+t,r.local?i:n)},_l.style=function(t,e,n){function i(){this.style.removeProperty(t)}function r(e){return null==e?i:(e+="",function(){var i,r=Zo.getComputedStyle(this,null).getPropertyValue(t);return r!==e&&(i=fr(r,e),function(e){this.style.setProperty(t,i(e),n)})})}var a=arguments.length;if(3>a){if("string"!=typeof t){2>a&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return Oo(this,"style."+t,e,r)},_l.styleTween=function(t,e,n){function i(i,r){var a=e.call(this,i,r,Zo.getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,i)},_l.text=function(t){return Oo(this,"text",t,No)},_l.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},_l.ease=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof t&&(t=Yo.ease.apply(Yo,arguments)),N(this,function(n){n.__transition__[e].ease=t}))},_l.delay=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].delay:N(this,"function"==typeof t?function(n,i,r){n.__transition__[e].delay=+t.call(n,n.__data__,i,r)}:(t=+t,function(n){n.__transition__[e].delay=t}))},_l.duration=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].duration:N(this,"function"==typeof t?function(n,i,r){n.__transition__[e].duration=Math.max(1,t.call(n,n.__data__,i,r))}:(t=Math.max(1,t),function(n){n.__transition__[e].duration=t}))},_l.each=function(t,e){var n=this.id;if(arguments.length<2){var i=Al,r=Cl;Cl=n,N(this,function(e,i,r){Al=e.__transition__[n],t.call(e,e.__data__,i,r)}),Al=i,Cl=r}else N(this,function(i){var r=i.__transition__[n];(r.event||(r.event=Yo.dispatch("start","end"))).on(t,e)});return this},_l.transition=function(){for(var t,e,n,i,r=this.id,a=++Ll,o=[],s=0,h=this.length;h>s;s++){o.push(t=[]);for(var e=this[s],l=0,u=e.length;u>l;l++)(n=e[l])&&(i=Object.create(n.__transition__[r]),i.delay+=i.duration,Ro(n,l,a,i)),t.push(n)}return Io(o,a)},Yo.svg.axis=function(){function t(t){t.each(function(){var t,l=Yo.select(this),u=this.__chart__||n,c=this.__chart__=n.copy(),d=null==h?c.ticks?c.ticks.apply(c,s):c.domain():h,f=null==e?c.tickFormat?c.tickFormat.apply(c,s):ke:e,p=l.selectAll(".tick").data(d,c),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",As),m=Yo.transition(p.exit()).style("opacity",As).remove(),v=Yo.transition(p.order()).style("opacity",1),y=za(c),x=l.selectAll(".domain").data([0]),b=(x.enter().append("path").attr("class","domain"),Yo.transition(x));
g.append("line"),g.append("text");var M=g.select("line"),w=v.select("line"),k=p.select("text").text(f),S=g.select("text"),C=v.select("text");switch(i){case"bottom":t=Bo,M.attr("y2",r),S.attr("y",Math.max(r,0)+o),w.attr("x2",0).attr("y2",r),C.attr("x",0).attr("y",Math.max(r,0)+o),k.attr("dy",".71em").style("text-anchor","middle"),b.attr("d","M"+y[0]+","+a+"V0H"+y[1]+"V"+a);break;case"top":t=Bo,M.attr("y2",-r),S.attr("y",-(Math.max(r,0)+o)),w.attr("x2",0).attr("y2",-r),C.attr("x",0).attr("y",-(Math.max(r,0)+o)),k.attr("dy","0em").style("text-anchor","middle"),b.attr("d","M"+y[0]+","+-a+"V0H"+y[1]+"V"+-a);break;case"left":t=Ho,M.attr("x2",-r),S.attr("x",-(Math.max(r,0)+o)),w.attr("x2",-r).attr("y2",0),C.attr("x",-(Math.max(r,0)+o)).attr("y",0),k.attr("dy",".32em").style("text-anchor","end"),b.attr("d","M"+-a+","+y[0]+"H0V"+y[1]+"H"+-a);break;case"right":t=Ho,M.attr("x2",r),S.attr("x",Math.max(r,0)+o),w.attr("x2",r).attr("y2",0),C.attr("x",Math.max(r,0)+o).attr("y",0),k.attr("dy",".32em").style("text-anchor","start"),b.attr("d","M"+a+","+y[0]+"H0V"+y[1]+"H"+a)}if(c.rangeBand){var A=c,P=A.rangeBand()/2;u=c=function(t){return A(t)+P}}else u.rangeBand?u=c:m.call(t,c);g.call(t,u),v.call(t,c)})}var e,n=Yo.scale.linear(),i=Dl,r=6,a=6,o=3,s=[10],h=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in El?e+"":Dl,t):i},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(h=e,t):h},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(r=+e,a=+arguments[n-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(a=+e,t):a},t.tickPadding=function(e){return arguments.length?(o=+e,t):o},t.tickSubdivide=function(){return arguments.length&&t},t};var Dl="bottom",El={top:1,right:1,bottom:1,left:1};Yo.svg.brush=function(){function t(a){a.each(function(){var a=Yo.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",r).on("touchstart.brush",r),o=a.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),a.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=a.selectAll(".resize").data(p,ke);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return zl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var u,c=Yo.transition(a),d=Yo.transition(o);h&&(u=za(h),d.attr("x",u[0]).attr("width",u[1]-u[0]),n(c)),l&&(u=za(l),d.attr("y",u[0]).attr("height",u[1]-u[0]),i(c)),e(c)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+u[+/e$/.test(t)]+","+c[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",u[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",u[1]-u[0])}function i(t){t.select(".extent").attr("y",c[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",c[1]-c[0])}function r(){function r(){32==Yo.event.keyCode&&(T||(x=null,L[0]-=u[1],L[1]-=c[1],T=2),y())}function p(){32==Yo.event.keyCode&&2==T&&(L[0]+=u[1],L[1]+=c[1],T=0,y())}function g(){var t=Yo.mouse(M),r=!1;b&&(t[0]+=b[0],t[1]+=b[1]),T||(Yo.event.altKey?(x||(x=[(u[0]+u[1])/2,(c[0]+c[1])/2]),L[0]=u[+(t[0]<x[0])],L[1]=c[+(t[1]<x[1])]):x=null),A&&m(t,h,0)&&(n(S),r=!0),P&&m(t,l,1)&&(i(S),r=!0),r&&(e(S),k({type:"brush",mode:T?"move":"resize"}))}function m(t,e,n){var i,r,s=za(e),h=s[0],l=s[1],p=L[n],g=n?c:u,m=g[1]-g[0];return T&&(h-=p,l-=m+p),i=(n?f:d)?Math.max(h,Math.min(l,t[n])):t[n],T?r=(i+=p)+m:(x&&(p=Math.max(h,Math.min(l,2*x[n]-i))),i>p?(r=i,i=p):r=p),g[0]!=i||g[1]!=r?(n?o=null:a=null,g[0]=i,g[1]=r,!0):void 0}function v(){g(),S.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),Yo.select("body").style("cursor",null),D.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),_(),k({type:"brushend"})}var x,b,M=this,w=Yo.select(Yo.event.target),k=s.of(M,arguments),S=Yo.select(M),C=w.datum(),A=!/^(n|s)$/.test(C)&&h,P=!/^(e|w)$/.test(C)&&l,T=w.classed("extent"),_=F(),L=Yo.mouse(M),D=Yo.select(Zo).on("keydown.brush",r).on("keyup.brush",p);if(Yo.event.changedTouches?D.on("touchmove.brush",g).on("touchend.brush",v):D.on("mousemove.brush",g).on("mouseup.brush",v),S.interrupt().selectAll("*").interrupt(),T)L[0]=u[0]-L[0],L[1]=c[0]-L[1];else if(C){var E=+/w$/.test(C),z=+/^n/.test(C);b=[u[1-E]-L[0],c[1-z]-L[1]],L[0]=u[E],L[1]=c[z]}else Yo.event.altKey&&(x=L.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),Yo.select("body").style("cursor",w.style("cursor")),k({type:"brushstart"}),g()}var a,o,s=b(t,"brushstart","brush","brushend"),h=null,l=null,u=[0,0],c=[0,0],d=!0,f=!0,p=Il[0];return t.event=function(t){t.each(function(){var t=s.of(this,arguments),e={x:u,y:c,i:a,j:o},n=this.__chart__||e;this.__chart__=e,Cl?Yo.select(this).transition().each("start.brush",function(){a=n.i,o=n.j,u=n.x,c=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=pr(u,e.x),i=pr(c,e.y);return a=o=null,function(r){u=e.x=n(r),c=e.y=i(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=e.i,o=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(h=e,p=Il[!h<<1|!l],t):h},t.y=function(e){return arguments.length?(l=e,p=Il[!h<<1|!l],t):l},t.clamp=function(e){return arguments.length?(h&&l?(d=!!e[0],f=!!e[1]):h?d=!!e:l&&(f=!!e),t):h&&l?[d,f]:h?d:l?f:null},t.extent=function(e){var n,i,r,s,d;return arguments.length?(h&&(n=e[0],i=e[1],l&&(n=n[0],i=i[0]),a=[n,i],h.invert&&(n=h(n),i=h(i)),n>i&&(d=n,n=i,i=d),(n!=u[0]||i!=u[1])&&(u=[n,i])),l&&(r=e[0],s=e[1],h&&(r=r[1],s=s[1]),o=[r,s],l.invert&&(r=l(r),s=l(s)),r>s&&(d=r,r=s,s=d),(r!=c[0]||s!=c[1])&&(c=[r,s])),t):(h&&(a?(n=a[0],i=a[1]):(n=u[0],i=u[1],h.invert&&(n=h.invert(n),i=h.invert(i)),n>i&&(d=n,n=i,i=d))),l&&(o?(r=o[0],s=o[1]):(r=c[0],s=c[1],l.invert&&(r=l.invert(r),s=l.invert(s)),r>s&&(d=r,r=s,s=d))),h&&l?[[n,r],[i,s]]:h?[n,i]:l&&[r,s])},t.clear=function(){return t.empty()||(u=[0,0],c=[0,0],a=o=null),t},t.empty=function(){return!!h&&u[0]==u[1]||!!l&&c[0]==c[1]},Yo.rebind(t,s,"on")};var zl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Il=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ol=th.format=oh.timeFormat,Nl=Ol.utc,Rl=Nl("%Y-%m-%dT%H:%M:%S.%LZ");Ol.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Wo:Rl,Wo.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Wo.toString=Rl.toString,th.second=Oe(function(t){return new eh(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),th.seconds=th.second.range,th.seconds.utc=th.second.utc.range,th.minute=Oe(function(t){return new eh(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),th.minutes=th.minute.range,th.minutes.utc=th.minute.utc.range,th.hour=Oe(function(t){var e=t.getTimezoneOffset()/60;return new eh(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),th.hours=th.hour.range,th.hours.utc=th.hour.utc.range,th.month=Oe(function(t){return t=th.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),th.months=th.month.range,th.months.utc=th.month.utc.range;var Bl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Hl=[[th.second,1],[th.second,5],[th.second,15],[th.second,30],[th.minute,1],[th.minute,5],[th.minute,15],[th.minute,30],[th.hour,1],[th.hour,3],[th.hour,6],[th.hour,12],[th.day,1],[th.day,2],[th.week,1],[th.month,1],[th.month,3],[th.year,1]],Wl=Ol.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Sn]]),Gl={range:function(t,e,n){return Yo.range(Math.ceil(t/n)*n,+e,n).map(jo)},floor:ke,ceil:ke};Hl.year=th.year,th.scale=function(){return Go(Yo.scale.linear(),Hl,Wl)};var jl=Hl.map(function(t){return[t[0].utc,t[1]]}),Fl=Nl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Sn]]);jl.year=th.year.utc,th.scale.utc=function(){return Go(Yo.scale.linear(),jl,Fl)},Yo.text=Se(function(t){return t.responseText}),Yo.json=function(t,e){return Ce(t,"application/json",Fo,e)},Yo.html=function(t,e){return Ce(t,"text/html",Xo,e)},Yo.xml=Se(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(Yo):"object"==typeof module&&module.exports?module.exports=Yo:this.d3=Yo}(),!function(t,e){"function"==typeof define&&define.amd?define(e):t.Dragdealer=e()}(this,function(){function t(t){var e="Webkit Moz ms O".split(" "),n=document.documentElement.style;if(void 0!==n[t])return t;t=t.charAt(0).toUpperCase()+t.substr(1);for(var i=0;i<e.length;i++)if(void 0!==n[e[i]+t])return e[i]+t}function e(t){u.backfaceVisibility&&u.perspective&&(t.style[u.perspective]="1000px",t.style[u.backfaceVisibility]="hidden")}var n=function(t,e){this.bindMethods(),this.options=this.applyDefaults(e||{}),this.wrapper=this.getWrapperElement(t),this.wrapper&&(this.handle=this.getHandleElement(this.wrapper,this.options.handleClass),this.handle&&(this.init(),this.bindEventListeners()))};n.prototype={defaults:{disabled:!1,horizontal:!0,vertical:!1,slide:!0,steps:0,snap:!1,loose:!1,speed:.1,xPrecision:0,yPrecision:0,handleClass:"handle",css3:!0,activeClass:"active"},init:function(){this.options.css3&&e(this.handle),this.value={prev:[-1,-1],current:[this.options.x||0,this.options.y||0],target:[this.options.x||0,this.options.y||0]},this.offset={wrapper:[0,0],mouse:[0,0],prev:[-999999,-999999],current:[0,0],target:[0,0]},this.change=[0,0],this.stepRatios=this.calculateStepRatios(),this.activity=!1,this.dragging=!1,this.tapping=!1,this.reflow(),this.options.disabled&&this.disable()},applyDefaults:function(t){for(var e in this.defaults)t.hasOwnProperty(e)||(t[e]=this.defaults[e]);return t},getWrapperElement:function(t){return"string"==typeof t?document.getElementById(t):t},getHandleElement:function(t,e){var n,i,r;if(t.getElementsByClassName){if(n=t.getElementsByClassName(e),n.length>0)return n[0]}else for(i=new RegExp("(^|\\s)"+e+"(\\s|$)"),n=t.getElementsByTagName("*"),r=0;r<n.length;r++)if(i.test(n[r].className))return n[r]},calculateStepRatios:function(){var t=[];if(this.options.steps>1)for(var e=0;e<=this.options.steps-1;e++)t[e]=e/(this.options.steps-1);return t},setWrapperOffset:function(){this.offset.wrapper=l.get(this.wrapper)},calculateBounds:function(){var t={top:this.options.top||0,bottom:-(this.options.bottom||0)+this.wrapper.offsetHeight,left:this.options.left||0,right:-(this.options.right||0)+this.wrapper.offsetWidth};return t.availWidth=t.right-t.left-this.handle.offsetWidth,t.availHeight=t.bottom-t.top-this.handle.offsetHeight,t},calculateValuePrecision:function(){var t=this.options.xPrecision||Math.abs(this.bounds.availWidth),e=this.options.yPrecision||Math.abs(this.bounds.availHeight);return[t?1/t:0,e?1/e:0]},bindMethods:function(){this.onHandleMouseDown=i(this.onHandleMouseDown,this),this.onHandleTouchStart=i(this.onHandleTouchStart,this),this.onDocumentMouseMove=i(this.onDocumentMouseMove,this),this.onWrapperTouchMove=i(this.onWrapperTouchMove,this),this.onWrapperMouseDown=i(this.onWrapperMouseDown,this),this.onWrapperTouchStart=i(this.onWrapperTouchStart,this),this.onDocumentMouseUp=i(this.onDocumentMouseUp,this),this.onDocumentTouchEnd=i(this.onDocumentTouchEnd,this),this.onHandleClick=i(this.onHandleClick,this),this.onWindowResize=i(this.onWindowResize,this)},bindEventListeners:function(){r(this.handle,"mousedown",this.onHandleMouseDown),r(this.handle,"touchstart",this.onHandleTouchStart),r(document,"mousemove",this.onDocumentMouseMove),r(this.wrapper,"touchmove",this.onWrapperTouchMove),r(this.wrapper,"mousedown",this.onWrapperMouseDown),r(this.wrapper,"touchstart",this.onWrapperTouchStart),r(document,"mouseup",this.onDocumentMouseUp),r(document,"touchend",this.onDocumentTouchEnd),r(this.handle,"click",this.onHandleClick),r(window,"resize",this.onWindowResize);var t=this;this.interval=setInterval(function(){t.animate()},25),this.animate(!1,!0)},unbindEventListeners:function(){a(this.handle,"mousedown",this.onHandleMouseDown),a(this.handle,"touchstart",this.onHandleTouchStart),a(document,"mousemove",this.onDocumentMouseMove),a(this.wrapper,"touchmove",this.onWrapperTouchMove),a(this.wrapper,"mousedown",this.onWrapperMouseDown),a(this.wrapper,"touchstart",this.onWrapperTouchStart),a(document,"mouseup",this.onDocumentMouseUp),a(document,"touchend",this.onDocumentTouchEnd),a(this.handle,"click",this.onHandleClick),a(window,"resize",this.onWindowResize),clearInterval(this.interval)},onHandleMouseDown:function(t){h.refresh(t),o(t),s(t),this.activity=!1,this.startDrag()},onHandleTouchStart:function(t){h.refresh(t),s(t),this.activity=!1,this.startDrag()},onDocumentMouseMove:function(t){h.refresh(t),this.dragging&&(this.activity=!0)},onWrapperTouchMove:function(t){return h.refresh(t),!this.activity&&this.draggingOnDisabledAxis()?void(this.dragging&&this.stopDrag()):(o(t),void(this.activity=!0))},onWrapperMouseDown:function(t){h.refresh(t),o(t),this.startTap()},onWrapperTouchStart:function(t){h.refresh(t),o(t),this.startTap()},onDocumentMouseUp:function(){this.stopDrag(),this.stopTap()},onDocumentTouchEnd:function(){this.stopDrag(),this.stopTap()},onHandleClick:function(t){this.activity&&(o(t),s(t))},onWindowResize:function(){this.reflow()},enable:function(){this.disabled=!1,this.handle.className=this.handle.className.replace(/\s?disabled/g,"")},disable:function(){this.disabled=!0,this.handle.className+=" disabled"},reflow:function(){this.setWrapperOffset(),this.bounds=this.calculateBounds(),this.valuePrecision=this.calculateValuePrecision(),this.updateOffsetFromValue()},getStep:function(){return[this.getStepNumber(this.value.target[0]),this.getStepNumber(this.value.target[1])]},getValue:function(){return this.value.target},setStep:function(t,e,n){this.setValue(this.options.steps&&t>1?(t-1)/(this.options.steps-1):0,this.options.steps&&e>1?(e-1)/(this.options.steps-1):0,n)},setValue:function(t,e,n){this.setTargetValue([t,e||0]),n&&(this.groupCopy(this.value.current,this.value.target),this.updateOffsetFromValue(),this.callAnimationCallback())},startTap:function(){this.disabled||(this.tapping=!0,this.setWrapperOffset(),this.setTargetValueByOffset([h.x-this.offset.wrapper[0]-this.handle.offsetWidth/2,h.y-this.offset.wrapper[1]-this.handle.offsetHeight/2]))},stopTap:function(){!this.disabled&&this.tapping&&(this.tapping=!1,this.setTargetValue(this.value.current))},startDrag:function(){this.disabled||(this.dragging=!0,this.setWrapperOffset(),this.offset.mouse=[h.x-l.get(this.handle)[0],h.y-l.get(this.handle)[1]],this.wrapper.className.match(this.options.activeClass)||(this.wrapper.className+=" "+this.options.activeClass))},stopDrag:function(){if(!this.disabled&&this.dragging){this.dragging=!1;var t=this.groupClone(this.value.current);if(this.options.slide){var e=this.change;t[0]+=4*e[0],t[1]+=4*e[1]}this.setTargetValue(t),this.wrapper.className=this.wrapper.className.replace(" "+this.options.activeClass,"")}},callAnimationCallback:function(){var t=this.value.current;this.options.snap&&this.options.steps>1&&(t=this.getClosestSteps(t)),this.groupCompare(t,this.value.prev)||("function"==typeof this.options.animationCallback&&this.options.animationCallback.call(this,t[0],t[1]),this.groupCopy(this.value.prev,t))},callTargetCallback:function(){"function"==typeof this.options.callback&&this.options.callback.call(this,this.value.target[0],this.value.target[1])},animate:function(t,e){if(!t||this.dragging){if(this.dragging){var n=this.groupClone(this.value.target),i=[h.x-this.offset.wrapper[0]-this.offset.mouse[0],h.y-this.offset.wrapper[1]-this.offset.mouse[1]];this.setTargetValueByOffset(i,this.options.loose),this.change=[this.value.target[0]-n[0],this.value.target[1]-n[1]]}(this.dragging||e)&&this.groupCopy(this.value.current,this.value.target),(this.dragging||this.glide()||e)&&(this.updateOffsetFromValue(),this.callAnimationCallback())}},glide:function(){var t=[this.value.target[0]-this.value.current[0],this.value.target[1]-this.value.current[1]];return t[0]||t[1]?(Math.abs(t[0])>this.valuePrecision[0]||Math.abs(t[1])>this.valuePrecision[1]?(this.value.current[0]+=t[0]*this.options.speed,this.value.current[1]+=t[1]*this.options.speed):this.groupCopy(this.value.current,this.value.target),!0):!1},updateOffsetFromValue:function(){this.offset.current=this.getOffsetsByRatios(this.options.snap?this.getClosestSteps(this.value.current):this.value.current),this.groupCompare(this.offset.current,this.offset.prev)||(this.renderHandlePosition(),this.groupCopy(this.offset.prev,this.offset.current))},renderHandlePosition:function(){var t="";return this.options.css3&&u.transform?(this.options.horizontal&&(t+="translateX("+this.offset.current[0]+"px)"),this.options.vertical&&(t+=" translateY("+this.offset.current[1]+"px)"),void(this.handle.style[u.transform]=t)):(this.options.horizontal&&(this.handle.style.left=this.offset.current[0]+"px"),void(this.options.vertical&&(this.handle.style.top=this.offset.current[1]+"px")))},setTargetValue:function(t,e){var n=e?this.getLooseValue(t):this.getProperValue(t);this.groupCopy(this.value.target,n),this.offset.target=this.getOffsetsByRatios(n),this.callTargetCallback()},setTargetValueByOffset:function(t,e){var n=this.getRatiosByOffsets(t),i=e?this.getLooseValue(n):this.getProperValue(n);this.groupCopy(this.value.target,i),this.offset.target=this.getOffsetsByRatios(i)},getLooseValue:function(t){var e=this.getProperValue(t);return[e[0]+(t[0]-e[0])/4,e[1]+(t[1]-e[1])/4]},getProperValue:function(t){var e=this.groupClone(t);return e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0),e[0]=Math.min(e[0],1),e[1]=Math.min(e[1],1),(!this.dragging&&!this.tapping||this.options.snap)&&this.options.steps>1&&(e=this.getClosestSteps(e)),e},getRatiosByOffsets:function(t){return[this.getRatioByOffset(t[0],this.bounds.availWidth,this.bounds.left),this.getRatioByOffset(t[1],this.bounds.availHeight,this.bounds.top)]},getRatioByOffset:function(t,e,n){return e?(t-n)/e:0},getOffsetsByRatios:function(t){return[this.getOffsetByRatio(t[0],this.bounds.availWidth,this.bounds.left),this.getOffsetByRatio(t[1],this.bounds.availHeight,this.bounds.top)]},getOffsetByRatio:function(t,e,n){return Math.round(t*e)+n},getStepNumber:function(t){return this.getClosestStep(t)*(this.options.steps-1)+1},getClosestSteps:function(t){return[this.getClosestStep(t[0]),this.getClosestStep(t[1])]},getClosestStep:function(t){for(var e=0,n=1,i=0;i<=this.options.steps-1;i++)Math.abs(this.stepRatios[i]-t)<n&&(n=Math.abs(this.stepRatios[i]-t),e=i);return this.stepRatios[e]},groupCompare:function(t,e){return t[0]==e[0]&&t[1]==e[1]},groupCopy:function(t,e){t[0]=e[0],t[1]=e[1]},groupClone:function(t){return[t[0],t[1]]},draggingOnDisabledAxis:function(){return!this.options.horizontal&&h.xDiff>h.yDiff||!this.options.vertical&&h.yDiff>h.xDiff}};var i=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},a=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)},o=function(t){t||(t=window.event),t.preventDefault&&t.preventDefault(),t.returnValue=!1},s=function(t){t||(t=window.event),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0},h={x:0,y:0,xDiff:0,yDiff:0,refresh:function(t){t||(t=window.event),"mousemove"==t.type?this.set(t):t.touches&&this.set(t.touches[0])},set:function(t){var e=this.x,n=this.y;t.clientX||t.clientY?(this.x=t.clientX,this.y=t.clientY):(t.pageX||t.pageY)&&(this.x=t.pageX-document.body.scrollLeft-document.documentElement.scrollLeft,this.y=t.pageY-document.body.scrollTop-document.documentElement.scrollTop),this.xDiff=Math.abs(this.x-e),this.yDiff=Math.abs(this.y-n)}},l={get:function(t){var e={left:0,top:0};return void 0!==t.getBoundingClientRect&&(e=t.getBoundingClientRect()),[e.left,e.top]}},u={transform:t("transform"),perspective:t("perspective"),backfaceVisibility:t("backfaceVisibility")};return n}),d3.sankey=function(){function t(){f.forEach(function(t){t.sourceLinks=[],t.targetLinks=[]}),p.forEach(function(t){var e=t.source,n=t.target;"number"==typeof e&&(e=t.source=f[t.source]),"number"==typeof n&&(n=t.target=f[t.target]),e.sourceLinks.push(t),n.targetLinks.push(t)})}function e(){f.forEach(function(t){t.value||(t.value=Math.max(d3.sum(t.sourceLinks,h),d3.sum(t.targetLinks,h)))})}function n(){function t(i){if(i.index=n++,i.lowIndex=i.index,i.onStack=!0,e.push(i),i.sourceLinks&&(i.sourceLinks.forEach(function(e){var n=e.target;n.hasOwnProperty("index")?n.onStack&&(i.lowIndex=Math.min(i.lowIndex,n.index)):(t(n),i.lowIndex=Math.min(i.lowIndex,n.lowIndex))}),i.lowIndex===i.index)){var r,a=[];do r=e.pop(),r.onStack=!1,a.push(r);while(r!=i);g.push({root:i,scc:a})}}var e=[],n=0;f.forEach(function(e){e.index||t(e)}),g.forEach(function(t,e){t.index=e,t.scc.forEach(function(t){t.component=e})})}function i(){function t(){for(var t,e,n=g,i=0;n.length;)t=[],e={},n.forEach(function(n){n.x=i,n.scc.forEach(function(i){i.sourceLinks.forEach(function(i){e.hasOwnProperty(i.target.component)||i.target.component==n.index||(t.push(g[i.target.component]),e[i.target.component]=!0)})})}),n=t,++i}function e(t,e){for(var n=[t],i=1,r=0,a=0;i>0;){var o=n.shift();if(i--,!o.hasOwnProperty("x")){o.x=a,o.dx=u;var s=e(o);n=n.concat(s),r+=s.length}0==i&&(a++,i=r,r=0)}}t(),g.forEach(function(t,n){e(t.root,function(t){var e=t.sourceLinks.filter(function(t){return t.target.component==n}).map(function(t){return t.target});return e})});var n=0,i=d3.nest().key(function(t){return t.x}).sortKeys(d3.ascending).entries(g).map(function(t){return t.values}),n=-1,a=-1;i.forEach(function(t){t.forEach(function(t){t.x=n+1,t.scc.forEach(function(e){e.x=e.layer?e.layer:t.x+e.x,a=Math.max(a,e.x)})}),n=a}),f.filter(function(t){var e=t.sourceLinks.filter(function(){return!0});return 0==e.length}).forEach(function(t){t.x=n}),r((d[0]-u)/Math.max(n,1))}function r(t){f.forEach(function(e){void 0!==e.layer&&(e.x=e.layer),e.x*=t})}function a(t){function e(){var t=d3.min(o,function(t){return(d[1]-(t.length-1)*c)/d3.sum(t,h)});o.forEach(function(e){e.forEach(function(e,n){e.y=n,e.dy=e.value*t})}),p.forEach(function(e){e.dy=e.value*t})}function n(t){function e(t){return s(t.source)*t.value}o.forEach(function(n){n.forEach(function(n){if(n.targetLinks.length){var i=d3.sum(n.targetLinks,e)/d3.sum(n.targetLinks,h);n.y+=(i-s(n))*t}})})}function i(t){function e(t){return s(t.target)*t.value}o.slice().reverse().forEach(function(n){n.forEach(function(n){if(n.sourceLinks.length){var i=d3.sum(n.sourceLinks,e)/d3.sum(n.sourceLinks,h);n.y+=(i-s(n))*t}})})}function r(){o.forEach(function(t){var e,n,i,r=0,o=t.length;for(t.sort(a),i=0;o>i;++i)e=t[i],n=r-e.y,n>0&&(e.y+=n),r=e.y+e.dy+c;if(n=r-c-d[1],n>0)for(r=e.y-=n,i=o-2;i>=0;--i)e=t[i],n=e.y+e.dy+c-r,n>0&&(e.y-=n),r=e.y})}function a(t,e){return t.y-e.y}var o=d3.nest().key(function(t){return t.x}).sortKeys(d3.ascending).entries(f).map(function(t){return t.values});e(),r();for(var l=1;t>0;--t)i(l*=.99),r(),n(l),r()}function o(){function t(t,e){return t.source.y-e.source.y}function e(t,e){return t.target.y-e.target.y}f.forEach(function(n){n.sourceLinks.sort(e),n.targetLinks.sort(t)}),f.forEach(function(t){var e=0,n=0;t.sourceLinks.forEach(function(t){t.sy=e,e+=t.dy}),t.targetLinks.forEach(function(t){t.ty=n,n+=t.dy})})}function s(){return 0}function h(t){return t.value}var l={},u=24,c=8,d=[1,1],f=[],p=[],g=[];return l.nodeWidth=function(t){return arguments.length?(u=+t,l):u},l.nodePadding=function(t){return arguments.length?(c=+t,l):c},l.nodes=function(t){return arguments.length?(f=t,l):f},l.links=function(t){return arguments.length?(p=t,l):p},l.size=function(t){return arguments.length?(d=t,l):d},l.layout=function(r){return t(),e(),n(),i(),a(r),o(),l},l.relayout=function(){return o(),l},l.reversibleLink=function(){function t(t,e){var i=e.source.x+e.source.dx,r=e.target.x,a=d3.interpolateNumber(i,r),o=a(n),s=a(1-n),h=e.source.y+e.sy,l=e.target.y+e.ty,u=e.source.y+e.sy+e.dy,c=e.target.y+e.ty+e.dy;switch(t){case 0:return"M"+i+","+h+"L"+i+","+(h+e.dy);case 1:return"M"+i+","+h+"C"+o+","+h+" "+s+","+l+" "+r+","+l+"L"+r+","+c+"C"+s+","+c+" "+o+","+u+" "+i+","+u+"Z";case 2:return"M"+r+","+l+"L"+r+","+(l+e.dy)}}function e(t,e){function n(t){return t.source.y+t.sy>t.target.y+t.ty?-1:1}function i(t,e){return t+","+e+" "}var r=30,a=15,o=n(e)*a,s=e.source.x+e.source.dx,h=e.source.y+e.sy,l=e.target.x,u=e.target.y+e.ty;switch(t){case 0:return"M"+i(s,h)+"C"+i(s,h)+i(s+r,h)+i(s+r,h+o)+"L"+i(s+r,h+o+e.dy)+"C"+i(s+r,h+e.dy)+i(s,h+e.dy)+i(s,h+e.dy)+"Z";case 1:return"M"+i(s+r,h+o)+"C"+i(s+r,h+3*o)+i(l-r,u-3*o)+i(l-r,u-o)+"L"+i(l-r,u-o+e.dy)+"C"+i(l-r,u-3*o+e.dy)+i(s+r,h+3*o+e.dy)+i(s+r,h+o+e.dy)+"Z";case 2:return"M"+i(l-r,u-o)+"C"+i(l-r,u)+i(l,u)+i(l,u)+"L"+i(l,u+e.dy)+"C"+i(l,u+e.dy)+i(l-r,u+e.dy)+i(l-r,u+e.dy-o)+"Z"}}var n=.5;return function(n){return function(i){return i.source.x<i.target.x?t(n,i):e(n,i)}}},l.link=function(){function t(t){var n=t.source.x+t.source.dx,i=t.target.x,r=d3.interpolateNumber(n,i),a=r(e),o=r(1-e),s=t.source.y+t.sy+t.dy/2,h=t.target.y+t.ty+t.dy/2;return"M"+n+","+s+"C"+a+","+s+" "+o+","+h+" "+i+","+h}var e=.5;return t.curvature=function(n){return arguments.length?(e=+n,t):e},t},l},!function(){"use strict";var t=function(t,e){function n(t,n){var i={startA:Math.max(0,Math.min(2*Math.PI,d(t.x))),endA:Math.max(0,Math.min(2*Math.PI,d(t.x+t.dx))),innerR:Math.max(0,t.y?f(t.y):t.y),outerR:Math.max(0,f(t.y+t.dy))},r=Math.abs(i.startA-i.endA);2*Math.sin(r/2)*i.innerR,r>.01&&!t.firstNull&&e.events.mouseover.block(t,n)}function i(n){var i=n.size/t.dataArray.size,r=i.toFixed(1)+"%",a="text"===e.chart.showProportion?n.name:r;if(a){var o={startA:Math.max(0,Math.min(2*Math.PI,d(n.x))),endA:Math.max(0,Math.min(2*Math.PI,d(n.x+n.dx))),innerR:Math.max(0,n.y?f(n.y):n.y),outerR:Math.max(0,f(n.y+n.dy))},s=Math.abs(o.startA-o.endA),h=2*Math.sin(s/2)*o.innerR;if(h>=10||s>3){var l=o.outerR-o.innerR,u=this.getComputedTextLength()||12*a.length;return l>u&&!n.firstNull?1:0}return 0}}function r(t,e){return t===e?!0:t.children?t.children.some(function(t){return r(t,e)}):!1}function a(t){if(t.parent){if(t.firstNull)return e.chart.modeColor;if(t.depth%2===1)return t.color||"#eee";var n=d3.hsl(t.color);return d3.hsl(n.h,.96*n.s,.91*n.l)}return e.chart.modeColor}function o(t){var e=s(t),n=d3.interpolate(d.domain(),[t.x,t.x+t.dx]),i=d3.interpolate(f.domain(),[t.y,e]),r=d3.interpolate(f.range(),[t.y?20:0,c]);return function(t){return function(e){return d.domain(n(e)),f.domain(i(e)).range(r(e)),w(t)}}}function s(t){return t.children?Math.max.apply(Math,t.children.map(s)):t.y+t.dy}function h(s){function h(t){t.firstNull||(u=1,b.style("opacity",0),m.transition().duration(g).attrTween("d",o(t)).each("end",function(){u&&(l(t),b.style("opacity",1)),u=0}))}function l(t){v.style("visibility",function(e){return r(t,e)?null:d3.select(this).style("visibility","visible")}).attr("text-anchor","middle").attr("dx",function(t){if(t.depth?t.name.split(" ")[0]:"",t.name){var e={innerR:Math.max(0,t.y?f(t.y):t.y),outerR:Math.max(0,f(t.y+t.dy))},n=e.outerR-e.innerR;return d(t.x+t.dx/2)>Math.PI?-n/2+5:n/2-5}}).attr("dy",".2em").attr("transform",function(t){var e=(t.name||"").split(" ").length>1,n=180*d(t.x+t.dx/2)/Math.PI-90,i=n+(e?-.5:0);return"rotate("+i+")translate("+(f(t.y)+p)+")rotate("+(n>90?-180:0)+")"}).style("fill-opacity",function(e){return r(t,e)?1:1e-6}).each(function(e){d3.select(this).style("visibility",r(t,e)?null:"hidden")}).select("tspan").style("opacity",i).style("pointer-events","none").style("cursor","default").style("-webkit-user-select","none")}var u=1,c=M.nodes({children:s}),m=x.selectAll("path").data(c);m.enter().append("path").attr("id",function(t,e){return"path-"+e}).style("cursor",function(t){return t.firstNull?"default":"pointer"}).style("stroke",e.chart.modeColor).style("stroke-width",.3).attr("d",w).attr("fill-rule","evenodd").style("fill",a).style("fill-opacity",function(t){return t.parent?1:0}).on("click",h).on("mouseover",n).on("mousemove",e.events.mousemove.block).on("mouseout",e.events.mouseout.block);var v=b.selectAll("text").data(c),y=v.enter().append("text").style("fill-opacity",1).attr("font-size",e.chart.fontSize).attr("font-weight","bold").style("fill",function(){return"#fff"}).attr("text-anchor",function(){return"middle"}).attr("dx",function(t){if(t.depth?t.name.split(" ")[0]:"",t.name){var e={innerR:Math.max(0,t.y?f(t.y):t.y),outerR:Math.max(0,f(t.y+t.dy))},n=e.outerR-e.innerR;return d(t.x+t.dx/2)>Math.PI?-n/2+5:n/2-5}}).attr("dy",".2em").attr("transform",function(t){var e=(t.name||"").split(" ").length>1,n=180*d(t.x+t.dx/2)/Math.PI-90,i=n+(e?-.5:0);return"rotate("+i+")translate("+(f(t.y)+p)+")rotate("+(n>90?-180:0)+")"}).on("click",h).on("mouseover",e.events.mouseover.block).on("mousemove",e.events.mousemove.block).on("mouseout",e.events.mouseout.block);y.append("tspan").text(function(n){if(n.depth>0){var i=n.size/t.dataArray.size*100,r=i.toFixed(1)+"%",a="text"===e.chart.showProportion?n.name:r;return a}}).style("opacity",i).style("pointer-events","none").style("cursor","default").style("-webkit-user-select","none")}var l=t.width,u=t.height,c=Math.min(l,u)/2,d=d3.scale.linear().range([0,2*Math.PI]),f=d3.scale.pow().exponent(1.3).domain([0,1]).range([0,c]),p=5,g=1e3,m=t.dataArray,v=t.$elem,y=v.append("svg").attr("width",l).attr("height",u).attr("viewBox","0 0 "+l+" "+u).attr("perserveAspectRatio","xMinYMid"),x=y.append("g").attr("transform","translate("+[l/2,u/2]+")scale(0.9)"),b=y.append("g").attr("transform","translate("+[l/2,u/2]+")scale(0.9)").attr("class","sunburst-labels"),M=d3.layout.partition().sort(null).value(function(t){return t.size}),w=d3.svg.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,d(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,d(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,t.y?f(t.y):t.y)}).outerRadius(function(t){return Math.max(0,f(t.y+t.dy))});h(m)};window.D3Sunburst=t}(),!function(t){var e=(t.addEvent,t.Axis),n=t.isNumber,i=(t.grep,t.pick),r=t.fireEvent,a=(t.defined,t.discardElement),o=t.removeEvent,s=t.wrap,h=(t.defaultOptions,t.destroyObjectProperties,t.doc,function(t,e,n){return Array.prototype.forEach.call(t,e,n)}),l=(t.erase,t.error,t.extend,t.hasTouch,t.isObject,t.isTouchDevice,t.merge,t.Scrollbar,t.Series,t.seriesTypes,t.charts),u=t.chartCount,c=t.UNDEFINED;s(t.Chart.prototype,"destroy",function(){var t,e=this,n=e.axes,i=e.series,s=e.container,d=s&&s.parentNode;for(r(e,"destroy"),l[e.index]=c,u--,e.renderTo.removeAttribute("data-highcharts-chart"),o(e),t=n.length;t--;)n[t]=n[t].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),t=i.length;t--;)i[t]=i[t].destroy();
h(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var n=e[t];n&&n.destroy&&(e[t]=n.destroy())}),s&&(s.innerHTML="",o(s),d&&a(s));for(t in e)delete e[t]}),e.prototype.toFixedRange=function(t,e,r,a){var o=this.chart&&this.chart.fixedRange,s=i(r,this.translate(t,!0)),h=i(a,this.translate(e,!0)),l=o&&(h-s)/o;return l>.7&&1.3>l&&(a?s=h-o:h=s+o),n(s)||(s=h=void 0),{min:s,max:h}},e.prototype.minFromRange=function(){var t,e,r,a=this.range,o=a.type,s={month:"Month",year:"FullYear"}[o],h=this.max,l=function(t,e){var n=new Date(t);return n["set"+s](n["get"+s]()+e),n.getTime()-t};return n(a)?(t=this.max-a,r=a):t=h+l(h,-a.count),e=i(this.dataMin,Number.MIN_VALUE),n(t)||(t=e),e>=t&&(t=e,void 0===r&&(r=l(t,a.count)),this.newMax=Math.min(t+r,this.dataMax)),n(h)||(t=void 0),t}}(Highcharts),function(t){"use strict";function e(t){this.init(t)}var n,i=t.addEvent,r=t.Axis,a=t.Chart,o=t.color,s=t.defaultOptions,h=t.defined,l=t.destroyObjectProperties,u=t.doc,c=function(t,e,n){return Array.prototype.forEach.call(t,e,n)},d=t.erase,f=t.error,p=t.extend,g=t.grep,m=t.hasTouch,v=t.isNumber,y=t.isObject,x=t.isTouchDevice,b=t.merge,M=t.pick,w=t.removeEvent,k=(t.Scrollbar,t.Series),S=t.seriesTypes,C=t.wrap,A=function(t){var e=g(arguments,v);return e.length?Math[t].apply(0,e):void 0};n=void 0===S.areaspline?"area":"areaspline",p(s,{navigator:{height:32,margin:10,maskInside:!0,handles:{backgroundColor:"#FFF",borderColor:"#BAC2C7"},maskFill:o("#4D83E5").setOpacity(.15).get(),outlineColor:"#E8EBED",outlineWidth:1,series:{type:n,color:o("#A3ABB0").setOpacity(.38).get(),fillColor:o("#A3ABB0").setOpacity(.06).get(),lineWidth:1,compare:null,dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},pointRange:0,shadow:!1,threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:null,crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),e.prototype={drawHandle:function(t,e){var n=this,i=n.chart,r=i.renderer,a=n.handles;if(!n.rendered){a[e]=r.path(["M",-3.5,2.5,"L",2.5,2.5,2.5,13.5,-3.5,13.5,-3.5,2.5,"M",-1.5,6,"L",-1.5,10,"M",.5,6,"L",.5,10,"M",-.5,-8,"L",-.5,2.5,"M",-.5,13.5,"L",-.5,24.5]).attr({zIndex:10-e}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][e]).add();var o=n.navigatorOptions.handles;a[e].attr({fill:o.backgroundColor,stroke:o.borderColor,"stroke-width":1}).css({cursor:"ew-resize"})}a[e][n.rendered&&!n.hasDragged?"animate":"attr"]({translateX:n.scrollerLeft+n.scrollbarHeight+parseInt(t,10),translateY:n.top+n.height/2-8})},update:function(t){this.destroy();var e=this.chart.options;b(!0,e.navigator,this.options,t),this.init(this.chart)},render:function(e,n,i,r){var a,o,s,h,l,u,c,d,f,p,g=this,m=t.defined,v=t.isNumber,y=g.chart,x=y.renderer,b=g.navigatorGroup,w=g.scrollbarHeight,k=g.xAxis,S=g.navigatorOptions,C=S.maskInside,A=g.height,P=g.top,T=g.navigatorEnabled,_=g.outlineHeight,L=g.rendered;v(e)&&v(n)&&(!g.hasDragged||m(i))&&(g.navigatorLeft=a=M(k.left,y.plotLeft+w),g.navigatorWidth=o=M(k.len,y.plotWidth-2*w),g.scrollerLeft=s=a-w,g.scrollerWidth=h=h=o+2*w,i=M(i,k.translate(e)),r=M(r,k.translate(n)),v(i)&&1/0!==Math.abs(i)||(i=0,r=h),k.translate(r,!0)-k.translate(i,!0)<y.xAxis[0].minRange||(g.zoomedMax=Math.min(Math.max(i,r,0),o),g.zoomedMin=Math.min(Math.max(g.fixedWidth?g.zoomedMax-g.fixedWidth:Math.min(i,r),0),o),g.range=g.zoomedMax-g.zoomedMin,d=Math.round(g.zoomedMax),c=Math.round(g.zoomedMin),L||T&&(g.navigatorGroup=b=x.g("navigator").attr({zIndex:3}).add(),g.leftShade=x.rect().addClass("highcharts-navigator-mask"+(C?"-inside":"")).attr({fill:S.maskFill}).css(C&&{cursor:"ew-resize"}).add(b),C||(g.rightShade=x.rect().addClass("highcharts-navigator-mask").attr({fill:S.maskFill}).add(b)),g.outline=x.path().addClass("highcharts-navigator-outline").attr({"stroke-width":S.outlineWidth,stroke:S.outlineColor}).add(b)),T&&(p=L&&!g.hasDragged?"animate":"attr",l=g.outline.__proto__.strokeWidth(),u=l/2,f=P+u,g.leftShade[p](S.maskInside?{x:a+c,y:P,width:d-c,height:A}:{x:a,y:P,width:c,height:A}),g.rightShade&&g.rightShade[p]({x:a+d,y:P,width:o-d,height:A}),g.outline[p]({d:["M",s,f,"L",s,f+_,s+h,f+_,s+h,f,"Z"]}),g.drawHandle(c+u,0),g.drawHandle(d+u,1)),g.scrollbar&&(g.scrollbar.hasDragged=g.hasDragged,g.scrollbar.position(g.scrollerLeft,g.top+(T?g.height:-g.scrollbarHeight),g.scrollerWidth,g.scrollbarHeight),g.scrollbar.setRange(c/o,d/o)),g.rendered=!0))},updatedDataHandler:function(){var t=this.chart.scroller,e=this,n=this.navigatorSeries;t.stickToMin=v(e.xAxis.min)&&e.xAxis.min<=e.xData[0],t.stickToMax=Math.round(t.zoomedMax)>=Math.round(t.navigatorWidth),n&&!t.hasNavigatorData&&(n.options.pointStart=e.xData[0],n.setData(e.options.data,!1,null,!1))},destroy:function(){this.removeEvents(),this.xAxis&&(d(this.chart.xAxis,this.xAxis),d(this.chart.axes,this.xAxis)),this.yAxis&&(d(this.chart.yAxis,this.yAxis),d(this.chart.axes,this.yAxis)),c(this.series||[],function(t){t.destroy&&t.destroy()}),delete this.series,c(["xAxis","yAxis","leftShade","rightShade","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup"],function(t){this[t]&&this[t].destroy&&(this[t]=this[t].destroy())},this),this.rendered=null,c([this.handles,this.elementsToDestroy],function(t){l(t)},this)},addEvents:function(){var t,e=this.chart,n=e.container,r=this.mouseDownHandler,a=this.mouseMoveHandler,o=this.mouseUpHandler,s=this.mouseOverHandler;this.navigatorOptions.events&&this.navigatorOptions.mouseover&&(s=this.navigatorOptions.events.mouseOver),t=[[n,"mouseover",s],[n,"mousedown",r],[n,"mousemove",a],[u,"mouseup",o]],m&&t.push([n,"touchstart",r],[n,"touchmove",a],[u,"touchend",o]),c(t,function(t){i.apply(null,t)}),this._events=t,this.series&&this.series[0]&&i(this.series[0].xAxis,"foundExtremes",function(){e.scroller.modifyNavigatorAxisExtremes()}),i(e,"redraw",function(){var t=this.scroller,e=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||t.scrollbar&&this.xAxis[0]);e&&t.render(e.min,e.max)})},removeEvents:function(){this._events&&(c(this._events,function(t){w.apply(null,t)}),this._events=void 0),this.removeBaseSeriesEvents()},removeBaseSeriesEvents:function(){var t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&this.navigatorOptions.adaptToUpdatedData!==!1&&(c(t,function(t){w(t,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&w(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},init:function(t){function e(t,e){var n=t.options.navigator.label.textColor;e=document.createElementNS("http://www.w3.org/2000/svg","text"),e.setAttribute("position","absolute"),e.setAttribute("fill",n),e.setAttribute("opacity","0.64"),e.setAttribute("font-size","10px"),e.setAttribute("style","pointer-events: none;");var i=t.container.id,r=$("#"+i+" .highcharts-navigator");return r.append(e),e}function n(e,n,i,r){var a,o=g.top+l/2+5,s=(g.navigatorLeft,g.navigatorWidth),h=t.series[0].data,u=s/h.length,c=Math.max(0,Math.floor(e/u))&&Math.min(h.length-1,Math.floor(e/u)),d=e+g.navigatorLeft+10;if(c<h.length){var f,p=g.xAxis;g.navigatorOptions.isDateAxis&&(f=Math.round((p.dataMax-p.dataMin)*e/s+p.dataMin)),a=g.labelFormatter(h[c],f),n.textContent=a;var m,v=n.clientWidth,y=r?s-e-v:e-v;return m=r?0>y?d-v-20:d:0>y?d:d-v-20,n.setAttribute("x",m),n.setAttribute("y",o),n}}function i(e){var n,i,r,a=e.DOMEvent||e;"mousemove"===a.type&&t.options.series[0].data.length>500||(g.zoomedMin===g.otherHandlePos?i=g.fixedExtreme:g.zoomedMax===g.otherHandlePos&&(r=g.fixedExtreme),g.zoomedMax===g.navigatorWidth&&(r=g.getUnionExtremes().dataMax),n=c.toFixedRange(g.zoomedMin,g.zoomedMax,i,r),h(n.min)&&t.xAxis[0].setExtremes(n.min,n.max,!0,g.hasDragged?!1:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:a}))}var a=t.options,o=a.navigator,s=o.enabled,l=s?o.height:0,u=0;this.handles=[],this.scrollbarButtons=[],this.elementsToDestroy=[],this.chart=t,this.setBaseSeries(),this.height=l,this.scrollbarHeight=u,this.navigatorEnabled=s,this.navigatorOptions=o,this.outlineHeight=l+u,this.labelFormatter=o.label&&"function"==typeof o.label.formatter?o.label.formatter:function(t){var e;return e="object"==typeof t.category?t.options.name+"-"+t.category.userOptions||t.category.name:t&&t.options.name||t.options.x||""};var c,d,f,p,g=this,m=g.baseSeries;g.mouseDownHandler=function(i){i=t.pointer.normalize(i);var r,a,o,s=g.zoomedMin,h=g.zoomedMax,u=g.top,m=g.scrollerLeft,v=g.scrollerWidth,y=g.navigatorLeft,b=g.navigatorWidth,M=g.scrollbarPad||0,w=g.range,k=i.chartX,S=i.chartY,C=t.xAxis[0],A=x?10:7;S>u&&u+l>S?(self.leftNaviTip?self.leftNaviTip.remove():null,self.rightNaviTip?self.rightNaviTip.remove():null,self.leftNaviTip=e(t,f),self.rightNaviTip=e(t,p),n(s,self.leftNaviTip,i),n(h,self.rightNaviTip,i,!0),Math.abs(k-s-y)<A?(g.grabbedLeft=!0,g.otherHandlePos=h,g.fixedExtreme=C.max,t.fixedRange=null):Math.abs(k-h-y)<A?(g.grabbedRight=!0,g.otherHandlePos=s,g.fixedExtreme=C.min,t.fixedRange=null):k>y+s-M&&y+h+M>k?(g.grabbedCenter=k,g.fixedWidth=w,d=k-s):k>m&&m+v>k&&(o=k-y-w/2,0>o?o=0:o+w>=b&&(o=b-w,r=g.getUnionExtremes().dataMax),o!==s&&(g.fixedWidth=w,a=c.toFixedRange(o,o+w,null,r),C.setExtremes(a.min,a.max,!0,null,{trigger:"navigator"})))):(self.leftNaviTip?self.leftNaviTip.remove():null,self.rightNaviTip?self.rightNaviTip.remove():null)},g.mouseOverHandler=function(i){i=t.pointer.normalize(i);var r=g.zoomedMin,a=g.zoomedMax,o=g.top,s=g.scrollerLeft,h=(g.scrollerWidth,i.chartX),u=i.chartY;u>o&&o+l>u&&h>s+r-5&&s+a+5>h?(self.leftNaviTip?self.leftNaviTip.remove():null,self.rightNaviTip?self.rightNaviTip.remove():null,self.leftNaviTip=e(t,f),self.rightNaviTip=e(t,p),n(r,self.leftNaviTip,i),n(a,self.rightNaviTip,i,!0)):(self.leftNaviTip?self.leftNaviTip.remove():null,self.rightNaviTip?self.rightNaviTip.remove():null)},g.mouseMoveHandler=function(e){var r=g.scrollbarHeight,a=g.navigatorLeft,o=g.navigatorWidth,s=g.scrollerLeft,h=g.scrollerWidth,l=g.range,u=(e.layerY,e.chartX);e.touches&&0===e.touches[0].pageX||(e=t.pointer.normalize(e),u=e.chartX,a>u?u=a:u>s+h-r&&(u=s+h-r),g.grabbedLeft?(g.hasDragged=!0,n(g.zoomedMin,self.leftNaviTip,e),g.render(0,0,u-a,g.otherHandlePos),i(e)):g.grabbedRight?(g.hasDragged=!0,n(g.zoomedMax,self.rightNaviTip,e,!0),g.render(0,0,g.otherHandlePos,u-a),i(e)):g.grabbedCenter&&(g.hasDragged=!0,d>u?u=d:u>o+d-l&&(u=o+d-l),n(g.zoomedMin,self.leftNaviTip,e),n(g.zoomedMax,self.rightNaviTip,e,!0),i(e),g.render(0,0,u-d,u-d+l)),g.hasDragged&&g.scrollbar&&g.scrollbar.options.liveRedraw&&(e.DOMType=e.type,setTimeout(function(){g.mouseUpHandler(e)},0)))},g.mouseUpHandler=function(t){var e;t.DOMEvent||t,(g.hasDragged||"scrollbar"===t.trigger)&&(g.zoomedMax===g.navigatorWidth&&(e=g.getUnionExtremes().dataMax),i(t)),"mousemove"!==t.DOMType&&(g.grabbedLeft=g.grabbedRight=g.grabbedCenter=g.fixedWidth=g.fixedExtreme=g.otherHandlePos=g.hasDragged=d=null),self.leftNaviTip?self.leftNaviTip.remove():null,self.rightNaviTip?self.rightNaviTip.remove():null};var v=t.xAxis.length,y=t.yAxis.length,M=m&&m[0]&&m[0].xAxis||t.xAxis[0];t.extraBottomMargin=g.outlineHeight+o.margin,t.isDirtyBox=!0,g.navigatorEnabled?(g.xAxis=c=new r(t,b({breaks:M.options.breaks,ordinal:M.options.ordinal},o.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,index:v,height:l,offset:0,offsetLeft:u,offsetRight:-u,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1})),g.yAxis=new r(t,b(o.yAxis,{id:"navigator-y-axis",alignTicks:!1,height:l,offset:0,index:y,zoomEnabled:!1})),m||o.series.data?g.addBaseSeries():0===t.series.length&&C(t,"redraw",function(e,n){t.series.length>0&&!g.series&&(g.setBaseSeries(),t.redraw=e),e.call(t,n)})):g.xAxis=c={translate:function(e,n){var i=t.xAxis[0],r=i.getExtremes(),a=t.plotWidth-2*u,o=A("min",i.options.min,r.dataMin),s=A("max",i.options.max,r.dataMax)-o;return n?e*s/a+o:a*(e-o)/s},toFixedRange:r.prototype.toFixedRange},g.addBaseSeriesEvents(),g.addEvents()},getUnionExtremes:function(t){var e,n=this.chart.xAxis[0],i=this.xAxis,r=i.options,a=n.options;return t&&null===n.dataMin||(e={dataMin:M(r&&r.min,A("min",a.min,n.dataMin,i.dataMin,i.min)),dataMax:M(r&&r.max,A("max",a.max,n.dataMax,i.dataMax,i.max))}),e},setBaseSeries:function(t){var e=this.chart,n=this.baseSeries=[];t=t||e.options&&e.options.navigator.baseSeries||0,this.series&&(this.removeBaseSeriesEvents(),c(this.series,function(t){t.destroy()})),c(e.series||[],function(e,i){(e.options.showInNavigator||(i===t||e.options.id===t)&&e.options.showInNavigator!==!1)&&n.push(e)}),this.xAxis&&!this.xAxis.fake&&this.addBaseSeries()},addBaseSeries:function(){var t,e,n,i=this,r=i.chart,a=i.series=[],o=i.baseSeries,s=i.navigatorOptions.series,h={enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:!1,isInternal:!0,visible:!0};o?c(o,function(o,l){h.name="Navigator "+(l+1),t=o.options||{},n=t.navigatorOptions||{},e=b(t,h,s,n);var u=n.data||s.data;i.hasNavigatorData=i.hasNavigatorData||!!u,e.data=u||t.data&&t.data.slice(0),o.navigatorSeries=r.initSeries(e),a.push(o.navigatorSeries)}):(e=b(s,h),e.data=s.data,i.hasNavigatorData=!!e.data,a.push(r.initSeries(e))),this.addBaseSeriesEvents()},addBaseSeriesEvents:function(){var t=this,e=t.baseSeries||[];e[0]&&e[0].xAxis&&i(e[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes),this.navigatorOptions.adaptToUpdatedData!==!1&&c(e,function(e){e.xAxis&&(i(e,"updatedData",this.updatedDataHandler),e.userOptions.events=p(e.userOptions.event,{updatedData:this.updatedDataHandler})),i(e,"remove",function(){this.navigatorSeries&&(d(t.series,this.navigatorSeries),this.navigatorSeries.remove(),delete this.navigatorSeries)})},this)},modifyNavigatorAxisExtremes:function(){var t,e=this.xAxis;e.getExtremes&&(t=this.getUnionExtremes(!0),!t||t.dataMin===e.min&&t.dataMax===e.max||(e.min=t.dataMin,e.max=t.dataMax))},modifyBaseAxisExtremes:function(){var t,e,n=this,i=n.chart.scroller,r=n.getExtremes(),a=r.min,o=r.max,s=r.dataMin,h=r.dataMax,l=o-a,u=i.stickToMin,c=i.stickToMax,d=i.series&&i.series[0],f=!!n.setExtremes,p=n.eventArgs&&"rangeSelectorButton"===n.eventArgs.trigger;p||(u&&(e=s,t=e+l),c&&(t=h,u||(e=Math.max(t-l,d&&d.xData?d.xData[0]:-Number.MAX_VALUE))),f&&(u||c)&&v(e)&&(n.min=n.userMin=e,n.max=n.userMax=t)),i.stickToMin=i.stickToMax=null}},t.Navigator=e,C(r.prototype,"zoom",function(t,e,n){var i,r,a=this.chart,o=a.options,s=o.chart.zoomType,l=o.navigator,u=o.rangeSelector;return this.isXAxis&&(l&&l.enabled||u&&u.enabled)&&("x"===s?a.resetZoomButton="blocked":"y"===s?r=!1:"xy"===s&&(i=this.previousZoom,h(e)?this.previousZoom=[this.min,this.max]:i&&(e=i[0],n=i[1],delete this.previousZoom))),void 0!==r?r:t.call(this,e,n)}),C(a.prototype,"init",function(t,n,r){i(this,"beforeRender",function(){var t=this.options;t.navigator.enabled&&(this.scroller=this.navigator=new e(this))}),t.call(this,n,r)}),C(a.prototype,"getMargins",function(t){var e,n,i=this.legend,r=i.options,a=this.scroller;t.apply(this,[].slice.call(arguments,1)),a&&(e=a.xAxis,n=a.yAxis,a.top=a.navigatorOptions.top||this.chartHeight-a.height-a.scrollbarHeight-this.spacing[2]-("bottom"===r.verticalAlign&&r.enabled&&!r.floating?i.legendHeight+M(r.margin+8,10):0),e&&n&&(e.options.top=n.options.top=a.top,e.setAxisSize(),n.setAxisSize()))}),C(k.prototype,"addPoint",function(t,e,n,i,r){var a=this.options.turboThreshold;a&&this.xData.length>a&&y(e,!0)&&this.chart.scroller&&f(20,!0),t.call(this,e,n,i,r)}),C(a.prototype,"addSeries",function(t,e,n,i){t.call(this,e,!1,i),this.scroller&&this.scroller.setBaseSeries(),M(n,!0)&&this.redraw()}),C(k.prototype,"update",function(t,e,n){t.call(this,e,!1),this.chart.scroller&&this.chart.scroller.setBaseSeries(),M(n,!0)&&this.chart.redraw()})}(Highcharts),function(t){"use strict";var e=t.addEvent,n=t.Chart,i=t.isNumber,r=t.removeEvent;n.prototype.callbacks.push(function(t){function n(){s=t.xAxis[0].getExtremes(),i(s.min)&&l.render(s.min,s.max)}function a(t){l.render(t.min,t.max)}function o(){l&&(r(t,"redraw",n),r(t.xAxis[0],"afterSetExtremes",a))}var s,h=t.scroller,l=t.rangeSelector;h&&(s=t.xAxis[0].getExtremes(),h.render(s.min,s.max)),l&&(e(t.xAxis[0],"afterSetExtremes",a),e(t,"redraw",n),n()),e(t,"destroy",o)})}(Highcharts),function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},n=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),i=function(){function i(){t(this,i)}return n(i,null,[{key:"extend",value:function(t,n){var r=void 0;for(r in n)n.hasOwnProperty(r)&&(t[r]="object"!==e(n[r])||Array.isArray(n[r])||null===n[r]?n[r]:"object"!==e(t[r])||Array.isArray(t[r])||null===n[r]?i.extend({},n[r]):i.extend(t[r],n[r]));return t}}]),i}(),r=function(){function e(){t(this,e),this.hexExpression=/^#([0-9a-f]{3}|[0-9a-f]{6})$/i,this.labelFill=null,this.scale=null}return n(e,[{key:"setLabelFill",value:function(t){this.labelFill=t}},{key:"setScale",value:function(t){this.scale=t}},{key:"getBlockFill",value:function(t,e,n){var i=this.getBlockRawFill(t,e);return{raw:i,actual:this.getBlockActualFill(i,e,n)}}},{key:"getBlockRawFill",value:function(t,e){return t.length>2&&this.hexExpression.test(t[2])?t[2]:Array.isArray(this.scale)?this.scale[e]:this.scale(e)}},{key:"getBlockActualFill",value:function(t,e,n){return"solid"===n?t:"url(#gradient-"+e+")"}},{key:"getLabelFill",value:function(t){return t.length>3&&this.hexExpression.test(t[3])?t[3]:this.labelFill}}],[{key:"shade",value:function(t,n){var i=t.slice(1);3===i.length&&(i=e.expandHex(i));var r=parseInt(i,16),a=0>n?0:255,o=0>n?-1*n:n,s=r>>16,h=r>>8&255,l=255&r,u=16777216+65536*(Math.round((a-s)*o)+s)+256*(Math.round((a-h)*o)+h)+(Math.round((a-l)*o)+l);return"#"+u.toString(16).slice(1)}},{key:"expandHex",value:function(t){return t[0]+t[0]+t[1]+t[1]+t[2]+t[2]}}]),e}(),a=function(){function e(){t(this,e)}return n(e,[{key:"plot",value:function(t){var e="";return t.forEach(function(t){e+=t[0]+t[1]+","+t[2]+" "}),e.replace(/ +/g," ").trim()}}]),e}(),o=function(){function e(){t(this,e),this.expression=null}return n(e,[{key:"setFormat",value:function(t){"function"==typeof t?this.formatter=t:(this.expression=t,this.formatter=this.stringFormatter)}},{key:"format",value:function(t,e){return Array.isArray(e)?this.formatter(t,e[0],e[1]):this.formatter(t,e,null)}},{key:"stringFormatter",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=n;return null===n&&(i=this.getDefaultFormattedValue(e)),this.expression.split("{l}").join(t).split("{v}").join(e).split("{f}").join(i)}},{key:"getDefaultFormattedValue",value:function(t){return t.toLocaleString()}}]),e}(),s=function(){function e(n){t(this,e),this.container="string"==typeof n?d3.select(n):n,this.colorizer=new r,this.labelFormatter=new o,this.navigator=new a}return n(e,[{key:"destroy",value:function(){var t=this.container;t.selectAll("svg").remove(),t.selectAll("*").remove(),t.text("")}},{key:"draw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.destroy(),this._initialize(t,e),this._draw()}},{key:"_initialize",value:function(t,e){this._validateData(t);var n=this._getSettings(e);this.label=n.label,this.labelFormatter.setFormat(this.label.format),this.colorizer.setLabelFill(n.label.fill),this.colorizer.setScale(n.block.fill.scale),this.width=n.chart.width-1,this.height=n.chart.height-1,this.bottomPinch=n.chart.bottomPinch,this.isInverted=n.chart.inverted,this.isCurved=n.chart.curve.enabled,this.curveHeight=n.chart.curve.height,this.fillType=n.block.fill.type,this.hoverEffects=n.block.highlight,this.dynamicHeight=n.block.dynamicHeight,this.minHeight=n.block.minHeight,this.autoSlope=n.block.autoSlope,this.animation=n.chart.animate,this.isDrawAttrRate=n.attrition.rate.enabled,this.isDrawAttrCount=n.attrition.count.enabled,this.padding=n.chart.padding,this.layout=n.chart.layout,this.onBlockClick=n.events.click.block,this.onBlockMouseOver=n.events.mouseover.block,this.onBlockMouseOut=n.events.mouseout.block,this.onBlockMouseMove=n.events.mousemove.block,this._setBlocks(t),this.options=n,this._setBottomWidth(this.width)}},{key:"_setBottomWidth",value:function(t){this.bottomWidth=Math.max(this.options.block.bottomBlock.minWidth,t*this.options.chart.bottomWidth),this.bottomLeftX=(t-this.bottomWidth)/2,this.dx=this._getDx(),this.dy=this._getDy()}},{key:"_validateData",value:function(t){if(Array.isArray(t)===!1)throw new Error("Data must be an array.");if(0===t.length)throw new Error("Data array must contain at least one element.");if(Array.isArray(t[0])===!1)throw new Error("Data array elements must be arrays.");if(t[0].length<2)throw new Error("Data array elements must contain a label and value.")}},{key:"_getSettings",value:function(t){var n=i.extend({},e.defaults);return n.chart.width=parseInt(this.container.style("width"),10),n.chart.height=parseInt(this.container.style("height"),10),n=i.extend(n,t),n.chart.width<=0&&(n.chart.width=e.defaults.chart.width),n.chart.height<=0&&(n.chart.height=e.defaults.chart.height),n}},{key:"_setBlocks",value:function(t){var e=this._getTotalCount(t);this.blocks=this._standardizeData(t,e)}},{key:"_getTotalCount",value:function(t){var e=this,n=0;return t.forEach(function(t){n+=e._getRawBlockCount(t)}),n}},{key:"_standardizeData",value:function(t,e){var n=this,i=[],r=void 0,a=void 0,o=void 0;return t.forEach(function(t,s){r=n._getRawBlockCount(t),a=r/e,o=t[0],i.push({index:s,value:r,ratio:a,height:n.height*a,fill:n.colorizer.getBlockFill(t,s,n.fillType),label:{raw:o,formatted:n.labelFormatter.format(o,r),color:n.colorizer.getLabelFill(t)}})}),i}},{key:"_getRawBlockCount",value:function(t){return Array.isArray(t[1])?t[1][0]:t[1]}},{key:"_getDx",value:function(){return this.bottomPinch>0?1===this.blocks.length?1:this.bottomLeftX/(this.blocks.length-this.bottomPinch):this.bottomLeftX/this.blocks.length}},{key:"_getDy",value:function(){var t="vertical"===this.layout?this.height:this.width;return this.isCurved?(t-this.curveHeight)/this.blocks.length:this.bottomPinch>0&&this.autoSlope&&"vertical"===this.layout?1===this.blocks.length?1:(t-this.options.block.bottomBlock.height)/(this.blocks.length-1):t/this.blocks.length}},{key:"_draw",value:function(){this.svg=this.container.append("svg").attr("width",this.width).attr("height",this.height).attr("style",'font-family:arial, "lucida grande", "lucida sans unicode", verdana, helvetica, sans-serif;font-size:12px;').attr("viewBox","0 0 "+this.width+" "+this.height).attr("perserveAspectRatio","xMinYMid"),this.blockPaths=this._makePaths(),"gradient"===this.fillType&&this._defineColorGradients(this.svg),this.isCurved&&this._drawTopOval(this.svg,this.blockPaths),this._drawBlockCanvas(),this.isDrawAttrRate&&this._drawAttritionRateCanvas(),this.isDrawAttrCount&&this._drawAttritionCountCanvas()}},{key:"_makePaths",value:function(){var t=this.layout,e=[];return"horizontal"===t?e=this._makeHorizontalPaths():"vertical"===t&&(e=this._makeVerticalPaths()),e}},{key:"_makeVerticalPaths",value:function(){var t=this,e=this.width,n=[],i=this.dx,a=this.dy,o=this.padding,s=0+o[3],h=this.width-o[1],l=0;this.isInverted&&(s=this.bottomLeftX,h=this.width-this.bottomLeftX);var u=this.options.attrition,c=u.rate,d=u.count;if(this.isDrawAttrRate){var f=new r;f.setLabelFill(c.label.fill),s+=c.label.width,e-=c.label.width}if(this.isDrawAttrCount){var p=new r;p.setLabelFill(d.label.fill),h-=d.label.width,e-=d.label.width}this.firstWidth=Math.max(40,e),this._setBottomWidth(this.firstWidth);var g=(this._getEdgeValue(),0),m=0,v=0,y=this.width/2;this.isCurved&&(l=10),l+=10;var x=this.height;0!==this.minHeight&&(x=this.height-this.minHeight*this.blocks.length);var b=this.height;this.blocks.forEach(function(e,n){t.bottomPinch>0&&(t.isInverted?n<t.bottomPinch&&(b-=e.height):n>=t.blocks.length-t.bottomPinch&&(b-=e.height))});var M=2*b/(this.width-this.bottomWidth);return this.blocks.forEach(function(e,r){t.dynamicHeight&&(a=x*e.ratio,0!==t.minHeight&&(a+=t.minHeight),t.isCurved&&(a-=t.curveHeight/t.blocks.length),g=(l+a)/M,t.isInverted&&(g=(l+a-t.height)/(-1*M)),0===t.bottomWidth&&r===t.blocks.length-1&&(g=t.width/2,t.isInverted&&(g=0)),t.bottomWidth===t.width&&(g=s),i=g-s,t.isInverted&&(i=s-g)),t.bottomPinch>0&&(t.isInverted?(t.dynamicHeight||(i=t.dx),i=r<t.bottomPinch?0:i):r>=t.blocks.length-t.bottomPinch&&(i=0));var o=t.k*e.value+t.b;s=y-.5*o,h=y+.5*o;var u=0;r+1<t.blocks.length&&(u=t.k*t.blocks[r+1].value+t.b),g=y-.5*u,m=y+.5*u,v=l+a,t.isInverted&&(g=s-i,m=h+i),n.push(t.isCurved?[[s,l,"M"],[y,l+(t.curveHeight-10),"Q"],[h,l,""],[m,v,"L"],[m,v,"M"],[y,v+t.curveHeight,"Q"],[g,v,""],[s,l,"L"]]:[[s,l,"M"],[h,l,"L"],[m,v,"L"],[g,v,"L"],[s,l,"L"]]),s=g,h=m,l=v}),n}},{key:"_makeHorizontalPaths",value:function(){var t=this,e=this.height,n=[],i=this.dy,a=(this.dx,this.padding),o=0+a[0],s=e-a[2],h=0+a[3],l=this.options.attrition,u=l.rate,c=l.count,d=this.height/2;if(this.isDrawAttrRate){var f=new r;f.setLabelFill(u.label.fill),e-=a[0]}if(this.isDrawAttrCount){var p=new r;p.setLabelFill(c.label.fill),e-=a[2]}this.firstWidth=Math.max(40,e),this._setBottomWidth(this.firstWidth);var g=(this._getEdgeValue(),0),m=0,v=0;return this.blocks.forEach(function(e,r){var a=t.k*e.value+t.b;o=d-.5*a,s=d+.5*a;var l=0;r+1<t.blocks.length&&(l=t.k*t.blocks[r+1].value+t.b),g=d-.5*l,m=d+.5*l,v=h+i,n.push([[h,s,"M"],[h,o,"L"],[v,g,"L"],[v,m,"L"],[h,s,"L"]]),h=v}),n}},{key:"_getEdgeValue",value:function(){var t=this.blocks[0].value,e=this.blocks[0].value,n=0,i=0;return this.blocks.map(function(r,a){r.value>=t&&(t=r.value||0,n=a),r.value<=e&&(e=r.value||0,i=a)}),t===e?(this.k=0===t?0:this.firstWidth/t,this.b=0===t?this.firstWidth:0):(this.k=(this.firstWidth-this.bottomWidth)/(t-e),this.b=this.firstWidth-this.k*t),{max:t,min:e,maxIndex:n,minIndex:i}}},{key:"_getDxByData",value:function(t,e){var n=this,i=n.dx,r=n.blocks.length;return i=r-1>t?.5*(n.blocks[0].value-n.blocks[t+1].value)/e:0}},{key:"_getDyByData",value:function(t){var e=this,n=e.dy,i=e.blocks.length;return i-1>t?n:e.options.block.bottomBlock.height}},{key:"_defineColorGradients",value:function(t){var e=t.append("defs");this.blocks.forEach(function(t,n){var i=t.fill.raw,a=r.shade(i,-.2),o=e.append("linearGradient").attr({id:"gradient-"+n}),s=[[0,a],[40,i],[60,i],[100,a]];s.forEach(function(t){o.append("stop").attr({offset:t[0]+"%",style:"stop-color:"+t[1]})})})}},{key:"_drawTopOval",value:function(t,e){var n=0,i=this.width,a=this.width/2;this.isInverted&&(n=this.bottomLeftX,i=this.width-this.bottomLeftX);var o=e[0],s=o[1][1]+this.curveHeight-10,h=this.navigator.plot([["M",n,o[0][1]],["Q",a,s],[" ",i,o[2][1]],["M",i,10],["Q",a,0],[" ",n,10]]);t.append("path").attr("fill",r.shade(this.blocks[0].fill.raw,-.4)).attr("d",h)}},{key:"_drawBlockCanvas",value:function(){this.funnelBlocks=this.svg.append("g").attr("class","funnel-blocks"),this._drawBlock(0)}},{key:"_drawBlock",value:function(t){var e=this;if(t!==this.blocks.length){var n=this.svg.append("g"),i=this._getBlockPath(n,t);i.data(this._getD3Data(t));var r=this.options.block.stroke;if(this._addBlockLabel(n,t),t<this.blocks.length-1&&(null===this.blocks[t].value||null===this.blocks[t+1].value))return void this._drawBlock(t+1);0!==this.animation&&(!this.options.block.bottomBlock||this.options.block.bottomBlock&&t<this.blocks.length-1)?i.transition().duration(this.animation).ease("linear").attr("fill",this.blocks[t].fill.actual).attr("stroke",r.color).attr("stroke-width",r.width).attr("d",this._getPathDefinition(t)).each("end",function(){e._drawBlock(t+1)}):(i.attr("fill",this.blocks[t].fill.actual).attr("stroke",r.color).attr("stroke-width",r.width).attr("d",this._getPathDefinition(t)),this._drawBlock(t+1)),this.hoverEffects&&i.on("mouseover",this._onMouseOver).on("mouseout",this._onMouseOut),null!==this.onBlockClick&&(i.attr("cursor","pointer"),i.on("click",this.onBlockClick)),null!==this.onBlockMouseOver&&i.on("mouseover",this.onBlockMouseOver),null!==this.onBlockMouseOut&&i.on("mouseout",this.onBlockMouseOut),null!==this.onBlockMouseMove&&i.on("mousemove",this.onBlockMouseMove)}}},{key:"_getBlockPath",value:function(t,e){var n=t.append("path");return 0!==this.animation&&this._addBeforeTransition(n,e),n}},{key:"_addBeforeTransition",value:function(t,e){var n=this.blockPaths[e],i="",r="";i=this.navigator.plot(this.isCurved?[["M",n[0][0],n[0][1]],["Q",n[1][0],n[1][1]],[" ",n[2][0],n[2][1]],["L",n[2][0],n[2][1]],["M",n[2][0],n[2][1]],["Q",n[1][0],n[1][1]],[" ",n[0][0],n[0][1]]]:[["M",n[0][0],n[0][1]],["L",n[1][0],n[1][1]],["L",n[1][0],n[1][1]],["L",n[0][0],n[0][1]]]),r="solid"===this.fillType&&e>0?this.blocks[e-1].fill.actual:this.blocks[e].fill.actual,t.attr("d",i).attr("fill",r)}},{key:"_getD3Data",value:function(t){return[this.blocks[t]]}},{key:"_getPathDefinition",value:function(t){var e=[];return this.blockPaths[t].forEach(function(t){e.push([t[2],t[0],t[1]])}),this.navigator.plot(e)}},{key:"_onMouseOver",value:function(t){d3.select(this).attr("fill",r.shade(t.fill.raw,.15))}},{key:"_onMouseOut",value:function(t){d3.select(this).attr("fill",t.fill.actual)}},{key:"_drawAttritionRateCanvas",value:function(){this.attrRate=this.svg.append("g").attr("class","funnel-attrition-rate"),this._drawAttritionRate(0)}},{key:"_drawAttritionCountCanvas",value:function(){this.attrCount=this.svg.append("g").attr("class","funnel-attrition-count"),this._drawAttritionCount(0)}},{key:"_drawAttritionRate",value:function(t){var e=this,n=this.padding,i=this.layout;if(t!==this.blocks.length-1){var r=this.blockPaths[t],a=this.options.attrition,o=this._getLeftLabelPos(r),s=o[0],h=o[1];t===this.blocks.length-2&&(h-=e.options.block.stroke.width,s-=e.options.block.stroke.width);var l=this.attrRate.append("g"),u="zh"===bdpChart.language?"":"Conversion Rate",c=void 0;c=this.blocks[t].value&&null!==this.blocks[t+1].value?(this.blocks[t+1].value/this.blocks[t].value*100).toFixed(2)+"%":"--";var d=u+" "+c;l.append("text").text(d).attr({transform:"translate("+("vertical"===i?n[3]:s+4)+","+("vertical"===i?h:e.height-6)+")","text-anchor":"left","dominant-baseline":"middle",fill:a.rate.label.fill}).style("font-size",a.rate.label.fontSize).append("title").text(d);var f=this._getTextWidth(l),p=l.append("path").attr("stroke",a.rate.lineColor).attr("stroke-width",1),g=void 0;"vertical"===i?g=this.navigator.plot([["M",f+n[3]+10,h],["L",(r[0][0]+r[3][0])/2,h]]):"horizontal"===i&&(g=this.navigator.plot([["M",s,this.height],["L",s,(r[0][1]+r[3][1])/2]])),this.animation!==!1?p.transition().duration(this.animation).ease("linear").attr("d",g).each("end",function(){e._drawAttritionRate(t+1)}):(p.attr("d",g),this._drawAttritionRate(t+1))}}},{key:"_drawAttritionCount",value:function(t){var e=this,n=this.padding,i=this.layout,r=e.options.block.stroke.width,a=this.blockPaths[t],o=this.options.attrition,s=this._getRightLabelPos(a),h=s[0],l=s[1];0===t?(l+=r,h+=r):t===this.blocks.length-1&&(l-=r,h-=r);var u=this.attrCount.append("g"),c=this.blocks[t].label.raw;u.append("text").text(c).style("font-size",o.count.label.fontSize).each(function(){for(var t=d3.select(this),e=t.node().getComputedTextLength(),n=t.text();e>o.count.label.width&&n.length>0;)n=n.slice(0,-1),t.text(n+"..."),e=t.node().getComputedTextLength()}).append("title").text(c);var d=this._getTextWidth(u);u.select("text").attr({transform:"translate("+("vertical"===i?this.width-d-n[3]:h+4)+","+("vertical"===i?l:0)+")","text-anchor":"right","dominant-baseline":"vertical"===i?"middle":"text-before-edge",fill:o.count.label.fill});
var f=u.append("path").attr("stroke",o.count.lineColor).attr("stroke-width",1),p=void 0;if("vertical"===i?p=this.navigator.plot([["M",this.width-d-n[1]-10,l],["L",a[1][0],l]]):"horizontal"===i&&(p=this.navigator.plot([["M",h,l],["L",h,0]])),this.animation!==!1)f.transition().duration(this.animation).ease("linear").attr("d",p).each("end",function(){t!==e.blocks.length-1&&e._drawAttritionCount(t+1)});else{if(f.attr("d",p),t===e.blocks.length-1)return;this._drawAttritionCount(t+1)}}},{key:"_getTextWidth",value:function(t){var e=0;return t.select("text").each(function(){e=this.getComputedTextLength()}),e}},{key:"_addBlockLabel",value:function(t,e){var n=this.blockPaths[e],i=this.layout,r=this.blocks[e].label.formatted;null===this.blocks[e].value&&(r="--");var a=this.blocks[e].label.color,o="rgba(0, 0, 0, 0.6) 0px 1px 2px";this.bottomPinch>0&&e===this.blockPaths.length-1&&(a=this.options.block.bottomBlock.text.fill,o=null);var s=this.width,h=this.height,l=void 0,u=void 0,c=this.options.attrition;c.rate.enabled&&(s+=c.rate.label.width,h-=c.rate.label.width),c.count.enabled&&(s-=c.count.label.width,h+=c.count.label.width),"vertical"===i?(l=s/2,u=this._getTextY(n)+15):"horizontal"===i&&(l=this._getTextX(n),u=h/2),t.append("text").text(r).attr({transform:"translate("+l+","+u+")","text-anchor":"vertical"===i?"middle":"left","dominant-baseline":"middle",fill:a,"pointer-events":"none"}).attr("class","funnel-datalabels").style("font-size",this.label.fontSize).style("text-shadow",o)}},{key:"_getTextX",value:function(t){return this.isCurved?t[0][0]+this.curveHeight/this.blocks.length+10:t[0][0]+10}},{key:"_getTextY",value:function(t){return this.isCurved?t[2][1]+this.curveHeight/this.blocks.length:t[1][1]}},{key:"_getLeftLabelPos",value:function(t){return this.isCurved?[(t[0][0]+t[3][0])/2+this.curveHeight/this.blocks.length,(t[2][1]+t[3][1])/2+this.curveHeight/this.blocks.length]:[(t[0][0]+t[3][0])/2,(t[1][1]+t[2][1])/2]}},{key:"_getRightLabelPos",value:function(t){return this.isCurved?[t[0][0]+this.curveHeight/this.blocks.length,t[0][1]+this.curveHeight/this.blocks.length]:[t[0][0],t[0][1]]}}]),e}();s.defaults={chart:{width:350,height:400,bottomWidth:1/3,bottomPinch:0,inverted:!1,animate:!1,curve:{enabled:!1,height:20},padding:[10,10,10,10],layout:"vertical"},block:{dynamicHeight:!1,fill:{scale:d3.scale.category10().domain(d3.range(0,10)),type:"solid"},stroke:{width:1,color:"#fff"},minHeight:!1,highlight:!1,autoSlope:!1},label:{fontSize:"14px",fill:"#fff",format:"{l}: {f}"},events:{click:{block:null},mouseover:{block:null},mouseout:{block:null},mousemove:{block:null}},attrition:{rate:{enabled:!1,label:{fontSize:"12px",fill:"#333",width:100},lineColor:"#333"},count:{enabled:!1,label:{fontSize:"12px",fill:"#333",width:100},lineColor:"#333"}}},window.D3Funnel=s}(),window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e="zero-timeout-message",n=function(n){var i=t.length;return t.push(n),window.postMessage(e+i.toString(36),"*"),i};return window.addEventListener("message",function(n){if("string"==typeof n.data&&n.data.substr(0,e.length)===e){n.stopImmediatePropagation();var i=parseInt(n.data.substr(e.length),36);t[i]&&(t[i](),t[i]=void 0)}},!0),window.clearImmediate=function(e){t[e]&&(t[e]=void 0)},n}()||function(t){window.setTimeout(t,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}}()),function(t){var e=function(){var t=document.createElement("canvas");if(!t||!t.getContext)return!1;var e=t.getContext("2d");return e.getImageData&&e.fillText&&Array.prototype.some&&Array.prototype.push?!0:!1}(),n=function(){if(e){for(var t,n,i=document.createElement("canvas").getContext("2d"),r=20;r;){if(i.font=r.toString(10)+"px sans-serif",i.measureText("").width===t&&i.measureText("m").width===n)return r+1;t=i.measureText("").width,n=i.measureText("m").width,r--}return 0}}(),i=function(t){for(var e,n,i=t.length;i;e=Math.floor(Math.random()*i),n=t[--i],t[i]=t[e],t[e]=n);return t},r=function(t,r){function a(t,e){return"hsl("+(360*Math.random()).toFixed()+","+(30*Math.random()+70).toFixed()+"%,"+(Math.random()*(e-t)+t).toFixed()+"%)"}if(e){Array.isArray(t)||(t=[t]),t.forEach(function(e,n){if("string"==typeof e){if(t[n]=document.getElementById(e),!t[n])throw"The element id specified is not found."}else if(!e.tagName&&!e.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var o={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,customRotations:[],shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,hover:null,click:null};if(r)for(var s in r)s in o&&(o[s]=r[s]);if("function"!=typeof o.weightFactor){var h=o.weightFactor;o.weightFactor=function(t){return t*h}}if("function"!=typeof o.shape)switch(o.shape){case"circle":default:o.shape="circle";break;case"cardioid":o.shape=function(t){return 1-Math.sin(t)};break;case"diamond":case"square":o.shape=function(t){var e=t%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case"triangle-forward":o.shape=function(t){var e=t%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle":case"triangle-upright":o.shape=function(t){var e=(t+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"pentagon":o.shape=function(t){var e=(t+.955)%(2*Math.PI/5);return 1/(Math.cos(e)+.726543*Math.sin(e))};break;case"star":o.shape=function(t){var e=(t+.955)%(2*Math.PI/10);return(t+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-e)+3.07768*Math.sin(2*Math.PI/10-e)):1/(Math.cos(e)+3.07768*Math.sin(e))}}o.gridSize=Math.max(Math.floor(o.gridSize),4);var l,u,c,d,f,p,g,m=o.gridSize,v=m-o.maskGapWidth,y=Math.abs(o.maxRotation-o.minRotation),x=Math.min(o.maxRotation,o.minRotation);switch(o.color){case"random-dark":g=function(){return a(10,50)};break;case"random-light":g=function(){return a(50,90)};break;default:"function"==typeof o.color&&(g=o.color)}var b,M=!1,w=[],k=function(t){var e=t.currentTarget,n=e.getBoundingClientRect(),i=t.clientX-n.left,r=t.clientY-n.top,a=Math.floor(i*(e.width/n.width||1)/m),o=Math.floor(r*(e.height/n.height||1)/m);return w[a][o]},S=function(t){var e=k(t);return b!==e?(b=e,e?void o.hover(e.item,e.dimension,t):void o.hover(void 0,void 0,t)):void 0},C=function(t){var e=k(t);e&&o.click(e.item,e.dimension,t)},A=[],P=function(t){if(A[t])return A[t];var e=8*t,n=e,i=[];for(0===t&&i.push([d[0],d[1],0]);n--;){var r=1;"circle"!==o.shape&&(r=o.shape(n/e*2*Math.PI)),i.push([d[0]+t*r*Math.cos(-n/e*2*Math.PI),d[1]+t*r*Math.sin(-n/e*2*Math.PI)*o.ellipticity,n/e*2*Math.PI])}return A[t]=i,i},T=function(){return o.abortThreshold>0&&(new Date).getTime()-p>o.abortThreshold},_=0,L=function(){if(0===o.rotateRatio)return 0;if(o.customRotations.length>0){if(o.list.length<=5)return 0;_++;var t=Math.ceil(Math.random()*o.customRotations.length);return o.customRotations[t]?o.customRotations[t]:0}return Math.random()>o.rotateRatio?0:0===y?x:x+Math.random()*y},D=function(t,e,i){var r=!1,a=o.weightFactor(e);if(a<=o.minSize)return!1;var s=1;n>a&&(s=function(){for(var t=2;n>t*a;)t+=2;return t}());var h=document.createElement("canvas"),l=h.getContext("2d",{willReadFrequently:!0});l.font=o.fontWeight+" "+(a*s).toString(10)+"px "+o.fontFamily;var u=l.measureText(t).width/s,c=Math.max(a*s,l.measureText("m").width,l.measureText("").width)/s,d=u+2*c,f=3*c,p=Math.ceil(d/m),g=Math.ceil(f/m);d=p*m,f=g*m;var v=-u/2,y=.4*-c,x=Math.ceil((d*Math.abs(Math.sin(i))+f*Math.abs(Math.cos(i)))/m),b=Math.ceil((d*Math.abs(Math.cos(i))+f*Math.abs(Math.sin(i)))/m),M=b*m,w=x*m;h.setAttribute("width",M),h.setAttribute("height",w),r&&(document.body.appendChild(h),l.save()),l.scale(1/s,1/s),l.translate(M*s/2,w*s/2),l.rotate(-i),l.font=o.fontWeight+" "+(a*s).toString(10)+"px "+o.fontFamily,l.fillStyle="#000",l.textBaseline="middle",l.fillText(t,v*s,(y+.5*a)*s);var k=l.getImageData(0,0,M,w).data;if(T())return!1;r&&(l.strokeRect(v*s,y,u*s,c*s),l.restore());for(var S,C,A,P=[],_=b,L=[x/2,b/2,x/2,b/2];_--;)for(S=x;S--;){A=m;t:{for(;A--;)for(C=m;C--;)if(k[4*((S*m+A)*M+(_*m+C))+3]){P.push([_,S]),_<L[3]&&(L[3]=_),_>L[1]&&(L[1]=_),S<L[0]&&(L[0]=S),S>L[2]&&(L[2]=S),r&&(l.fillStyle="rgba(255, 0, 0, 0.5)",l.fillRect(_*m,S*m,m-.5,m-.5));break t}r&&(l.fillStyle="rgba(0, 0, 255, 0.5)",l.fillRect(_*m,S*m,m-.5,m-.5))}}return r&&(l.fillStyle="rgba(0, 255, 0, 0.5)",l.fillRect(L[3]*m,L[0]*m,(L[1]-L[3]+1)*m,(L[2]-L[0]+1)*m)),{mu:s,occupied:P,bounds:L,gw:b,gh:x,fillTextOffsetX:v,fillTextOffsetY:y,fillTextWidth:u,fillTextHeight:c,fontSize:a}},E=function(t,e,n,i,r){for(var a=r.length;a--;){var o=t+r[a][0],s=e+r[a][1];if(o>=u||s>=c||0>o||0>s||!l[o][s])return!1}return!0},z=function(e,n,i,r,a,s,h,l,u){var c,d=i.fontSize;c=g?g(r,a,d,s,h):o.color;var f,p=i.bounds;f={x:(e+p[3])*m,y:(n+p[0])*m,w:(p[1]-p[3]+1)*m,h:(p[2]-p[0]+1)*m},t.forEach(function(t){if(t.getContext){var a=t.getContext("2d"),s=i.mu;a.save(),a.scale(1/s,1/s),a.font=o.fontWeight+" "+(d*s).toString(10)+"px "+o.fontFamily,a.fillStyle=c,a.translate((e+i.gw/2)*m*s,(n+i.gh/2)*m*s),0!==l&&a.rotate(-l),a.textBaseline="middle",a.fillText(r,i.fillTextOffsetX*s,(i.fillTextOffsetY+.5*d)*s),a.restore()}else{var h=document.createElement("span"),f="";f="rotate("+-l/Math.PI*180+"deg) ",1!==i.mu&&(f+="translateX(-"+i.fillTextWidth/4+"px) scale("+1/i.mu+")");var p={position:"absolute",display:"block",font:o.fontWeight+" "+d*i.mu+"px "+o.fontFamily,left:(e+i.gw/2)*m+i.fillTextOffsetX+"px",top:(n+i.gh/2)*m+i.fillTextOffsetY+"px",width:i.fillTextWidth+"px",height:i.fillTextHeight+"px",color:c,lineHeight:d+"px",whiteSpace:"nowrap",transform:f,webkitTransform:f,msTransform:f,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};h.textContent=r;for(var g in p)h.style[g]=p[g];if(u)for(var v in u)h.setAttribute(v,u[v]);t.appendChild(h)}})},I=function(e,n,i,r,a){if(!(e>=u||n>=c||0>e||0>n)){if(l[e][n]=!1,i){var o=t[0].getContext("2d");o.fillRect(e*m,n*m,v,v)}M&&(w[e][n]={item:a,dimension:r})}},O=function(e,n,i,r,a,s){var h,l=a.occupied,u=o.drawMask;u&&(h=t[0].getContext("2d"),h.save(),h.fillStyle=o.maskColor);var c;if(M){var d=a.bounds;c={x:(e+d[3])*m,y:(n+d[0])*m,w:(d[1]-d[3]+1)*m,h:(d[2]-d[0]+1)*m}}for(var f=l.length;f--;)I(e+l[f][0],n+l[f][1],u,c,s);u&&h.restore()},N=function(t){var e,n,r;Array.isArray(t)?(e=t[0],n=t[1]):(e=t.word,n=t.weight,r=t.attributes);var a=L(),s=D(e,n,a);if(!s)return!1;if(T())return!1;var h=s.bounds;if(h[1]-h[3]+1>u||h[2]-h[0]+1>c)return!1;for(var l=f+1,d=function(i){var o=Math.floor(i[0]-s.gw/2),h=Math.floor(i[1]-s.gh/2),u=s.gw,c=s.gh;return E(o,h,u,c,s.occupied)?(z(o,h,s,e,n,f-l,i[2],a,r),O(o,h,u,c,s,t),!0):!1};l--;){var p=P(f-l);o.shuffle&&(p=[].concat(p),i(p));var g=p.some(d);if(g)return!0}return!1},R=function(e,n,i){return n?!t.some(function(t){var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,!0,n,i||{}),!t.dispatchEvent(r)},this):void t.forEach(function(t){var r=document.createEvent("CustomEvent");r.initCustomEvent(e,!0,n,i||{}),t.dispatchEvent(r)},this)},B=function(){var e=t[0];if(e.getContext)u=Math.floor(e.width/m),c=Math.floor(e.height/m);else{var n=e.getBoundingClientRect();u=Math.floor(n.width/m),c=Math.floor(n.height/m)}if(R("wordcloudstart",!0)){d=o.origin?[o.origin[0]/m,o.origin[1]/m]:[u/2,c/2],f=Math.floor(Math.sqrt(u*u+c*c)),l=[];var i,r,a;if(!e.getContext||o.clearCanvas)for(t.forEach(function(t){if(t.getContext){var e=t.getContext("2d");e.fillStyle=o.backgroundColor,e.clearRect(0,0,u*(m+1),c*(m+1)),e.fillRect(0,0,u*(m+1),c*(m+1))}else t.textContent="",t.style.backgroundColor=o.backgroundColor}),i=u;i--;)for(l[i]=[],r=c;r--;)l[i][r]=!0;else{var s=document.createElement("canvas").getContext("2d");s.fillStyle=o.backgroundColor,s.fillRect(0,0,1,1);var h=s.getImageData(0,0,1,1).data,g=e.getContext("2d").getImageData(0,0,u*m,c*m).data;i=u;for(var v,y;i--;)for(l[i]=[],r=c;r--;){y=m;t:for(;y--;)for(v=m;v--;)for(a=4;a--;)if(g[4*((r*m+y)*u*m+(i*m+v))+a]!==h[a]){l[i][r]=!1;break t}l[i][r]!==!1&&(l[i][r]=!0)}g=s=h=void 0}if(o.hover||o.click){for(M=!0,i=u+1;i--;)w[i]=[];o.hover&&e.addEventListener("mousemove",S),o.click&&e.addEventListener("click",C),e.addEventListener("wordcloudstart",function D(){e.removeEventListener("wordcloudstart",D),e.removeEventListener("mousemove",S),e.removeEventListener("click",C),b=void 0})}a=0;var x,k;0!==o.wait?(x=window.setTimeout,k=window.clearTimeout):(x=window.setImmediate,k=window.clearImmediate);var A=function(e,n){t.forEach(function(t){t.addEventListener(e,n)},this)},P=function(e,n){t.forEach(function(t){t.removeEventListener(e,n)},this)},_=function E(){P("wordcloudstart",E),k(L)};A("wordcloudstart",_);var L=x(function z(){if(a>=o.list.length)return k(L),R("wordcloudstop",!1),void P("wordcloudstart",_);p=(new Date).getTime();var t=N(o.list[a]),e=!R("wordclouddrawn",!0,{item:o.list[a],drawn:t});return T()||e?(k(L),o.abort(),R("wordcloudabort",!1),R("wordcloudstop",!1),void P("wordcloudstart",_)):(a++,void(L=x(z,o.wait)))},o.wait)}};B()}};r.isSupported=e,r.miniumFontSize=n,"function"==typeof t.define&&t.define.amd?t.define("wordcloud",[],function(){return r}):"undefined"!=typeof t.module&&t.module.exports?t.module.exports=r:t.WordCloud=r}(window),!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){!function(t){"use strict";var e=t.defaultOptions,n=t.doc,i=t.Chart,r=t.addEvent,a=t.removeEvent,o=t.fireEvent,s=t.createElement,h=t.discardElement,l=t.css,u=t.merge,c=t.pick,d=t.each,f=t.extend,p=t.isTouchDevice,g=t.win,m=(t.SVGRenderer,t.Renderer.prototype.symbols);f(e.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),e.navigation={buttonOptions:{theme:{},symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24}},u(!0,e.navigation,{menuStyle:{border:"1px solid #999999",background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",background:"none",color:"#333333",fontSize:p?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"},buttonOptions:{symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",stroke:"none",padding:5}}}),e.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}},t.post=function(t,e,i){var r,a;a=s("form",u({method:"post",action:t,enctype:"multipart/form-data"},i),{display:"none"},n.body);for(r in e)s("input",{type:"hidden",name:r,value:e[r]},null,a);a.submit(),h(a)},f(i.prototype,{sanitizeSVG:function(t,e){if(e&&e.exporting&&e.exporting.allowHTML){var n=t.match(/<\/svg>(.*?$)/);n&&(n='<foreignObject x="0" y="0" width="'+e.chart.width+'" height="'+e.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+n[1]+"</body></foreignObject>",t=t.replace("</svg>",n+"</svg>"))}return t=t.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"").replace(/&shy;/g,""),t=t.replace(/<IMG /g,"<image ").replace(/<(\/?)TITLE>/g,"<$1title>").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/ id=([^" >]+)/g,' id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(t){return t.toLowerCase()})},getChartHTML:function(){return this.container.innerHTML},getSVG:function(e){var i,r,a,o,l,c,p,g,m=this,v=u(m.options,e);return n.createElementNS||(n.createElementNS=function(t,e){return n.createElement(e)}),r=s("div",null,{position:"absolute",top:"-9999em",width:m.chartWidth+"px",height:m.chartHeight+"px"},n.body),p=m.renderTo.style.width,g=m.renderTo.style.height,l=v.exporting.sourceWidth||v.chart.width||/px$/.test(p)&&parseInt(p,10)||600,c=v.exporting.sourceHeight||v.chart.height||/px$/.test(g)&&parseInt(g,10)||400,f(v.chart,{animation:!1,renderTo:r,forExport:!0,renderer:"SVGRenderer",width:l,height:c}),v.exporting.enabled=!1,delete v.data,v.series=[],d(m.series,function(t){o=u(t.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:t.visible}),o.isInternal||v.series.push(o)}),i=new t.Chart(v,m.callback),e&&d(["xAxis","yAxis","series"],function(t){var n={};e[t]&&(n[t]=e[t],i.update(n))}),d(["xAxis","yAxis"],function(t){d(m[t],function(e,n){var r=i[t][n],a=e.getExtremes(),o=a.userMin,s=a.userMax;!r||void 0===o&&void 0===s||r.setExtremes(o,s,!0,!1)})}),a=i.getChartHTML(),a=m.sanitizeSVG(a,v),v=null,i.destroy(),h(r),a},getSVGForExport:function(t,e){var n=this.options.exporting;return this.getSVG(u({chart:{borderRadius:0}},n.chartOptions,e,{exporting:{sourceWidth:t&&t.sourceWidth||n.sourceWidth,sourceHeight:t&&t.sourceHeight||n.sourceHeight}}))},exportChart:function(e,n){var i=this.getSVGForExport(e,n);e=u(this.options.exporting,e),t.post(e.url,{filename:e.filename||"chart",type:e.type,width:e.width||0,scale:e.scale,svg:i},e.formAttributes)},print:function(){var t,e,i=this,r=i.container,a=[],s=r.parentNode,h=n.body,l=h.childNodes,u=i.options.exporting.printMaxWidth;i.isPrinting||(i.isPrinting=!0,i.pointer.reset(null,0),o(i,"beforePrint"),e=u&&i.chartWidth>u,e&&(t=[i.options.chart.width,void 0,!1],i.setSize(u,void 0,!1)),d(l,function(t,e){1===t.nodeType&&(a[e]=t.style.display,t.style.display="none")}),h.appendChild(r),g.focus(),g.print(),setTimeout(function(){s.appendChild(r),d(l,function(t,e){1===t.nodeType&&(t.style.display=a[e])}),i.isPrinting=!1,e&&i.setSize.apply(i,t),o(i,"afterPrint")},1e3))},contextMenu:function(t,e,i,a,o,h,u){var c,p,g,m,v=this,y=v.options.navigation,x=v.chartWidth,b=v.chartHeight,M="cache-"+t,w=v[M],k=Math.max(o,h);w||(v[M]=w=s("div",{className:t},{position:"absolute",zIndex:1e3,padding:k+"px"},v.container),c=s("div",{className:"highcharts-menu"},null,w),l(c,f({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},y.menuStyle)),p=function(){l(w,{display:"none"}),u&&u.setState(0),v.openMenu=!1},r(w,"mouseleave",function(){w.hideTimer=setTimeout(p,500)}),r(w,"mouseenter",function(){clearTimeout(w.hideTimer)}),m=r(n,"mouseup",function(e){v.pointer.inClass(e.target,t)||p()}),r(v,"destroy",m),d(e,function(t){if(t){var e;t.separator?e=s("hr",null,null,c):(e=s("div",{className:"highcharts-menu-item",onclick:function(e){e&&e.stopPropagation(),p(),t.onclick&&t.onclick.apply(v,arguments)},innerHTML:t.text||v.options.lang[t.textKey]},null,c),e.onmouseover=function(){l(this,y.menuItemHoverStyle)},e.onmouseout=function(){l(this,y.menuItemStyle)},l(e,f({cursor:"pointer"},y.menuItemStyle))),v.exportDivElements.push(e)}}),v.exportDivElements.push(c,w),v.exportMenuWidth=w.offsetWidth,v.exportMenuHeight=w.offsetHeight),g={display:"block"},i+v.exportMenuWidth>x?g.right=x-i-o-k+"px":g.left=i-k+"px",a+h+v.exportMenuHeight>b&&"top"!==u.alignOptions.verticalAlign?g.bottom=b-a-k+"px":g.top=a+h-k+"px",l(w,g),v.openMenu=!0},addButton:function(t){var e,n,i=this,r=i.renderer,a=u(i.options.navigation.buttonOptions,t),o=a.onclick,s=a.menuItems,h=a.symbolSize||12;if(i.btnCount||(i.btnCount=0),i.exportDivElements||(i.exportDivElements=[],i.exportSVGElements=[]),a.enabled!==!1){var l,d=a.theme,p=d.states,g=p&&p.hover,m=p&&p.select;delete d.states,o?l=function(t){t.stopPropagation(),o.call(i,t)}:s&&(l=function(){i.contextMenu(n.menuClassName,s,n.translateX,n.translateY,n.width,n.height,n),n.setState(2)}),a.text&&a.symbol?d.paddingLeft=c(d.paddingLeft,25):a.text||f(d,{width:a.width,height:a.height,padding:0}),n=r.button(a.text,0,0,l,d,g,m).addClass(t.className).attr({"stroke-linecap":"round",title:i.options.lang[a._titleKey],zIndex:3}),n.menuClassName=t.menuClassName||"highcharts-menu-"+i.btnCount++,a.symbol&&(e=r.symbol(a.symbol,a.symbolX-h/2,a.symbolY-h/2,h,h).addClass("highcharts-button-symbol").attr({zIndex:1}).add(n),e.attr({stroke:a.symbolStroke,fill:a.symbolFill,"stroke-width":a.symbolStrokeWidth||1})),n.add().align(f(a,{width:n.width,x:c(a.x,i.buttonOffset)}),!0,"spacingBox"),i.buttonOffset+=(n.width+a.buttonSpacing)*("right"===a.align?-1:1),i.exportSVGElements.push(n,e)}},destroyExport:function(t){var e=t?t.target:this,n=e.exportSVGElements,i=e.exportDivElements;n&&(d(n,function(t,n){t&&(t.onclick=t.ontouchstart=null,e.exportSVGElements[n]=t.destroy())}),n.length=0),i&&(d(i,function(t,n){clearTimeout(t.hideTimer),a(t,"mouseleave"),e.exportDivElements[n]=t.onmouseout=t.onmouseover=t.ontouchstart=t.onclick=null,h(t)}),i.length=0)}}),m.menu=function(t,e,n,i){var r=["M",t,e+2.5,"L",t+n,e+2.5,"M",t,e+i/2+.5,"L",t+n,e+i/2+.5,"M",t,e+i-1.5,"L",t+n,e+i-1.5];return r},i.prototype.renderExporting=function(){var t,e=this.options.exporting,n=e.buttons,i=this.isDirtyExporting||!this.exportSVGElements;if(this.buttonOffset=0,this.isDirtyExporting&&this.destroyExport(),i&&e.enabled!==!1){for(t in n)this.addButton(n[t]);this.isDirtyExporting=!1}r(this,"destroy",this.destroyExport)},i.prototype.callbacks.push(function(t){function e(e,n,i){t.isDirtyExporting=!0,u(!0,t.options[e],n),c(i,!0)&&t.redraw()}t.renderExporting(),r(t,"redraw",t.renderExporting),d(["exporting","navigation"],function(n){t[n]={update:function(t,i){e(n,t,i)}}})})}(t)});var t=angular.module("datePicker",[]);t.constant("datePickerConfig",{template:"/static/partials/datepicker.html",view:"month",views:["year","month","date","hours","minutes"],step:5}),t.filter("time",function(){function t(t){return("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)}return function(e){return e instanceof Date||(e=new Date(e),!isNaN(e.getTime()))?t(e):void 0}}),t.directive("datePicker",["datePickerConfig","datePickerUtils",function(t,e){return{require:"?ngModel",template:'<div ng-include="template"></div>',scope:{model:"=datePicker",after:"=?",before:"=?"},link:function(n,i,r,a){function o(){var t=n.view;n.model&&!h&&(n.date=new Date(n.model),h=!1);var i=n.date;switch(t){case"year":n.years=e.getVisibleYears(i);break;case"month":n.months=e.getVisibleMonths(i);break;case"date":n.weekdays=n.weekdays||e.getDaysOfWeek(),n.weeks=e.getVisibleWeeks(i);break;case"hours":n.hours=e.getVisibleHours(i);break;case"minutes":n.minutes=e.getVisibleMinutes(i,l)}}function s(){return"date"!==n.view?n.view:n.date?n.date.getMonth():null}var h=!1;n.date=new Date(n.model||new Date),n.views=t.views.concat(),n.view=r.view||t.view,n.now=new Date,n.template=r.template||t.template;var l=parseInt(r.step||t.step,10),u=!!r.partial;if(a){if(angular.isDefined(r.minDate)){var c;a.$validators.min=function(t){return!e.isValidDate(t)||angular.isUndefined(c)||t>=c},r.$observe("minDate",function(t){c=new Date(t),a.$validate()})}if(angular.isDefined(r.maxDate)){var d;a.$validators.max=function(t){return!e.isValidDate(t)||angular.isUndefined(d)||d>=t},r.$observe("maxDate",function(t){d=new Date(t),a.$validate()})}}n.views=n.views.slice(n.views.indexOf(r.maxView||"year"),n.views.indexOf(r.minView||"minutes")+1),(1===n.views.length||-1===n.views.indexOf(n.view))&&(n.view=n.views[0]),n.setView=function(t){-1!==n.views.indexOf(t)&&(n.view=t)},n.setDate=function(t){if(!r.disabled){n.date=t;var e=n.views[n.views.indexOf(n.view)+1];if(!e||u||n.model){n.model=new Date(n.model||t),a&&a.$setViewValue(n.date);var o=u?"minutes":n.view;switch(o){case"minutes":n.model.setMinutes(t.getMinutes());case"hours":n.model.setHours(t.getHours());case"date":n.model.setDate(t.getDate()),31==t.getDate()&&n.model.setDate(t.getDate());case"month":n.model.setMonth(t.getMonth());case"year":n.model.setFullYear(t.getFullYear())}n.$emit("setDate",n.model,n.view)}e&&n.setView(e),e||"true"!==r.autoClose||(i.addClass("hidden"),n.$emit("hidePicker"))}},n.$watch(s,o),n.next=function(t){var e=n.date;switch(t=t||1,n.view){case"year":case"month":e.setFullYear(e.getFullYear()+t);break;case"date":e.setMonth(e.getMonth()+t);break;case"hours":case"minutes":e.setHours(e.getHours()+t)}h=!0,o()},n.prev=function(t){return n.next(-t||-1)},n.isAfter=function(t){return n.after&&e.isAfter(t,n.after)},n.isBefore=function(t){return n.before&&e.isBefore(t,n.before)},n.isSameMonth=function(t){return e.isSameMonth(n.model,t)},n.isSameYear=function(t){return e.isSameYear(n.model,t)},n.isSameDay=function(t){return e.isSameDay(n.model,t)},n.isSameHour=function(t){return e.isSameHour(n.model,t)},n.isSameMinutes=function(t){return e.isSameMinutes(n.model,t)},n.isNow=function(t){var e=!0,i=n.now;switch(n.view){case"minutes":e&=~~(t.getMinutes()/l)===~~(i.getMinutes()/l);case"hours":e&=t.getHours()===i.getHours();case"date":e&=t.getDate()===i.getDate();case"month":e&=t.getMonth()===i.getMonth();case"year":e&=t.getFullYear()===i.getFullYear()}return e}}}}]),t.directive("dateFormat",["$filter",function(t){var e=t("date");return{require:"ngModel",link:function(t,n,i,r){function a(t){return t?e(t,"yyyy-MM-dd"):h}function o(){return r.$modelValue}var s=bdpChart.language||"zh",h="zh"===s?"":"unbounded";r.$formatters.push(a),r.$parsers.unshift(o)}}}]),angular.module("datePicker").factory("datePickerUtils",function(){var t=function(t,e,n,i,r){return new Date(Date.UTC(0|t,0|e,0|n,0|i,0|r))};return{getVisibleMinutes:function(e,n){e=new Date(e||new Date);var i,r,a=e.getFullYear(),o=e.getMonth(),s=e.getDate(),h=e.getUTCHours(),l=[];for(i=0;60>i;i+=n)r=t(a,o,s,h,i),l.push(r);return l},getVisibleWeeks:function(t){t=new Date(t||new Date);var e=t.getMonth(),n=t.getYear();t.setDate(1),t.setDate(0===t.getDay()?-5:t.getDate()-(t.getDay()-1)),1===t.getDate()&&t.setDate(-6);for(var i,r=[];r.length<6&&!(t.getYear()===n&&t.getMonth()>e);)i=this.getDaysOfWeek(t),r.push(i),t.setDate(t.getDate()+7);return r},getVisibleYears:function(e){e=new Date(e||new Date),e.setFullYear(e.getFullYear()-e.getFullYear()%10);for(var n,i=e.getFullYear(),r=[],a=0;12>a;a++)n=t(i),r.push(n),i++;return r},getDaysOfWeek:function(e){e=new Date(e||new Date),e.setDate(e.getDate()-(e.getDay()-1));for(var n,i=e.getFullYear(),r=e.getMonth(),a=e.getDate(),o=[],s=0;7>s;s++)n=t(i,r,a),o.push(n),a++;return o},getVisibleMonths:function(e){e=new Date(e||new Date);for(var n,i=e.getFullYear(),r=[],a=0;12>a;a++)n=t(i,a,1),r.push(n);return r},getVisibleHours:function(e){e=new Date(e||new Date);var n,i,r=e.getFullYear(),a=e.getMonth(),o=e.getDate(),s=[];for(n=0;24>n;n++)i=t(r,a,o,n),s.push(i);return s},isAfter:function(t,e){return t=void 0!==t?new Date(t):t,e=new Date(e),t&&t.getTime()>=e.getTime()},isBefore:function(t,e){return t=void 0!==t?new Date(t):t,e=new Date(e),t.getTime()<=e.getTime()},isSameYear:function(t,e){return t=void 0!==t?new Date(t):t,e=new Date(e),t&&t.getFullYear()===e.getFullYear()},isSameMonth:function(t,e){return t=void 0!==t?new Date(t):t,e=new Date(e),this.isSameYear(t,e)&&t.getMonth()===e.getMonth()},isSameDay:function(t,e){return t=void 0!==t?new Date(t):t,e=new Date(e),this.isSameMonth(t,e)&&t.getDate()===e.getDate()},isSameHour:function(t,e){return t=void 0!==t?new Date(t):t,e=new Date(e),this.isSameDay(t,e)&&t.getHours()===e.getHours()},isSameMinutes:function(t,e){return t=void 0!==t?new Date(t):t,e=new Date(e),this.isSameHour(t,e)&&t.getMinutes()===e.getMinutes()},isValidDate:function(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}}});var t=angular.module("datePicker");t.directive("dateRange",function(){return{templateUrl:"/static/partials/daterange.html",scope:{start:"=",end:"=",range:"="},link:function(t,e,n){t.range&&t.range.length>1&&(t.start=t.range[0]?new Date(t.range[0]):null,t.end=t.range[1]?new Date(t.range[1]):null),t.$watch("range",function(e){t.range&&e.length>1&&(t.start=t.range[0]?new Date(t.range[0]):"",t.end=t.range[1]?new Date(t.range[1]):"")}),t.start=new Date(t.start||new Date),t.end=new Date(t.end||new Date),n.$observe("disabled",function(e){t.disableDatePickers=!!e}),t.$watch("start.getTime()",function(e){e&&t.end&&e>t.end.getTime()&&(t.end=new Date(e))}),t.$watch("end.getTime()",function(e){e&&t.start&&e<t.start.getTime()&&(t.start=new Date(e))})}}});var t=angular.module("datePicker");t.directive("dateRangeBdp",["$timeout",function(t){return{templateUrl:"/static/partials/daterange_bdp.html",scope:{start:"=",end:"=",startHour:"=",endHour:"=",range:"=",startDateValid:"=",endDateValid:"=",startTimeValid:"=",endTimeValid:"=",dateTimeByHalfHour:"="},link:function(e,n,i){function r(t){return Highcharts.dateFormat("%Y-%m-%d",t)}var a={isDate:function(t){return/^\d{4}-(0?[1-9]|1[0-2])-(0?[1-9]|[1-2]\d|3[0-1])$/.test(t)},isTime:function(t){return/^(((0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9])|(00:00:00))$/.test(t)}};e.range&&(e.range.length>1&&(e.start=e.range[0]?r(new Date(e.range[0])):null,e.end=e.range[1]?r(new Date(e.range[1])):null),e.startHour=e.range[2]||"00:00:00",e.endHour=e.range[3]||"23:59:59"),e.$watch("range",function(t){e.range&&t.length>1&&(e.range[0]?(e.start=r(new Date(e.range[0])),e.disableStart=!1):(e.start=null,e.disableStart=!0),e.range[1]?(e.end=r(new Date(e.range[1])),e.disableEnd=!1):(e.end=null,e.disableEnd=!0),e.startHour=e.range[2]||"00:00:00",e.endHour=e.range[3]||"23:59:59")}),e.start=r(e.start?new Date(e.start):new Date),e.end=r(e.end?new Date(e.end):new Date),i.$observe("disabled",function(t){e.disableDatePickers=!!t}),e.$watch("start",function(t){t&&("object"==typeof t?(e.start=r(t),e.startDateValid=!0):a.isDate(t)&&(e.start=r(new Date(t)),e.startDateValid=!0))}),e.$watch("end",function(t){t&&("object"==typeof t?(e.end=r(t),e.endDateValid=!0):a.isDate(t)&&(e.end=r(new Date(t)),e.endDateValid=!0))}),e.startDateValid=!0,e.endDateValid=!0,e.startTimeValid=!0,e.endTimeValid=!0,e.checkInputDate=function(t,n,i,r){var o=$.trim(i);"date"===n?e[r+"DateValid"]=""==o?!0:a.isDate(i):"time"===n&&(e[r+"TimeValid"]=""==o?!0:a.isTime(i))},e.checkInputDateKeyup=function(t,n,i,r){var o=$.trim(i);"date"===n&&10===o.length?e[r+"DateValid"]=""==o?!0:a.isDate(i):"time"===n&&8===o.length&&(e[r+"TimeValid"]=""==o?!0:a.isTime(i))},e.delRange=function(t,n){t?(e[n]=null,e[n+"Hour"]=null):(e[n]=r(new Date),"start"===n?e.startHour="00:00:00":"end"===n&&(e.endHour="23:59:59")),e[n+"DateValid"]=!0,e[n+"TimeValid"]=!0},angular.element(document).off("click.datepicker"+e.$id).on("click.datepicker"+e.$id,function(n){var i=angular.element(n.target),r=i.parents(".trigger-datepicker").length>0;i.hasClass("trigger-datepicker")||r||t(function(){e.showStartPicker=!1,e.showEndPicker=!1})})}}}]),!function(){"use strict";angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},clearOnBlur:!0,clearOnBlurPlaceholder:!1,escChar:"\\",eventsToHandle:["input","keyup","click","focus"],addDefaultPlaceholder:!0,allowInvalidValue:!1}).provider("uiMask.Config",function(){var t={};
this.maskDefinitions=function(e){return t.maskDefinitions=e},this.clearOnBlur=function(e){return t.clearOnBlur=e},this.clearOnBlurPlaceholder=function(e){return t.clearOnBlurPlaceholder=e},this.eventsToHandle=function(e){return t.eventsToHandle=e},this.addDefaultPlaceholder=function(e){return t.addDefaultPlaceholder=e},this.allowInvalidValue=function(e){return t.allowInvalidValue=e},this.$get=["uiMaskConfig",function(e){var n=e;for(var i in t)angular.isObject(t[i])&&!angular.isArray(t[i])?angular.extend(n[i],t[i]):n[i]=t[i];return n}]}).directive("uiMask",["uiMask.Config",function(t){function e(t){return t===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(t.type||t.href||~t.tabIndex)}return{priority:100,require:"ngModel",restrict:"A",compile:function(){var n=angular.copy(t);return function(t,i,r,a){function o(t){return angular.isDefined(t)?(b(t),X?(d(),f(),!0):c()):c()}function s(t){t&&(z=t,!X||0===i.val().length&&angular.isDefined(r.placeholder)||i.val(v(m(i.val()))))}function h(){return o(r.uiMask)}function l(t){return X?(N=m(t||""),B=g(N),a.$setValidity("mask",B),N.length&&(B||Z.allowInvalidValue)?v(N):void 0):t}function u(t){return X?(N=m(t||""),B=g(N),a.$viewValue=N.length?v(N):"",a.$setValidity("mask",B),B||Z.allowInvalidValue?$?a.$viewValue:N:void 0):t}function c(){return X=!1,p(),angular.isDefined(q)?i.attr("placeholder",q):i.removeAttr("placeholder"),angular.isDefined(V)?i.attr("maxlength",V):i.removeAttr("maxlength"),i.val(a.$modelValue),a.$viewValue=a.$modelValue,!1}function d(){N=W=m(a.$modelValue||""),R=H=v(N),B=g(N),r.maxlength&&i.attr("maxlength",2*D[D.length-1]),!q&&Z.addDefaultPlaceholder&&i.attr("placeholder",z);for(var t=a.$modelValue,e=a.$formatters.length;e--;)t=a.$formatters[e](t);a.$viewValue=t||"",a.$render()}function f(){Y||(i.bind("blur",M),i.bind("mousedown mouseup",k),i.bind("keydown",C),i.bind(Z.eventsToHandle.join(" "),A),Y=!0)}function p(){Y&&(i.unbind("blur",M),i.unbind("mousedown",k),i.unbind("mouseup",k),i.unbind("keydown",C),i.unbind("input",A),i.unbind("keyup",A),i.unbind("click",A),i.unbind("focus",A),Y=!1)}function g(t){return t.length?t.length>=O:!0}function m(t){var e,n,r="",a=i[0],o=E.slice(),s=G,h=s+L(a),l="";return t=t.toString(),e=0,n=t.length-z.length,angular.forEach(I,function(i){var r=i.position;r>=s&&h>r||(r>=s&&(r+=n),t.substring(r,r+i.value.length)===i.value&&(l+=t.slice(e,r),e=r+i.value.length))}),t=l+t.slice(e),angular.forEach(t.split(""),function(t){o.length&&o[0].test(t)&&(r+=t,o.shift())}),r}function v(t){var e="",n=D.slice();return angular.forEach(z.split(""),function(i,r){t.length&&r===n[0]?(e+=t.charAt(0)||"_",t=t.substr(1),n.shift()):e+=i}),e}function y(t){var e,n=angular.isDefined(r.uiMaskPlaceholder)?r.uiMaskPlaceholder:r.placeholder;return angular.isDefined(n)&&n[t]?n[t]:(e=angular.isDefined(r.uiMaskPlaceholderChar)&&r.uiMaskPlaceholderChar?r.uiMaskPlaceholderChar:"_","space"===e.toLowerCase()?" ":e[0])}function x(){var t,e,n=z.split("");D&&!isNaN(D[0])&&angular.forEach(D,function(t){n[t]="_"}),t=n.join(""),e=t.replace(/[_]+/g,"_").split("_"),e=e.filter(function(t){return""!==t});var i=0;return e.map(function(e){var n=t.indexOf(e,i);return i=n+1,{value:e,position:n}})}function b(t){var e=0;if(D=[],E=[],z="",angular.isString(t)){O=0;var n=!1,i=0,r=t.split(""),a=!1;angular.forEach(r,function(t,r){a?(a=!1,z+=t,e++):Z.escChar===t?a=!0:Z.maskDefinitions[t]?(D.push(e),z+=y(r-i),E.push(Z.maskDefinitions[t]),e++,n||O++,n=!1):"?"===t?(n=!0,i++):(z+=t,e++)})}D.push(D.slice().pop()+1),I=x(),X=D.length>1?!0:!1}function M(){if((Z.clearOnBlur||Z.clearOnBlurPlaceholder&&0===N.length&&r.placeholder)&&(G=0,j=0,B&&0!==N.length||(R="",i.val(""),t.$apply(function(){a.$pristine||a.$setViewValue("")}))),N!==K){var e=i.val(),n=""===N&&e&&angular.isDefined(r.uiMaskPlaceholderChar)&&"space"===r.uiMaskPlaceholderChar;n&&i.val(""),w(i[0]),n&&i.val(e)}K=N}function w(t){var e;if(angular.isFunction(window.Event)&&!t.fireEvent)try{e=new Event("change",{view:window,bubbles:!0,cancelable:!1})}catch(n){e=document.createEvent("HTMLEvents"),e.initEvent("change",!1,!0)}finally{t.dispatchEvent(e)}else"createEvent"in document?(e=document.createEvent("HTMLEvents"),e.initEvent("change",!1,!0),t.dispatchEvent(e)):t.fireEvent&&t.fireEvent("onchange")}function k(t){"mousedown"===t.type?i.bind("mouseout",S):i.unbind("mouseout",S)}function S(){j=L(this),i.unbind("mouseout",S)}function C(t){var e=8===t.which,n=T(this)-1||0,r=90===t.which&&t.ctrlKey;if(e){for(;n>=0;){if(P(n)){_(this,n+1);break}n--}F=-1===n}r&&(i.val(""),t.preventDefault())}function A(e){e=e||{};var n=e.which,r=e.type;if(16!==n&&91!==n){var o,s=i.val(),h=H,l=!1,u=m(s),c=W,d=T(this)||0,f=G||0,p=d-f,g=D[0],y=D[u.length]||D.slice().shift(),x=j||0,b=L(this)>0,M=x>0,w=s.length>h.length||x&&s.length>h.length-x,k=s.length<h.length||x&&s.length===h.length-x,S=n>=37&&40>=n&&e.shiftKey,C=37===n,A=8===n||"keyup"!==r&&k&&-1===p,E=46===n||"keyup"!==r&&k&&0===p&&!M,I=(C||A||"click"===r)&&d>g;if(j=L(this),!S&&(!b||"click"!==r&&"keyup"!==r&&"focus"!==r)){if(A&&F)return i.val(z),t.$apply(function(){a.$setViewValue("")}),void _(this,f);if("input"===r&&k&&!M&&u===c){for(;A&&d>g&&!P(d);)d--;for(;E&&y>d&&-1===D.indexOf(d);)d++;var O=D.indexOf(d);u=u.substring(0,O)+u.substring(O+1),u!==c&&(l=!0)}for(o=v(u),H=o,W=u,!l&&s.length>o.length&&(l=!0),i.val(o),l&&t.$apply(function(){a.$setViewValue(o)}),w&&g>=d&&(d=g+1),I&&d--,d=d>y?y:g>d?g:d;!P(d)&&d>g&&y>d;)d+=I?-1:1;(I&&y>d||w&&!P(f))&&d++,G=d,_(this,d)}}}function P(t){return D.indexOf(t)>-1}function T(t){if(!t)return 0;if(void 0!==t.selectionStart)return t.selectionStart;if(document.selection&&e(i[0])){t.focus();var n=document.selection.createRange();return n.moveStart("character",t.value?-t.value.length:0),n.text.length}return 0}function _(t,n){if(!t)return 0;if(0!==t.offsetWidth&&0!==t.offsetHeight)if(t.setSelectionRange)e(i[0])&&(t.focus(),t.setSelectionRange(n,n));else if(t.createTextRange){var r=t.createTextRange();r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",n),r.select()}}function L(t){return t?void 0!==t.selectionStart?t.selectionEnd-t.selectionStart:window.getSelection?window.getSelection().toString().length:document.selection?document.selection.createRange().text.length:0:0}var D,E,z,I,O,N,R,B,H,W,G,j,F,X=!1,Y=!1,q=r.placeholder,V=r.maxlength,U=a.$isEmpty;a.$isEmpty=function(t){return U(X?m(t||""):t)};var $=!1;r.$observe("modelViewValue",function(t){"true"===t&&($=!0)}),r.$observe("allowInvalidValue",function(t){Z.allowInvalidValue=""===t?!0:!!t,l(a.$modelValue)});var Z={};r.uiOptions?(Z=t.$eval("["+r.uiOptions+"]"),Z=angular.isObject(Z[0])?function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(void 0===e[n]?e[n]=angular.copy(t[n]):angular.isObject(e[n])&&!angular.isArray(e[n])&&(e[n]=angular.extend({},t[n],e[n])));return e}(n,Z[0]):n):Z=n,r.$observe("uiMask",o),angular.isDefined(r.uiMaskPlaceholder)?r.$observe("uiMaskPlaceholder",s):r.$observe("placeholder",s),angular.isDefined(r.uiMaskPlaceholderChar)&&r.$observe("uiMaskPlaceholderChar",h),a.$formatters.unshift(l),a.$parsers.unshift(u);var K=i.val();i.bind("mousedown mouseup",k),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>1&&(i=Number(arguments[1]),i!==i?i=0:0!==i&&1/0!==i&&i!==-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);n>r;r++)if(r in e&&e[r]===t)return r;return-1})}}}}])}(),jQuery.fn.mergeCol=function(t,e){return this.each(function(){var n,i,r,a,o,s,h,l=$(this).find("tr");l.each(function(){h=$(this).find("td"),h.eq(t).each(function(){r=$(n),a=$(this),o=a.prev(),s=r.prev();var h=o.attr("style")||"";null!==n&&void 0!==n&&a.text()==$(n).text()&&(!t||t&&o.text()==s.text()&&h.indexOf("display: none")>-1)?(i=r.attr("rowSpan"),void 0===i&&(i=1),i=Number(i)+1,r.attr("rowSpan",i),a.hide(),r.height(e*i-1)):n=this})})})},jQuery.fn.mergeRow=function(t,e,n){return e=e||0,this.each(function(){var i,r,a,o,s=this;$("tr",s).filter(":eq("+t+")").each(function(){$(this).find("th").each(function(h){var l=$("tr",s).eq(t-1).find("th");if(o=$(i),null!==i&&h>e&&void 0!==i&&$(this).text()===o.text()){var u=l.eq(h).attr("style")||"",c=l.eq(h-1).attr("style")||"";if(t&&!(t&&l.eq(h).text()===l.eq(h-1).text()&&+u.indexOf("display: none")<0+(+c.indexOf("display: none")<0)<2))return;if(r=o.attr("colSpan"),a=o.attr("rowSpan"),a>1)return void(i=this);if(void 0===r&&(r=1),r=Number(r)+1,o.attr("colSpan",r),$(this).hide(),n){var d=Number(o.width()),f=o.find(".fht-cell"),p=$('<div class="fht-cell" style="width:'+(d+1)+'px;"></div>');p=f.length?f.css("width",d+1):f,o.append(p)}}else i=this;i=null===i?this:i})})})},!function(t){var e=-1,n=0,i={_getScrollbarWidth:function(){var t=0;if(!t){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",document.body.appendChild(e);var n=e.offsetWidth;e.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",e.appendChild(i);var r=i.offsetWidth;t=n-r,e.parentNode.removeChild(e)}return t}},r=i._getScrollbarWidth();t.fn.fixedHeaderTable=function(i){var a={width:"100%",height:"100%",themeClass:"fht-default",borderCollapse:!0,fixedColumns:0,fixedColumn:!1,sortable:!1,autoShow:!0,footer:!1,cloneHeadToFoot:!1,autoResize:!1,create:null},o={},s={init:function(e){o=t.extend({},a,e),t(this),s.setup.apply(this,Array.prototype.slice.call(arguments,1)),t.isFunction(o.create)&&o.create.call(this)},setup:function(){var e,i,r,a,l,u=t(this),c=this,d=u.find("thead"),f=u.find("tfoot"),p=0;o.originalTable=t(this).clone(),o.includePadding=!0,o.scrollbarOffset=h._getScrollbarWidth(),o.themeClassName=o.themeClass,l=o.width.search("%")>-1?u.parent().width()-o.scrollbarOffset:o.width-o.scrollbarOffset,u.css({width:l}),u.closest(".fht-table-wrapper").length||(u.addClass("fht-table"),u.wrap('<div class="fht-table-wrapper"></div>')),e=u.closest(".fht-table-wrapper"),1==o.fixedColumn&&o.fixedColumns<=0&&(o.fixedColumns=1),o.fixedColumns>0&&0==e.find(".fht-fixed-column").length&&(u.wrap('<div class="fht-fixed-body"></div>'),t('<div class="fht-fixed-column"></div>').prependTo(e),a=e.find(".fht-fixed-body")),e.css({width:o.width,height:o.height}).addClass(o.themeClassName),u.hasClass("fht-table-init")||u.wrap('<div class="fht-tbody"></div>'),r=u.closest(".fht-tbody");var g=h._getTableProps(u);h._setupClone(r,g.tbody),u.hasClass("fht-table-init")?i=e.find("div.fht-thead"):(i=t('<div class="fht-thead"><table class="fht-table"></table></div>').prependTo(o.fixedColumns>0?a:e),i.find("table.fht-table").addClass(o.originalTable.attr("class")).attr("style",o.originalTable.attr("style")),d.clone().appendTo(i.find("table"))),h._setupClone(i,g.thead),u.css({"margin-top":-i.outerHeight(!0)+n}),1==o.footer&&(h._setupTableFooter(u,c,g),f.length||(f=e.find("div.fht-tfoot table")),p=f.outerHeight(!0));var m=e.height()-d.outerHeight(!0)-p-g.border;return r.css({height:m}),u.addClass("fht-table-init"),"undefined"!=typeof o.altClass&&s.altRows.apply(c),o.fixedColumns>0&&h._setupFixedColumn(u,c,g),o.autoShow||e.hide(),h._bindScroll(r,g,o.$elem),c},resize:function(){var t=this;return t},altRows:function(e){var n=t(this),i="undefined"!=typeof e?e:o.altClass;n.closest(".fht-table-wrapper").find("tbody tr:odd:not(:hidden)").addClass(i)},show:function(e,n,i){var r=t(this),a=this,o=r.closest(".fht-table-wrapper");return"undefined"!=typeof e&&"number"==typeof e?(o.show(e,function(){t.isFunction(n)&&n.call(this)}),a):"undefined"!=typeof e&&"string"==typeof e&&"undefined"!=typeof n&&"number"==typeof n?(o.show(e,n,function(){t.isFunction(i)&&i.call(this)}),a):(r.closest(".fht-table-wrapper").show(),t.isFunction(e)&&e.call(this),a)},hide:function(e,n,i){var r=t(this),a=this,o=r.closest(".fht-table-wrapper");return"undefined"!=typeof e&&"number"==typeof e?(o.hide(e,function(){t.isFunction(i)&&i.call(this)}),a):"undefined"!=typeof e&&"string"==typeof e&&"undefined"!=typeof n&&"number"==typeof n?(o.hide(e,n,function(){t.isFunction(i)&&i.call(this)}),a):(r.closest(".fht-table-wrapper").hide(),t.isFunction(i)&&i.call(this),a)},destroy:function(){var e=t(this),n=this,i=e.closest(".fht-table-wrapper");return e.insertBefore(i).removeAttr("style").append(i.find("tfoot")).removeClass("fht-table fht-table-init").find(".fht-cell").remove(),i.remove(),n}},h={_bindScroll:function(t,e,n){var i=t,r=i.closest(".fht-table-wrapper"),a=i.siblings(".fht-thead"),s=i.siblings(".fht-tfoot");i.bind("scroll",function(){if(!n||(n.attr("data-scrolling-right","true"),n.attr("data-scrolling-fixed","false"),"true"!==n.attr("data-scrolling-fixed"))){if(o.fixedColumns>0){var t=r.find(".fht-fixed-column");t.find(".fht-tbody").scrollTop(i.scrollTop())}a.find("table").css({"margin-left":-this.scrollLeft}),(o.footer||o.cloneHeadToFoot)&&s.find("table").css({"margin-left":-this.scrollLeft}),i.find(".J-table-load-more").css({"margin-left":this.scrollLeft})}})},_fixWidthWithCss:function(e,n,i){o.includePadding=!0,e.each(o.includePadding?function(){t(this).css({width:void 0==i?t(this).width()+n.border:i+n.border})}:function(){t(this).css({width:void 0==i?t(this).parent().width()+n.border:i+n.border})})},_setupFixedColumn:function(n,i,r){var a,s,l,u,c,d=n,f=d.closest(".fht-table-wrapper"),p=f.find(".fht-fixed-body"),g=f.find(".fht-fixed-column"),m=t('<div class="fht-thead"><table class="fht-table"><thead></thead></table></div>'),v=t('<div class="fht-tbody"><table class="fht-table"><tbody></tbody></table></div>'),y=t('<div class="fht-tfoot"><table class="fht-table"><tfoot><tr></tr></tfoot></table></div>'),x=f.width(),b=p.find(".fht-tbody").height()-o.scrollbarOffset;f.find(".fht-table-init").parents(".fht-fixed-body").width()<=f.width()&&(b+=o.scrollbarOffset),m.find("table.fht-table").addClass(o.originalTable.attr("class")),v.find("table.fht-table").addClass(o.originalTable.attr("class")),y.find("table.fht-table").addClass(o.originalTable.attr("class"));var M=p.find(".fht-thead thead"),w=M.find("tr");a=M.find("tr > *:lt("+o.fixedColumns+")"),l=o.fixedColumns*r.border,a.each(function(){l+=t(this).outerWidth(!0)}),h._fixWidthWithCss(a,r);var k=[];a.each(function(){k.push(t(this).width())}),c="tbody tr > *:not(:nth-child(n+"+(o.fixedColumns+1)+"))",s=p.find(c).each(function(e){h._fixWidthWithCss(t(this),r,k[e%o.fixedColumns])}),m.appendTo(g);for(var S=0;S<w.length;S++)t("<tr>").append(w.eq(S).find("th:lt("+o.fixedColumns+")").clone()).appendTo(m.find("thead"));v.appendTo(g).css({"margin-top":e,height:b+r.border+2}),s.each(function(e){e%o.fixedColumns==0&&(u=t("<tr></tr>").appendTo(v.find("tbody")),o.altClass&&t(this).parent().hasClass(o.altClass)&&u.addClass(o.altClass)),t(this).clone().appendTo(u),(e+1)%o.fixedColumns==0&&u.append('<td class="fht-empty-cell">&nbsp;</td>')}),g.css({height:0,width:l});var C=g.find(".fht-tbody .fht-table").height()-g.find(".fht-tbody").height();if(g.find(".fht-tbody .fht-table").bind("mousewheel",function(e,n,i,r){if(0!=r){var a=parseInt(t(this).css("marginTop"),10)+(r>0?120:-120);return a>0&&(a=0),-C>a&&(a=-C),t(this).css("marginTop",a),p.find(".fht-tbody").scrollTop(-a).scroll(),!1}}),p.css({width:x}),1==o.footer||1==o.cloneHeadToFoot){var A,P=p.find(".fht-tfoot tr > *:lt("+o.fixedColumns+")");y.appendTo(g).find("tr").append(P.clone()),A=y.find("table").innerWidth(),y.css({top:o.scrollbarOffset,width:A})}},_setupTableFooter:function(e,n,i){var r=e,a=r.closest(".fht-table-wrapper"),s=r.find("tfoot"),l=a.find("div.fht-tfoot");switch(l.length||(l=t('<div class="fht-tfoot"><table class="fht-table"></table></div>').appendTo(o.fixedColumns>0?a.find(".fht-fixed-body"):a)),l.find("table.fht-table").addClass(o.originalTable.attr("class")),!0){case!s.length&&1==o.cloneHeadToFoot&&1==o.footer:var u=a.find("div.fht-thead");l.empty(),u.find("table").clone().appendTo(l);break;case s.length&&0==o.cloneHeadToFoot&&1==o.footer:l.find("table").append(s).css({"margin-top":-i.border}),h._setupClone(l,i.tfoot)}},_getTableProps:function(e){var n={thead:{},tbody:{},tfoot:{},border:0},i=1;return 1==o.borderCollapse&&(i=2),n.border=1,e.find("thead tr:first-child > *").each(function(e){n.thead[e]=t(this).width()+n.border}),n.tbody=n.thead,n.tfoot=n.thead,n},_setupClone:function(e,n){var i,r=e,a=r.find("thead").length?"thead tr:first-child > *":r.find("tfoot").length?"tfoot tr:first-child > *":"tbody tr:first-child > *";r.find(a).each(function(e){i=t(this).find("div.fht-cell").length?t(this).find("div.fht-cell"):t('<div class="fht-cell"></div>').appendTo(t(this)),i.css({width:parseInt(n[e],10)})})},existHorizonScrollbar:function(t){var e=t[0];return e.offsetHeight-e.clientHeight>0?!0:void 0},_getScrollbarWidth:function(){return r}};return s[i]?s[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error('Method "'+i+'" does not exist in fixedHeaderTable plugin!'):s.init.apply(this,arguments)}}(jQuery)}();